(window.webpackJsonp=window.webpackJsonp||[]).push([[7],Array(61).concat([function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var r=n(86)(Object,"create");e.exports=r},function(e,t,n){var r=n(104);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(197);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},,,,,,,,,,,,,,,,function(e,t,n){var r=n(61),i=n(168),o=n(172),a=n(201);e.exports=function(e,t){return r(e)?e:i(e,t)?[e]:o(a(e))}},function(e,t,n){var r=n(82),i=n(85),o="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||i(e)&&r(e)==o}},function(e,t,n){var r=n(83),i=n(170),o=n(171),a="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:l&&l in Object(e)?i(e):o(e)}},function(e,t,n){var r=n(84).Symbol;e.exports=r},function(e,t,n){var r=n(169),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(179),i=n(184);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(81),i=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-i?"-0":t}},,,,,,,,,,,,,,,,function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(213);e.exports=function(e,t,n){return null==e?e:r(e,t,n)}},,,,function(e,t){e.exports={isFunction:function(e){return"function"==typeof e},isArray:function(e){return"[object Array]"===Object.prototype.toString.apply(e)},each:function(e,t){for(var n=0,r=e.length;n<r&&!1!==t(e[n],n);n++);}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r=n(166),i=n(167);e.exports=function(e,t){return null!=e&&i(e,t,r)}},function(e,t){var n=Object.prototype.hasOwnProperty;e.exports=function(e,t){return null!=e&&n.call(e,t)}},function(e,t,n){var r=n(80),i=n(204),o=n(61),a=n(105),s=n(206),l=n(88);e.exports=function(e,t,n){for(var u=-1,c=(t=r(t,e)).length,f=!1;++u<c;){var d=l(t[u]);if(!(f=null!=e&&n(e,d)))break;e=e[d]}return f||++u!=c?f:!!(c=null==e?0:e.length)&&s(c)&&a(d,c)&&(o(e)||i(e))}},function(e,t,n){var r=n(61),i=n(81),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!i(e))||a.test(e)||!o.test(e)||null!=t&&e in Object(t)}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(18))},function(e,t,n){var r=n(83),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,o=n(173)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,r,o){t.push(r?o.replace(i,"$1"):n||e)}),t});e.exports=o},function(e,t,n){var r=n(174),i=500;e.exports=function(e){var t=r(e,function(e){return n.size===i&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(175),i="Expected a function";function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(o.Cache||r),n}o.Cache=r,e.exports=o},function(e,t,n){var r=n(176),i=n(196),o=n(198),a=n(199),s=n(200);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(177),i=n(189),o=n(195);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},function(e,t,n){var r=n(178),i=n(185),o=n(186),a=n(187),s=n(188);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(62);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(180),i=n(181),o=n(87),a=n(183),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,f=u.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},function(e,t,n){var r=n(82),i=n(87),o="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==a||t==s||t==o||t==l}},function(e,t,n){var r=n(182),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},function(e,t,n){var r=n(84)["__core-js_shared__"];e.exports=r},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(62),i="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(62),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(62),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}},function(e,t,n){var r=n(190),i=n(191),o=n(192),a=n(193),s=n(194);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=o,l.prototype.has=a,l.prototype.set=s,e.exports=l},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(63),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(63);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(63);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(63);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(86)(n(84),"Map");e.exports=r},function(e,t,n){var r=n(64);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(64);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(64);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(64);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t,n){var r=n(202);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(83),i=n(203),o=n(61),a=n(81),s=1/0,l=r?r.prototype:void 0,u=l?l.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(o(t))return i(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var r=n(205),i=n(85),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t,n){var r=n(82),i=n(85),o="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==o}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){"use strict";var r=n(0),i=n(208);if(void 0===r)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var o=(new r.Component).updater;e.exports=i(r.Component,r.isValidElement,o)},function(e,t,n){"use strict";var r=n(10),i=n(209),o=n(210),a="mixins";e.exports=function(e,t,n){var s=[],l={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},u={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},c={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)d(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=r({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=r({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=h(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=r({},e.propTypes,t)},statics:function(e,t){!function(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in c;o(!i,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',n);var a=n in e;if(a){var s=u.hasOwnProperty(n)?u[n]:null;return o("DEFINE_MANY_MERGED"===s,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",n),void(e[n]=h(e[n],r))}e[n]=r}}}(e,t)},autobind:function(){}};function f(e,t){var n=l.hasOwnProperty(t)?l[t]:null;b.hasOwnProperty(t)&&o("OVERRIDE_BASE"===n,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t),e&&o("DEFINE_MANY"===n||"DEFINE_MANY_MERGED"===n,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t)}function d(e,n){if(n){o("function"!=typeof n,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),o(!t(n),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var r=e.prototype,i=r.__reactAutoBindPairs;for(var s in n.hasOwnProperty(a)&&c.mixins(e,n.mixins),n)if(n.hasOwnProperty(s)&&s!==a){var u=n[s],d=r.hasOwnProperty(s);if(f(d,s),c.hasOwnProperty(s))c[s](e,u);else{var p=l.hasOwnProperty(s);if("function"!=typeof u||p||d||!1===n.autobind)if(d){var m=l[s];o(p&&("DEFINE_MANY_MERGED"===m||"DEFINE_MANY"===m),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",m,s),"DEFINE_MANY_MERGED"===m?r[s]=h(r[s],u):"DEFINE_MANY"===m&&(r[s]=v(r[s],u))}else r[s]=u;else i.push(s,u),r[s]=u}}}}function p(e,t){for(var n in o(e&&t&&"object"==typeof e&&"object"==typeof t,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),t)t.hasOwnProperty(n)&&(o(void 0===e[n],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",n),e[n]=t[n]);return e}function h(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return p(i,n),p(i,r),i}}function v(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function m(e,t){return t.bind(e)}var g={componentDidMount:function(){this.__isMounted=!0}},y={componentWillUnmount:function(){this.__isMounted=!1}},b={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e,t)},isMounted:function(){return!!this.__isMounted}},x=function(){};return r(x.prototype,e.prototype,b),function(e){var t=function(e){return e}(function(e,r,a){this.__reactAutoBindPairs.length&&function(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=m(e,i)}}(this),this.props=e,this.context=r,this.refs=i,this.updater=a||n,this.state=null;var s=this.getInitialState?this.getInitialState():null;o("object"==typeof s&&!Array.isArray(s),"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"),this.state=s});for(var r in t.prototype=new x,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],s.forEach(d.bind(null,t)),d(t,g),d(t,e),d(t,y),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),o(t.prototype.render,"createClass(...): Class specification must implement a `render` method."),l)t.prototype[r]||(t.prototype[r]=null);return t}}},function(e,t,n){"use strict";e.exports={}},function(e,t,n){"use strict";var r=function(e){};e.exports=function(e,t,n,i,o,a,s,l){if(r(t),!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,i,o,a,s,l],f=0;(u=new Error(t.replace(/%s/g,function(){return c[f++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}}},function(e,t,n){var r=n(212);e.exports=function(e,t,n){var i=null==e?void 0:r(e,t);return void 0===i?n:i}},function(e,t,n){var r=n(80),i=n(88);e.exports=function(e,t){for(var n=0,o=(t=r(t,e)).length;null!=e&&n<o;)e=e[i(t[n++])];return n&&n==o?e:void 0}},function(e,t,n){var r=n(214),i=n(80),o=n(105),a=n(87),s=n(88);e.exports=function(e,t,n,l){if(!a(e))return e;for(var u=-1,c=(t=i(t,e)).length,f=c-1,d=e;null!=d&&++u<c;){var p=s(t[u]),h=n;if(u!=f){var v=d[p];void 0===(h=l?l(v,p,d):void 0)&&(h=a(v)?v:o(t[u+1])?[]:{})}r(d,p,h),d=d[p]}return e}},function(e,t,n){var r=n(215),i=n(104),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n){var a=e[t];o.call(e,t)&&i(a,n)&&(void 0!==n||t in e)||r(e,t,n)}},function(e,t,n){var r=n(216);e.exports=function(e,t,n){"__proto__"==t&&r?r(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}},function(e,t,n){var r=n(86),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t){e.exports=function(e,t){if(!e.length)return[];if(1===e.length)return e.slice(0);for(var n=[e[0]],r=1,i=e.length;r<i;++r)n.push(t,e[r]);return n}},,function(e,t,n){var r=n(220);e.exports=new r},function(e,t,n){var r=n(221),i=n(110),o=i.each,a=i.isFunction,s=i.isArray;function l(){if(!window.matchMedia)throw new Error("matchMedia not present, legacy browsers require a polyfill");this.queries={},this.browserIsIncapable=!window.matchMedia("only all").matches}l.prototype={constructor:l,register:function(e,t,n){var i=this.queries,l=n&&this.browserIsIncapable;return i[e]||(i[e]=new r(e,l)),a(t)&&(t={match:t}),s(t)||(t=[t]),o(t,function(t){a(t)&&(t={match:t}),i[e].addHandler(t)}),this},unregister:function(e,t){var n=this.queries[e];return n&&(t?n.removeHandler(t):(n.clear(),delete this.queries[e])),this}},e.exports=l},function(e,t,n){var r=n(222),i=n(110).each;function o(e,t){this.query=e,this.isUnconditional=t,this.handlers=[],this.mql=window.matchMedia(e);var n=this;this.listener=function(e){n.mql=e.currentTarget||e,n.assess()},this.mql.addListener(this.listener)}o.prototype={constuctor:o,addHandler:function(e){var t=new r(e);this.handlers.push(t),this.matches()&&t.on()},removeHandler:function(e){var t=this.handlers;i(t,function(n,r){if(n.equals(e))return n.destroy(),!t.splice(r,1)})},matches:function(){return this.mql.matches||this.isUnconditional},clear:function(){i(this.handlers,function(e){e.destroy()}),this.mql.removeListener(this.listener),this.handlers.length=0},assess:function(){var e=this.matches()?"on":"off";i(this.handlers,function(t){t[e]()})}},e.exports=o},function(e,t){function n(e){this.options=e,!e.deferSetup&&this.setup()}n.prototype={constructor:n,setup:function(){this.options.setup&&this.options.setup(),this.initialised=!0},on:function(){!this.initialised&&this.setup(),this.options.match&&this.options.match()},off:function(){this.options.unmatch&&this.options.unmatch()},destroy:function(){this.options.destroy?this.options.destroy():this.off()},equals:function(e){return this.options===e||this.options.match===e}},e.exports=n},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(39),i=n.n(r),o=n(45),a=n.n(o),s=n(40),l=n.n(s),u=n(43),c=n.n(u),f=n(41),d=n.n(f),p=n(42),h=n.n(p),v=n(0),m=n(5),g=n(1),y=n(44),b=n.n(y),x=n(103),F=void 0,w=function(e){function t(){l()(this,t);var e=d()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onClick=function(t,n){if(!(t.className.indexOf("-leave")>=0)){var r=e.props.insertExtraNode;e.extraNode=document.createElement("div");var i=e.extraNode;i.className="ant-click-animating-node";var o=e.getAttributeName();t.removeAttribute(o),t.setAttribute(o,"true"),F=F||document.createElement("style"),n&&"#ffffff"!==n&&"rgb(255, 255, 255)"!==n&&e.isNotGrey(n)&&!/rgba\(\d*, \d*, \d*, 0\)/.test(n)&&"transparent"!==n&&(i.style.borderColor=n,F.innerHTML="[ant-click-animating-without-extra-node]:after { border-color: "+n+"; }",document.body.contains(F)||document.body.appendChild(F)),r&&t.appendChild(i),x.a.addEndEventListener(t,e.onTransitionEnd)}},e.bindAnimationEvent=function(t){if(t&&t.getAttribute&&!t.getAttribute("disabled")&&!(t.className.indexOf("disabled")>=0)){var n=function(n){if("INPUT"!==n.target.tagName){e.resetEffect(t);var r=getComputedStyle(t).getPropertyValue("border-top-color")||getComputedStyle(t).getPropertyValue("border-color")||getComputedStyle(t).getPropertyValue("background-color");e.clickWaveTimeoutId=window.setTimeout(function(){return e.onClick(t,r)},0)}};return t.addEventListener("click",n,!0),{cancel:function(){t.removeEventListener("click",n,!0)}}}},e.onTransitionEnd=function(t){t&&"fadeEffect"===t.animationName&&e.resetEffect(t.target)},e}return h()(t,e),c()(t,[{key:"isNotGrey",value:function(e){var t=(e||"").match(/rgba?\((\d*), (\d*), (\d*)(, [\.\d]*)?\)/);return!(t&&t[1]&&t[2]&&t[3])||!(t[1]===t[2]&&t[2]===t[3])}},{key:"getAttributeName",value:function(){return this.props.insertExtraNode?"ant-click-animating":"ant-click-animating-without-extra-node"}},{key:"resetEffect",value:function(e){if(e&&e!==this.extraNode){var t=this.props.insertExtraNode,n=this.getAttributeName();e.removeAttribute(n),this.removeExtraStyleNode(),t&&this.extraNode&&e.contains(this.extraNode)&&e.removeChild(this.extraNode),x.a.removeEndEventListener(e,this.onTransitionEnd)}}},{key:"removeExtraStyleNode",value:function(){F&&(F.innerHTML="")}},{key:"componentDidMount",value:function(){this.instance=this.bindAnimationEvent(Object(m.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.instance&&this.instance.cancel(),this.clickWaveTimeoutId&&clearTimeout(this.clickWaveTimeoutId)}},{key:"render",value:function(){return this.props.children}}]),t}(v.Component),E=n(6),N=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n},C=/^[\u4e00-\u9fa5]{2}$/,O=C.test.bind(C);var _=function(e){function t(e){l()(this,t);var n=d()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=function(e){var t=n.props.onClick;t&&t(e)},n.state={loading:e.loading,hasTwoCNChar:!1},n}return h()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.fixTwoCNChar()}},{key:"componentWillReceiveProps",value:function(e){var t=this,n=this.props.loading,r=e.loading;n&&clearTimeout(this.delayTimeout),"boolean"!=typeof r&&r&&r.delay?this.delayTimeout=window.setTimeout(function(){return t.setState({loading:r})},r.delay):this.setState({loading:r})}},{key:"componentDidUpdate",value:function(){this.fixTwoCNChar()}},{key:"componentWillUnmount",value:function(){this.delayTimeout&&clearTimeout(this.delayTimeout)}},{key:"fixTwoCNChar",value:function(){var e=Object(m.findDOMNode)(this),t=e.textContent||e.innerText;this.isNeedInserted()&&O(t)?this.state.hasTwoCNChar||this.setState({hasTwoCNChar:!0}):this.state.hasTwoCNChar&&this.setState({hasTwoCNChar:!1})}},{key:"isNeedInserted",value:function(){var e=this.props,t=e.icon,n=e.children;return 1===v.Children.count(n)&&!t}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.type,o=n.shape,s=n.size,l=n.className,u=n.children,c=n.icon,f=n.prefixCls,d=n.ghost,p=(n.loading,n.block),h=N(n,["type","shape","size","className","children","icon","prefixCls","ghost","loading","block"]),m=this.state,g=m.loading,y=m.hasTwoCNChar,x="";switch(s){case"large":x="lg";break;case"small":x="sm"}var F=new Date,C=11===F.getMonth()&&25===F.getDate(),_=b()(f,l,(e={},a()(e,f+"-"+r,r),a()(e,f+"-"+o,o),a()(e,f+"-"+x,x),a()(e,f+"-icon-only",!u&&c),a()(e,f+"-loading",g),a()(e,f+"-background-ghost",d),a()(e,f+"-two-chinese-chars",y),a()(e,f+"-block",p),a()(e,"christmas",C),e)),k=g?"loading":c,S=k?v.createElement(E.a,{type:k}):null,A=u||0===u?v.Children.map(u,function(e){return function(e,t){if(null!=e){var n=t?" ":"";return"string"!=typeof e&&"number"!=typeof e&&function(e){return"string"==typeof e}(e.type)&&O(e.props.children)?v.cloneElement(e,{},e.props.children.split("").join(n)):"string"==typeof e?(O(e)&&(e=e.split("").join(n)),v.createElement("span",null,e)):e}}(e,t.isNeedInserted())}):null,P=C?"Ho Ho Ho!":h.title;if("href"in h)return v.createElement("a",i()({},h,{className:_,onClick:this.handleClick,title:P}),S,A);var j=h.htmlType,M=N(h,["htmlType"]);return v.createElement(w,null,v.createElement("button",i()({},M,{type:j||"button",className:_,onClick:this.handleClick,title:P}),S,A))}}]),t}(v.Component),k=_;_.__ANT_BUTTON=!0,_.defaultProps={prefixCls:"ant-btn",loading:!1,ghost:!1,block:!1},_.propTypes={type:g.string,shape:g.oneOf(["circle","circle-outline"]),size:g.oneOf(["large","default","small"]),htmlType:g.oneOf(["submit","button","reset"]),onClick:g.func,loading:g.oneOfType([g.bool,g.object]),className:g.string,icon:g.string,block:g.bool};var S=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n},A=function(e){var t=e.prefixCls,n=void 0===t?"ant-btn-group":t,r=e.size,o=e.className,s=S(e,["prefixCls","size","className"]),l="";switch(r){case"large":l="lg";break;case"small":l="sm"}var u=b()(n,a()({},n+"-"+l,l),o);return v.createElement("div",i()({},s,{className:u}))};k.Group=A;t.a=k},function(e,t,n){"use strict";var r=n(39),i=n.n(r),o=n(45),a=n.n(o),s=n(40),l=n.n(s),u=n(43),c=n.n(u),f=n(41),d=n.n(f),p=n(42),h=n.n(p),v=n(0),m=n.n(v),g=n(1),y=n(44),b=n.n(y),x=n(5),F=n.n(x),w=n(79),E=n.n(w),N=n(165),C=n.n(N),O=n(49),_=n.n(O),k=n(47),S=n.n(k),A=n(78),P=n.n(A),j=n(207),M=n.n(j),T=/%[sdj%]/g,I=function(){};function V(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=1,i=t[0],o=t.length;if("function"==typeof i)return i.apply(null,t.slice(1));if("string"==typeof i){for(var a=String(i).replace(T,function(e){if("%%"===e)return"%";if(r>=o)return e;switch(e){case"%s":return String(t[r++]);case"%d":return Number(t[r++]);case"%j":try{return JSON.stringify(t[r++])}catch(e){return"[Circular]"}break;default:return e}}),s=t[r];r<o;s=t[++r])a+=" "+s;return a}return i}function q(e,t){return void 0===e||null===e||(!("array"!==t||!Array.isArray(e)||e.length)||!(!function(e){return"string"===e||"url"===e||"hex"===e||"email"===e||"pattern"===e}(t)||"string"!=typeof e||e))}function D(e,t,n){var r=0,i=e.length;!function o(a){if(a&&a.length)n(a);else{var s=r;r+=1,s<i?t(e[s],o):n([])}}([])}function R(e,t,n,r){if(t.first)return D(function(e){var t=[];return Object.keys(e).forEach(function(n){t.push.apply(t,e[n])}),t}(e),n,r);var i=t.firstFields||[];!0===i&&(i=Object.keys(e));var o=Object.keys(e),a=o.length,s=0,l=[],u=function(e){l.push.apply(l,e),++s===a&&r(l)};o.forEach(function(t){var r=e[t];-1!==i.indexOf(t)?D(r,n,u):function(e,t,n){var r=[],i=0,o=e.length;function a(e){r.push.apply(r,e),++i===o&&n(r)}e.forEach(function(e){t(e,a)})}(r,n,u)})}function z(e){return function(t){return t&&t.message?(t.field=t.field||e.fullField,t):{message:t,field:t.field||e.fullField}}}function Y(e,t){if(t)for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];"object"===(void 0===r?"undefined":S()(r))&&"object"===S()(e[n])?e[n]=i()({},e[n],r):e[n]=r}return e}var B=function(e,t,n,r,i,o){!e.required||n.hasOwnProperty(e.field)&&!q(t,o||e.type)||r.push(V(i.messages.required,e.fullField))};var W=function(e,t,n,r,i){(/^\s+$/.test(t)||""===t)&&r.push(V(i.messages.whitespace,e.fullField))},L={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,url:new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://|//)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},U={integer:function(e){return U.number(e)&&parseInt(e,10)===e},float:function(e){return U.number(e)&&!U.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch(e){return!1}},date:function(e){return"function"==typeof e.getTime&&"function"==typeof e.getMonth&&"function"==typeof e.getYear},number:function(e){return!isNaN(e)&&"number"==typeof e},object:function(e){return"object"===(void 0===e?"undefined":S()(e))&&!U.array(e)},method:function(e){return"function"==typeof e},email:function(e){return"string"==typeof e&&!!e.match(L.email)&&e.length<255},url:function(e){return"string"==typeof e&&!!e.match(L.url)},hex:function(e){return"string"==typeof e&&!!e.match(L.hex)}};var H="enum";var G={required:B,whitespace:W,type:function(e,t,n,r,i){if(e.required&&void 0===t)B(e,t,n,r,i);else{var o=e.type;["integer","float","array","regexp","object","method","email","number","date","url","hex"].indexOf(o)>-1?U[o](t)||r.push(V(i.messages.types[o],e.fullField,e.type)):o&&(void 0===t?"undefined":S()(t))!==e.type&&r.push(V(i.messages.types[o],e.fullField,e.type))}},range:function(e,t,n,r,i){var o="number"==typeof e.len,a="number"==typeof e.min,s="number"==typeof e.max,l=t,u=null,c="number"==typeof t,f="string"==typeof t,d=Array.isArray(t);if(c?u="number":f?u="string":d&&(u="array"),!u)return!1;d&&(l=t.length),f&&(l=t.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length),o?l!==e.len&&r.push(V(i.messages[u].len,e.fullField,e.len)):a&&!s&&l<e.min?r.push(V(i.messages[u].min,e.fullField,e.min)):s&&!a&&l>e.max?r.push(V(i.messages[u].max,e.fullField,e.max)):a&&s&&(l<e.min||l>e.max)&&r.push(V(i.messages[u].range,e.fullField,e.min,e.max))},enum:function(e,t,n,r,i){e[H]=Array.isArray(e[H])?e[H]:[],-1===e[H].indexOf(t)&&r.push(V(i.messages[H],e.fullField,e[H].join(", ")))},pattern:function(e,t,n,r,i){e.pattern&&(e.pattern instanceof RegExp?(e.pattern.lastIndex=0,e.pattern.test(t)||r.push(V(i.messages.pattern.mismatch,e.fullField,t,e.pattern))):"string"==typeof e.pattern&&(new RegExp(e.pattern).test(t)||r.push(V(i.messages.pattern.mismatch,e.fullField,t,e.pattern))))}};var $="enum";var K=function(e,t,n,r,i){var o=e.type,a=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(q(t,o)&&!e.required)return n();G.required(e,t,r,a,i,o),q(t,o)||G.type(e,t,r,a,i)}n(a)},J={string:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(q(t,"string")&&!e.required)return n();G.required(e,t,r,o,i,"string"),q(t,"string")||(G.type(e,t,r,o,i),G.range(e,t,r,o,i),G.pattern(e,t,r,o,i),!0===e.whitespace&&G.whitespace(e,t,r,o,i))}n(o)},method:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(q(t)&&!e.required)return n();G.required(e,t,r,o,i),void 0!==t&&G.type(e,t,r,o,i)}n(o)},number:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(q(t)&&!e.required)return n();G.required(e,t,r,o,i),void 0!==t&&(G.type(e,t,r,o,i),G.range(e,t,r,o,i))}n(o)},boolean:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(q(t)&&!e.required)return n();G.required(e,t,r,o,i),void 0!==t&&G.type(e,t,r,o,i)}n(o)},regexp:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(q(t)&&!e.required)return n();G.required(e,t,r,o,i),q(t)||G.type(e,t,r,o,i)}n(o)},integer:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(q(t)&&!e.required)return n();G.required(e,t,r,o,i),void 0!==t&&(G.type(e,t,r,o,i),G.range(e,t,r,o,i))}n(o)},float:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(q(t)&&!e.required)return n();G.required(e,t,r,o,i),void 0!==t&&(G.type(e,t,r,o,i),G.range(e,t,r,o,i))}n(o)},array:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(q(t,"array")&&!e.required)return n();G.required(e,t,r,o,i,"array"),q(t,"array")||(G.type(e,t,r,o,i),G.range(e,t,r,o,i))}n(o)},object:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(q(t)&&!e.required)return n();G.required(e,t,r,o,i),void 0!==t&&G.type(e,t,r,o,i)}n(o)},enum:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(q(t)&&!e.required)return n();G.required(e,t,r,o,i),t&&G[$](e,t,r,o,i)}n(o)},pattern:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(q(t,"string")&&!e.required)return n();G.required(e,t,r,o,i),q(t,"string")||G.pattern(e,t,r,o,i)}n(o)},date:function(e,t,n,r,i){var o=[];if(e.required||!e.required&&r.hasOwnProperty(e.field)){if(q(t)&&!e.required)return n();if(G.required(e,t,r,o,i),!q(t)){var a=void 0;a="number"==typeof t?new Date(t):t,G.type(e,a,r,o,i),a&&G.range(e,a.getTime(),r,o,i)}}n(o)},url:K,hex:K,email:K,required:function(e,t,n,r,i){var o=[],a=Array.isArray(t)?"array":void 0===t?"undefined":S()(t);G.required(e,t,r,o,i,a),n(o)}};function Z(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var X=Z();function Q(e){this.rules=null,this._messages=X,this.define(e)}Q.prototype={messages:function(e){return e&&(this._messages=Y(Z(),e)),this._messages},define:function(e){if(!e)throw new Error("Cannot configure a schema with no rules");if("object"!==(void 0===e?"undefined":S()(e))||Array.isArray(e))throw new Error("Rules must be an object");this.rules={};var t=void 0,n=void 0;for(t in e)e.hasOwnProperty(t)&&(n=e[t],this.rules[t]=Array.isArray(n)?n:[n])},validate:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments[2],o=e,a=n,s=r;if("function"==typeof a&&(s=a,a={}),this.rules&&0!==Object.keys(this.rules).length){if(a.messages){var l=this.messages();l===X&&(l=Z()),Y(l,a.messages),a.messages=l}else a.messages=this.messages();var u=void 0,c=void 0,f={};(a.keys||Object.keys(this.rules)).forEach(function(n){u=t.rules[n],c=o[n],u.forEach(function(r){var a=r;"function"==typeof a.transform&&(o===e&&(o=i()({},o)),c=o[n]=a.transform(c)),(a="function"==typeof a?{validator:a}:i()({},a)).validator=t.getValidationMethod(a),a.field=n,a.fullField=a.fullField||n,a.type=t.getType(a),a.validator&&(f[n]=f[n]||[],f[n].push({rule:a,value:c,source:o,field:n}))})});var d={};R(f,a,function(e,t){var n=e.rule,r=!("object"!==n.type&&"array"!==n.type||"object"!==S()(n.fields)&&"object"!==S()(n.defaultField));function o(e,t){return i()({},t,{fullField:n.fullField+"."+e})}function s(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(Array.isArray(s)||(s=[s]),s.length&&I("async-validator:",s),s.length&&n.message&&(s=[].concat(n.message)),s=s.map(z(n)),a.first&&s.length)return d[n.field]=1,t(s);if(r){if(n.required&&!e.value)return s=n.message?[].concat(n.message).map(z(n)):a.error?[a.error(n,V(a.messages.required,n.field))]:[],t(s);var l={};if(n.defaultField)for(var u in e.value)e.value.hasOwnProperty(u)&&(l[u]=n.defaultField);for(var c in l=i()({},l,e.rule.fields))if(l.hasOwnProperty(c)){var f=Array.isArray(l[c])?l[c]:[l[c]];l[c]=f.map(o.bind(null,c))}var p=new Q(l);p.messages(a.messages),e.rule.options&&(e.rule.options.messages=a.messages,e.rule.options.error=a.error),p.validate(e.value,e.rule.options||a,function(e){t(e&&e.length?s.concat(e):e)})}else t(s)}r=r&&(n.required||!n.required&&e.value),n.field=e.field;var l=n.validator(n,e.value,s,e.source,a);l&&l.then&&l.then(function(){return s()},function(e){return s(e)})},function(e){!function(e){var t=void 0,n=void 0,r=[],i={};function o(e){Array.isArray(e)?r=r.concat.apply(r,e):r.push(e)}for(t=0;t<e.length;t++)o(e[t]);if(r.length)for(t=0;t<r.length;t++)i[n=r[t].field]=i[n]||[],i[n].push(r[t]);else r=null,i=null;s(r,i)}(e)})}else s&&s()},getType:function(e){if(void 0===e.type&&e.pattern instanceof RegExp&&(e.type="pattern"),"function"!=typeof e.validator&&e.type&&!J.hasOwnProperty(e.type))throw new Error(V("Unknown rule type %s",e.type));return e.type||"string"},getValidationMethod:function(e){if("function"==typeof e.validator)return e.validator;var t=Object.keys(e),n=t.indexOf("message");return-1!==n&&t.splice(n,1),1===t.length&&"required"===t[0]?J.required:J[this.getType(e)]||!1}},Q.register=function(e,t){if("function"!=typeof t)throw new Error("Cannot register a validator by type, validator is not a function");J[e]=t},Q.messages=X;var ee=Q,te=n(2),ne=n.n(te),re=n(211),ie=n.n(re),oe=n(106),ae=n.n(oe),se=function e(t){l()(this,e),i()(this,t)};function le(e){return e instanceof se}function ue(e){return le(e)?e:new se(e)}var ce=n(68),fe=n.n(ce);function de(e){return e}function pe(e,t,n){var r={};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments[1],r=arguments[2],i=arguments[3],o=arguments[4];if(r(t,n))o(t,n);else{if(void 0===n||null===n)return;if(Array.isArray(n))n.forEach(function(n,a){return e(t+"["+a+"]",n,r,i,o)});else{if("object"!==(void 0===n?"undefined":S()(n)))return void ne()(!1,i);Object.keys(n).forEach(function(a){var s=n[a];e(t+(t?".":"")+a,s,r,i,o)})}}}(void 0,e,t,n,function(e,t){r[e]=t}),r}function he(e,t,n){var r=e,i=t,o=n;return void 0===n&&("function"==typeof r?(o=r,i={},r=void 0):Array.isArray(r)?"function"==typeof i?(o=i,i={}):i=i||{}:(o=i,i=r||{},r=void 0)),{names:r,options:i,callback:o}}function ve(e){return 0===Object.keys(e).length}function me(e){return!!e&&e.some(function(e){return e.rules&&e.rules.length})}function ge(e,t){return 0===t.indexOf(e)&&-1!==[".","["].indexOf(t[e.length])}var ye=function(){function e(t){l()(this,e),be.call(this),this.fields=this.flattenFields(t),this.fieldsMeta={}}return c()(e,[{key:"updateFields",value:function(e){this.fields=this.flattenFields(e)}},{key:"flattenFields",value:function(e){return pe(e,function(e,t){return le(t)},"You must wrap field data with `createFormField`.")}},{key:"flattenRegisteredFields",value:function(e){var t=this.getAllFieldsName();return pe(e,function(e){return t.indexOf(e)>=0},"You cannot set a form field before rendering a field associated with the value.")}},{key:"setFields",value:function(e){var t=this,n=this.fieldsMeta,r=i()({},this.fields,e),o={};Object.keys(n).forEach(function(e){return o[e]=t.getValueFromFields(e,r)}),Object.keys(o).forEach(function(e){var n=o[e],a=t.getFieldMeta(e);if(a&&a.normalize){var s=a.normalize(n,t.getValueFromFields(e,t.fields),o);s!==n&&(r[e]=i()({},r[e],{value:s}))}}),this.fields=r}},{key:"resetFields",value:function(e){var t=this.fields;return(e?this.getValidFieldsFullName(e):this.getAllFieldsName()).reduce(function(e,n){var r=t[n];return r&&"value"in r&&(e[n]={}),e},{})}},{key:"setFieldMeta",value:function(e,t){this.fieldsMeta[e]=t}},{key:"getFieldMeta",value:function(e){return this.fieldsMeta[e]=this.fieldsMeta[e]||{},this.fieldsMeta[e]}},{key:"getValueFromFields",value:function(e,t){var n=t[e];if(n&&"value"in n)return n.value;var r=this.getFieldMeta(e);return r&&r.initialValue}},{key:"getValidFieldsName",value:function(){var e=this,t=this.fieldsMeta;return t?Object.keys(t).filter(function(t){return!e.getFieldMeta(t).hidden}):[]}},{key:"getAllFieldsName",value:function(){var e=this.fieldsMeta;return e?Object.keys(e):[]}},{key:"getValidFieldsFullName",value:function(e){var t=Array.isArray(e)?e:[e];return this.getValidFieldsName().filter(function(e){return t.some(function(t){return e===t||function(e,t){return 0===e.lastIndexOf(t,0)}(e,t)&&[".","["].indexOf(e[t.length])>=0})})}},{key:"getFieldValuePropValue",value:function(e){var t=e.name,n=e.getValueProps,r=e.valuePropName,i=this.getField(t),o="value"in i?i.value:e.initialValue;return n?n(o):a()({},r,o)}},{key:"getField",value:function(e){return i()({},this.fields[e],{name:e})}},{key:"getNotCollectedFields",value:function(){var e=this;return this.getValidFieldsName().filter(function(t){return!e.fields[t]}).map(function(t){return{name:t,dirty:!1,value:e.getFieldMeta(t).initialValue}}).reduce(function(e,t){return ae()(e,t.name,ue(t))},{})}},{key:"getNestedAllFields",value:function(){var e=this;return Object.keys(this.fields).reduce(function(t,n){return ae()(t,n,ue(e.fields[n]))},this.getNotCollectedFields())}},{key:"getFieldMember",value:function(e,t){return this.getField(e)[t]}},{key:"getNestedFields",value:function(e,t){return(e||this.getValidFieldsName()).reduce(function(e,n){return ae()(e,n,t(n))},{})}},{key:"getNestedField",value:function(e,t){var n=this.getValidFieldsFullName(e);if(0===n.length||1===n.length&&n[0]===e)return t(e);var r="["===n[0][e.length],i=r?e.length:e.length+1;return n.reduce(function(e,n){return ae()(e,n.slice(i),t(n))},r?[]:{})}},{key:"isValidNestedFieldName",value:function(e){return this.getAllFieldsName().every(function(t){return!ge(t,e)&&!ge(e,t)})}},{key:"clearField",value:function(e){delete this.fields[e],delete this.fieldsMeta[e]}}]),e}(),be=function(){var e=this;this.setFieldsInitialValue=function(t){var n=e.flattenRegisteredFields(t),r=e.fieldsMeta;Object.keys(n).forEach(function(t){r[t]&&e.setFieldMeta(t,i()({},e.getFieldMeta(t),{initialValue:n[t]}))})},this.getAllValues=function(){var t=e.fieldsMeta,n=e.fields;return Object.keys(t).reduce(function(t,r){return ae()(t,r,e.getValueFromFields(r,n))},{})},this.getFieldsValue=function(t){return e.getNestedFields(t,e.getFieldValue)},this.getFieldValue=function(t){var n=e.fields;return e.getNestedField(t,function(t){return e.getValueFromFields(t,n)})},this.getFieldsError=function(t){return e.getNestedFields(t,e.getFieldError)},this.getFieldError=function(t){return e.getNestedField(t,function(t){return function(e){return e?e.map(function(e){return e&&e.message?e.message:e}):e}(e.getFieldMember(t,"errors"))})},this.isFieldValidating=function(t){return e.getFieldMember(t,"validating")},this.isFieldsValidating=function(t){return(t||e.getValidFieldsName()).some(function(t){return e.isFieldValidating(t)})},this.isFieldTouched=function(t){return e.getFieldMember(t,"touched")},this.isFieldsTouched=function(t){return(t||e.getValidFieldsName()).some(function(t){return e.isFieldTouched(t)})}};var xe="onChange";var Fe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.validateMessages,r=e.onFieldsChange,o=e.onValuesChange,s=e.mapProps,l=void 0===s?de:s,u=e.mapPropsToFields,c=e.fieldNameProp,f=e.fieldMetaProp,d=e.fieldDataProp,p=e.formPropName,h=void 0===p?"form":p,v=e.withRef;return function(e){return function(e,t){return e.displayName="Form("+function(e){return e.displayName||e.name||"WrappedComponent"}(t)+")",e.WrappedComponent=t,fe()(e,t)}(M()({displayName:"Form",mixins:t,getInitialState:function(){var e=this,t=u&&u(this.props);return this.fieldsStore=function(e){return new ye(e)}(t||{}),this.instances={},this.cachedBind={},this.clearedFieldMetaCache={},["getFieldsValue","getFieldValue","setFieldsInitialValue","getFieldsError","getFieldError","isFieldValidating","isFieldsValidating","isFieldsTouched","isFieldTouched"].forEach(function(t){return e[t]=function(){var n;return(n=e.fieldsStore)[t].apply(n,arguments)}}),{submitting:!1}},componentWillReceiveProps:function(e){u&&this.fieldsStore.updateFields(u(e))},onCollectCommon:function(e,t,n){var r=this.fieldsStore.getFieldMeta(e);if(r[t])r[t].apply(r,P()(n));else if(r.originalProps&&r.originalProps[t]){var a;(a=r.originalProps)[t].apply(a,P()(n))}var s=r.getValueFromEvent?r.getValueFromEvent.apply(r,P()(n)):function(e){if(!e||!e.target)return e;var t=e.target;return"checkbox"===t.type?t.checked:t.value}.apply(void 0,P()(n));if(o&&s!==this.fieldsStore.getFieldValue(e)){var l=this.fieldsStore.getAllValues(),u={};l[e]=s,Object.keys(l).forEach(function(e){return ae()(u,e,l[e])}),o(this.props,ae()({},e,s),u)}var c=this.fieldsStore.getField(e);return{name:e,field:i()({},c,{value:s,touched:!0}),fieldMeta:r}},onCollect:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var s=this.onCollectCommon(e,t,r),l=s.name,u=s.field,c=s.fieldMeta.validate,f=i()({},u,{dirty:me(c)});this.setFields(a()({},l,f))},onCollectValidate:function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];var a=this.onCollectCommon(e,t,r),s=a.field,l=a.fieldMeta,u=i()({},s,{dirty:!0});this.validateFieldsInternal([u],{action:t,options:{firstFields:!!l.validateFirst}})},getCacheBind:function(e,t,n){this.cachedBind[e]||(this.cachedBind[e]={});var r=this.cachedBind[e];return r[t]||(r[t]=n.bind(this,e,t)),r[t]},recoverClearedField:function(e){this.clearedFieldMetaCache[e]&&(this.fieldsStore.setFields(a()({},e,this.clearedFieldMetaCache[e].field)),this.fieldsStore.setFieldMeta(e,this.clearedFieldMetaCache[e].meta),delete this.clearedFieldMetaCache[e])},getFieldDecorator:function(e,t){var n=this,r=this.getFieldProps(e,t);return function(t){var o=n.fieldsStore.getFieldMeta(e),a=t.props;return o.originalProps=a,o.ref=t.ref,m.a.cloneElement(t,i()({},r,n.fieldsStore.getFieldValuePropValue(o)))}},getFieldProps:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)throw new Error("Must call `getFieldProps` with valid name string!");delete this.clearedFieldMetaCache[e];var r=i()({name:e,trigger:xe,valuePropName:"value",validate:[]},n),o=r.rules,a=r.trigger,s=r.validateTrigger,l=void 0===s?a:s,u=r.validate,p=this.fieldsStore.getFieldMeta(e);"initialValue"in r&&(p.initialValue=r.initialValue);var h=i()({},this.fieldsStore.getFieldValuePropValue(r),{ref:this.getCacheBind(e,e+"__ref",this.saveRef)});c&&(h[c]=e);var v=function(e,t,n){var r=e.map(function(e){var t=i()({},e,{trigger:e.trigger||[]});return"string"==typeof t.trigger&&(t.trigger=[t.trigger]),t});return t&&r.push({trigger:n?[].concat(n):[],rules:t}),r}(u,o,l),m=function(e){return e.filter(function(e){return!!e.rules&&e.rules.length}).map(function(e){return e.trigger}).reduce(function(e,t){return e.concat(t)},[])}(v);m.forEach(function(n){h[n]||(h[n]=t.getCacheBind(e,n,t.onCollectValidate))}),a&&-1===m.indexOf(a)&&(h[a]=this.getCacheBind(e,a,this.onCollect));var g=i()({},p,r,{validate:v});return this.fieldsStore.setFieldMeta(e,g),f&&(h[f]=g),d&&(h[d]=this.fieldsStore.getField(e)),h},getFieldInstance:function(e){return this.instances[e]},getRules:function(e,t){return function(e){return Array.prototype.concat.apply([],e)}(e.validate.filter(function(e){return!t||e.trigger.indexOf(t)>=0}).map(function(e){return e.rules}))},setFields:function(e,t){var n=this,i=this.fieldsStore.flattenRegisteredFields(e);if(this.fieldsStore.setFields(i),r){var o=Object.keys(i).reduce(function(e,t){return ae()(e,t,n.fieldsStore.getField(t))},{});r(this.props,o,this.fieldsStore.getNestedAllFields())}this.forceUpdate(t)},resetFields:function(e){var t=this,n=this.fieldsStore.resetFields(e);Object.keys(n).length>0&&this.setFields(n),e?(Array.isArray(e)?e:[e]).forEach(function(e){return delete t.clearedFieldMetaCache[e]}):this.clearedFieldMetaCache={}},setFieldsValue:function(e,t){var n=this.fieldsStore.fieldsMeta,r=this.fieldsStore.flattenRegisteredFields(e),i=Object.keys(r).reduce(function(e,t){if(n[t]){var i=r[t];e[t]={value:i}}return e},{});if(this.setFields(i,t),o){var a=this.fieldsStore.getAllValues();o(this.props,e,a)}},saveRef:function(e,t,n){if(!n)return this.clearedFieldMetaCache[e]={field:this.fieldsStore.getField(e),meta:this.fieldsStore.getFieldMeta(e)},this.fieldsStore.clearField(e),delete this.instances[e],void delete this.cachedBind[e];this.recoverClearedField(e);var r=this.fieldsStore.getFieldMeta(e);if(r){var i=r.ref;if(i){if("string"==typeof i)throw new Error("can not set ref string for "+e);i(n)}}this.instances[e]=n},validateFieldsInternal:function(e,t,r){var o=this,a=t.fieldNames,s=t.action,l=t.options,u=void 0===l?{}:l,c={},f={},d={},p={};if(e.forEach(function(e){var t=e.name;if(!0===u.force||!1!==e.dirty){var n=o.fieldsStore.getFieldMeta(t),r=i()({},e);r.errors=void 0,r.validating=!0,r.dirty=!0,c[t]=o.getRules(n,s),f[t]=r.value,d[t]=r}else e.errors&&ae()(p,t,{errors:e.errors})}),this.setFields(d),Object.keys(f).forEach(function(e){f[e]=o.fieldsStore.getFieldValue(e)}),r&&ve(d))r(ve(p)?null:p,this.fieldsStore.getFieldsValue(a));else{var h=new ee(c);n&&h.messages(n),h.validate(f,u,function(e){var t=i()({},p);e&&e.length&&e.forEach(function(e){var n=e.field,r=ie()(t,n);("object"!==(void 0===r?"undefined":S()(r))||Array.isArray(r))&&ae()(t,n,{errors:[]}),ie()(t,n.concat(".errors")).push(e)});var n=[],s={};Object.keys(c).forEach(function(e){var r=ie()(t,e),i=o.fieldsStore.getField(e);i.value!==f[e]?n.push({name:e}):(i.errors=r&&r.errors,i.value=f[e],i.validating=!1,i.dirty=!1,s[e]=i)}),o.setFields(s),r&&(n.length&&n.forEach(function(e){var n=e.name,r=[{message:n+" need to revalidate",field:n}];ae()(t,n,{expired:!0,errors:r})}),r(ve(t)?null:t,o.fieldsStore.getFieldsValue(a)))})}},validateFields:function(e,t,n){var r=this,i=he(e,t,n),o=i.names,a=i.callback,s=i.options,l=o?this.fieldsStore.getValidFieldsFullName(o):this.fieldsStore.getValidFieldsName(),u=l.filter(function(e){return me(r.fieldsStore.getFieldMeta(e).validate)}).map(function(e){var t=r.fieldsStore.getField(e);return t.value=r.fieldsStore.getFieldValue(e),t});u.length?("firstFields"in s||(s.firstFields=l.filter(function(e){return!!r.fieldsStore.getFieldMeta(e).validateFirst})),this.validateFieldsInternal(u,{fieldNames:l,options:s},a)):a&&a(null,this.fieldsStore.getFieldsValue(l))},isSubmitting:function(){return this.state.submitting},submit:function(e){var t=this;this.setState({submitting:!0}),e(function(){t.setState({submitting:!1})})},render:function(){var t=this.props,n=t.wrappedComponentRef,r=_()(t,["wrappedComponentRef"]),o=a()({},h,this.getForm());v?o.ref="wrappedComponent":n&&(o.ref=n);var s=l.call(this,i()({},o,r));return m.a.createElement(e,s)}}),e)}},we={getForm:function(){return{getFieldsValue:this.fieldsStore.getFieldsValue,getFieldValue:this.fieldsStore.getFieldValue,getFieldInstance:this.getFieldInstance,setFieldsValue:this.setFieldsValue,setFields:this.setFields,setFieldsInitialValue:this.fieldsStore.setFieldsInitialValue,getFieldDecorator:this.getFieldDecorator,getFieldProps:this.getFieldProps,getFieldsError:this.fieldsStore.getFieldsError,getFieldError:this.fieldsStore.getFieldError,isFieldValidating:this.fieldsStore.isFieldValidating,isFieldsValidating:this.fieldsStore.isFieldsValidating,isFieldsTouched:this.fieldsStore.isFieldsTouched,isFieldTouched:this.fieldsStore.isFieldTouched,isSubmitting:this.isSubmitting,submit:this.submit,validateFields:this.validateFields,resetFields:this.resetFields}}};function Ee(e,t){var n=window.getComputedStyle,r=n?n(e):e.currentStyle;if(r)return r[t.replace(/-(\w)/gi,function(e,t){return t.toUpperCase()})]}var Ne={getForm:function(){return i()({},we.getForm.call(this),{validateFieldsAndScroll:this.validateFieldsAndScroll})},validateFieldsAndScroll:function(e,t,n){var r=this,o=he(e,t,n),a=o.names,s=o.callback,l=o.options;return this.validateFields(a,l,function(e,t){if(e){var n=r.fieldsStore.getValidFieldsName(),o=void 0,a=void 0,u=!0,c=!1,f=void 0;try{for(var d,p=n[Symbol.iterator]();!(u=(d=p.next()).done);u=!0){var h=d.value;if(C()(e,h)){var v=r.getFieldInstance(h);if(v){var m=F.a.findDOMNode(v),g=m.getBoundingClientRect().top;"hidden"!==m.type&&(void 0===a||a>g)&&(a=g,o=m)}}}}catch(e){c=!0,f=e}finally{try{!u&&p.return&&p.return()}finally{if(c)throw f}}if(o){var y=l.container||function(e){for(var t=e,n=void 0;"body"!==(n=t.nodeName.toLowerCase());){var r=Ee(t,"overflowY");if(t!==e&&("auto"===r||"scroll"===r)&&t.scrollHeight>t.clientHeight)return t;t=t.parentNode}return"body"===n?t.ownerDocument:t}(o);E()(o,y,i()({onlyScrollIfNeeded:!0},l.scroll))}}"function"==typeof s&&s(e,t)})}};var Ce=function(e){return Fe(i()({},e),[Ne])},Oe=n(60),_e=n(55),ke=n(217),Se=n.n(ke),Ae=n(67),Pe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n},je=void 0;if("undefined"!=typeof window){window.matchMedia=window.matchMedia||function(e){return{media:e,matches:!1,addListener:function(){},removeListener:function(){}}},je=n(219)}var Me=["xxl","xl","lg","md","sm","xs"],Te={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},Ie=function(e){function t(){l()(this,t);var e=d()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={screens:{}},e}return h()(t,e),c()(t,[{key:"componentDidMount",value:function(){var e=this;Object.keys(Te).map(function(t){return je.register(Te[t],{match:function(){"object"===S()(e.props.gutter)&&e.setState(function(e){return{screens:i()({},e.screens,a()({},t,!0))}})},unmatch:function(){"object"===S()(e.props.gutter)&&e.setState(function(e){return{screens:i()({},e.screens,a()({},t,!1))}})},destroy:function(){}})})}},{key:"componentWillUnmount",value:function(){Object.keys(Te).map(function(e){return je.unregister(Te[e])})}},{key:"getGutter",value:function(){var e=this.props.gutter;if("object"===(void 0===e?"undefined":S()(e)))for(var t=0;t<=Me.length;t++){var n=Me[t];if(this.state.screens[n]&&void 0!==e[n])return e[n]}return e}},{key:"render",value:function(){var e,t=this.props,n=t.type,r=t.justify,o=t.align,s=t.className,l=t.style,u=t.children,c=t.prefixCls,f=void 0===c?"ant-row":c,d=Pe(t,["type","justify","align","className","style","children","prefixCls"]),p=this.getGutter(),h=b()((e={},a()(e,f,!n),a()(e,f+"-"+n,n),a()(e,f+"-"+n+"-"+r,n&&r),a()(e,f+"-"+n+"-"+o,n&&o),e),s),m=p>0?i()({marginLeft:p/-2,marginRight:p/-2},l):l,g=v.Children.map(u,function(e){return e?e.props&&p>0?Object(v.cloneElement)(e,{style:i()({paddingLeft:p/2,paddingRight:p/2},e.props.style)}):e:null}),y=i()({},d);return delete y.gutter,v.createElement("div",i()({},y,{className:h,style:m}),g)}}]),t}(v.Component),Ve=Ie;Ie.defaultProps={gutter:0},Ie.propTypes={type:g.string,align:g.string,justify:g.string,className:g.string,children:g.node,gutter:g.oneOfType([g.object,g.number]),prefixCls:g.string};var qe=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n},De=g.oneOfType([g.string,g.number]),Re=g.oneOfType([g.object,g.number]),ze=function(e){function t(){return l()(this,t),d()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return h()(t,e),c()(t,[{key:"render",value:function(){var e,t=this.props,n=t.span,r=t.order,o=t.offset,s=t.push,l=t.pull,u=t.className,c=t.children,f=t.prefixCls,d=void 0===f?"ant-col":f,p=qe(t,["span","order","offset","push","pull","className","children","prefixCls"]),h={};["xs","sm","md","lg","xl","xxl"].forEach(function(e){var n,r={};"number"==typeof t[e]?r.span=t[e]:"object"===S()(t[e])&&(r=t[e]||{}),delete p[e],h=i()({},h,(n={},a()(n,d+"-"+e+"-"+r.span,void 0!==r.span),a()(n,d+"-"+e+"-order-"+r.order,r.order||0===r.order),a()(n,d+"-"+e+"-offset-"+r.offset,r.offset||0===r.offset),a()(n,d+"-"+e+"-push-"+r.push,r.push||0===r.push),a()(n,d+"-"+e+"-pull-"+r.pull,r.pull||0===r.pull),n))});var m=b()((e={},a()(e,d+"-"+n,void 0!==n),a()(e,d+"-order-"+r,r),a()(e,d+"-offset-"+o,o),a()(e,d+"-push-"+s,s),a()(e,d+"-pull-"+l,l),e),u,h);return v.createElement("div",i()({},p,{className:m}),c)}}]),t}(v.Component),Ye=ze;ze.propTypes={span:De,order:De,offset:De,push:De,pull:De,className:g.string,children:g.node,xs:Re,sm:Re,md:Re,lg:Re,xl:Re,xxl:Re};var Be=n(6),We=function(e){function t(){l()(this,t);var e=d()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.helpShow=!1,e.onHelpAnimEnd=function(t,n){e.helpShow=n,n||e.setState({})},e.onLabelClick=function(t){var n=e.props.label,r=e.props.id||e.getId();if(r&&1!==document.querySelectorAll('[id="'+r+'"]').length){"string"==typeof n&&t.preventDefault();var i=x.findDOMNode(e).querySelector('[id="'+r+'"]');i&&i.focus&&i.focus()}},e}return h()(t,e),c()(t,[{key:"componentDidMount",value:function(){Object(_e.a)(this.getControls(this.props.children,!0).length<=1,"`Form.Item` cannot generate `validateStatus` and `help` automatically, while there are more than one `getFieldDecorator` in it.")}},{key:"getHelpMessage",value:function(){var e=this.props.help;if(void 0===e&&this.getOnlyControl()){var t=this.getField().errors;return t?Se()(t.map(function(e,t){return v.isValidElement(e.message)?v.cloneElement(e.message,{key:t}):e.message})," "):""}return e}},{key:"getControls",value:function(e,n){for(var r=[],i=v.Children.toArray(e),o=0;o<i.length&&(n||!(r.length>0));o++){var a=i[o];(!a.type||a.type!==t&&"FormItem"!==a.type.displayName)&&a.props&&("data-__meta"in a.props?r.push(a):a.props.children&&(r=r.concat(this.getControls(a.props.children,n))))}return r}},{key:"getOnlyControl",value:function(){var e=this.getControls(this.props.children,!1)[0];return void 0!==e?e:null}},{key:"getChildProp",value:function(e){var t=this.getOnlyControl();return t&&t.props&&t.props[e]}},{key:"getId",value:function(){return this.getChildProp("id")}},{key:"getMeta",value:function(){return this.getChildProp("data-__meta")}},{key:"getField",value:function(){return this.getChildProp("data-__field")}},{key:"renderHelp",value:function(){var e=this.props.prefixCls,t=this.getHelpMessage(),n=t?v.createElement("div",{className:e+"-explain",key:"help"},t):null;return n&&(this.helpShow=!!n),v.createElement(Ae.a,{transitionName:"show-help",component:"",transitionAppear:!0,key:"help",onEnd:this.onHelpAnimEnd},n)}},{key:"renderExtra",value:function(){var e=this.props,t=e.prefixCls,n=e.extra;return n?v.createElement("div",{className:t+"-extra"},n):null}},{key:"getValidateStatus",value:function(){if(!this.getOnlyControl())return"";var e=this.getField();if(e.validating)return"validating";if(e.errors)return"error";var t="value"in e?e.value:this.getMeta().initialValue;return void 0!==t&&null!==t&&""!==t?"success":""}},{key:"renderValidateWrapper",value:function(e,t,n){var r=this.props,i=this.getOnlyControl,o=void 0===r.validateStatus&&i?this.getValidateStatus():r.validateStatus,a=this.props.prefixCls+"-item-control";o&&(a=b()(this.props.prefixCls+"-item-control",{"has-feedback":r.hasFeedback||"validating"===o,"has-success":"success"===o,"has-warning":"warning"===o,"has-error":"error"===o,"is-validating":"validating"===o}));var s="";switch(o){case"success":s="check-circle";break;case"warning":s="exclamation-circle";break;case"error":s="close-circle";break;case"validating":s="loading";break;default:s=""}var l=r.hasFeedback&&s?v.createElement("span",{className:this.props.prefixCls+"-item-children-icon"},v.createElement(Be.a,{type:s,theme:"loading"===s?"outlined":"filled"})):null;return v.createElement("div",{className:a},v.createElement("span",{className:this.props.prefixCls+"-item-children"},e,l),t,n)}},{key:"renderWrapper",value:function(e){var t=this.props,n=t.prefixCls,r=t.wrapperCol,o=b()(n+"-item-control-wrapper",r&&r.className);return v.createElement(Ye,i()({},r,{className:o,key:"wrapper"}),e)}},{key:"isRequired",value:function(){var e=this.props.required;return void 0!==e?e:!!this.getOnlyControl()&&((this.getMeta()||{}).validate||[]).filter(function(e){return!!e.rules}).some(function(e){return e.rules.some(function(e){return e.required})})}},{key:"renderLabel",value:function(){var e=this.props,t=e.prefixCls,n=e.label,r=e.labelCol,o=e.colon,s=e.id,l=this.context,u=this.isRequired(),c=b()(t+"-item-label",r&&r.className),f=b()(a()({},t+"-item-required",u)),d=n;return o&&!l.vertical&&"string"==typeof n&&""!==n.trim()&&(d=n.replace(/[|:]\s*$/,"")),n?v.createElement(Ye,i()({},r,{className:c,key:"label"}),v.createElement("label",{htmlFor:s||this.getId(),className:f,title:"string"==typeof n?n:"",onClick:this.onLabelClick},d)):null}},{key:"renderChildren",value:function(){var e=this.props.children;return[this.renderLabel(),this.renderWrapper(this.renderValidateWrapper(e,this.renderHelp(),this.renderExtra()))]}},{key:"renderFormItem",value:function(e){var t,n=this.props,r=n.prefixCls,i=n.style,o=(t={},a()(t,r+"-item",!0),a()(t,r+"-item-with-help",this.helpShow),a()(t,r+"-item-no-colon",!n.colon),a()(t,""+n.className,!!n.className),t);return v.createElement(Ve,{className:b()(o),style:i},e)}},{key:"render",value:function(){var e=this.renderChildren();return this.renderFormItem(e)}}]),t}(v.Component),Le=We;We.defaultProps={hasFeedback:!1,prefixCls:"ant-form",colon:!0},We.propTypes={prefixCls:g.string,label:g.oneOfType([g.string,g.node]),labelCol:g.object,help:g.oneOfType([g.node,g.bool]),validateStatus:g.oneOf(["","success","warning","error","validating"]),hasFeedback:g.bool,wrapperCol:g.object,className:g.string,id:g.string,children:g.node,colon:g.bool},We.contextTypes={vertical:g.bool};var Ue=function(e){function t(e){l()(this,t);var n=d()(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return Object(_e.a)(!e.form,"It is unnecessary to pass `form` to `Form` after antd@1.7.0."),n}return h()(t,e),c()(t,[{key:"getChildContext",value:function(){return{vertical:"vertical"===this.props.layout}}},{key:"render",value:function(){var e,t=this.props,n=t.prefixCls,r=t.hideRequiredMark,o=t.className,s=void 0===o?"":o,l=t.layout,u=b()(n,(e={},a()(e,n+"-horizontal","horizontal"===l),a()(e,n+"-vertical","vertical"===l),a()(e,n+"-inline","inline"===l),a()(e,n+"-hide-required-mark",r),e),s),c=Object(Oe.a)(this.props,["prefixCls","className","layout","form","hideRequiredMark"]);return v.createElement("form",i()({},c,{className:u}))}}]),t}(v.Component),He=Ue;Ue.defaultProps={prefixCls:"ant-form",layout:"horizontal",hideRequiredMark:!1,onSubmit:function(e){e.preventDefault()}},Ue.propTypes={prefixCls:g.string,layout:g.oneOf(["horizontal","inline","vertical"]),children:g.any,onSubmit:g.func,hideRequiredMark:g.bool},Ue.childContextTypes={vertical:g.bool},Ue.Item=Le,Ue.createFormField=ue,Ue.create=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Ce(i()({fieldNameProp:"id"},e,{fieldMetaProp:"data-__meta",fieldDataProp:"data-__field"}))};t.a=He},,,function(e,t,n){"use strict";var r=n(39),i=n.n(r),o=n(45),a=n.n(o),s=n(40),l=n.n(s),u=n(43),c=n.n(u),f=n(41),d=n.n(f),p=n(42),h=n.n(p),v=n(0),m=n(1),g=n(44),y=n.n(g),b=n(60);var x=function(e){function t(){l()(this,t);var e=d()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.handleKeyDown=function(t){var n=e.props,r=n.onPressEnter,i=n.onKeyDown;13===t.keyCode&&r&&r(t),i&&i(t)},e.saveInput=function(t){e.input=t},e}return h()(t,e),c()(t,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"getInputClassName",value:function(){var e,t=this.props,n=t.prefixCls,r=t.size,i=t.disabled;return y()(n,(e={},a()(e,n+"-sm","small"===r),a()(e,n+"-lg","large"===r),a()(e,n+"-disabled",i),e))}},{key:"renderLabeledInput",value:function(e){var t,n=this.props;if(!n.addonBefore&&!n.addonAfter)return e;var r=n.prefixCls+"-group",i=r+"-addon",o=n.addonBefore?v.createElement("span",{className:i},n.addonBefore):null,s=n.addonAfter?v.createElement("span",{className:i},n.addonAfter):null,l=y()(n.prefixCls+"-wrapper",a()({},r,o||s)),u=y()(n.prefixCls+"-group-wrapper",(t={},a()(t,n.prefixCls+"-group-wrapper-sm","small"===n.size),a()(t,n.prefixCls+"-group-wrapper-lg","large"===n.size),t));return v.createElement("span",{className:u,style:n.style},v.createElement("span",{className:l},o,v.cloneElement(e,{style:null}),s))}},{key:"renderLabeledIcon",value:function(e){var t,n=this.props;if(!("prefix"in n||"suffix"in n))return e;var r=n.prefix?v.createElement("span",{className:n.prefixCls+"-prefix"},n.prefix):null,i=n.suffix?v.createElement("span",{className:n.prefixCls+"-suffix"},n.suffix):null,o=y()(n.className,n.prefixCls+"-affix-wrapper",(t={},a()(t,n.prefixCls+"-affix-wrapper-sm","small"===n.size),a()(t,n.prefixCls+"-affix-wrapper-lg","large"===n.size),t));return v.createElement("span",{className:o,style:n.style},r,v.cloneElement(e,{style:null,className:this.getInputClassName()}),i)}},{key:"renderInput",value:function(){var e=this.props,t=e.value,n=e.className,r=Object(b.a)(this.props,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix"]);return"value"in this.props&&(r.value=function(e){return void 0===e||null===e?"":e}(t),delete r.defaultValue),this.renderLabeledIcon(v.createElement("input",i()({},r,{className:y()(this.getInputClassName(),n),onKeyDown:this.handleKeyDown,ref:this.saveInput})))}},{key:"render",value:function(){return this.renderLabeledInput(this.renderInput())}}]),t}(v.Component),F=x;x.defaultProps={prefixCls:"ant-input",type:"text",disabled:!1},x.propTypes={type:m.string,id:m.oneOfType([m.string,m.number]),size:m.oneOf(["small","default","large"]),maxLength:m.oneOfType([m.string,m.number]),disabled:m.bool,value:m.any,defaultValue:m.any,className:m.string,addonBefore:m.node,addonAfter:m.node,prefixCls:m.string,onPressEnter:m.func,onKeyDown:m.func,onKeyUp:m.func,onFocus:m.func,onBlur:m.func,prefix:m.node,suffix:m.node};var w=function(e){var t,n=e.prefixCls,r=void 0===n?"ant-input-group":n,i=e.className,o=void 0===i?"":i,s=y()(r,(t={},a()(t,r+"-lg","large"===e.size),a()(t,r+"-sm","small"===e.size),a()(t,r+"-compact",e.compact),t),o);return v.createElement("span",{className:s,style:e.style,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onFocus:e.onFocus,onBlur:e.onBlur},e.children)},E=n(6),N=n(239),C=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n},O=function(e){function t(){l()(this,t);var e=d()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.onSearch=function(t){var n=e.props.onSearch;n&&n(e.input.input.value,t),e.input.focus()},e.saveInput=function(t){e.input=t},e}return h()(t,e),c()(t,[{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"getButtonOrIcon",value:function(){var e=this.props,t=e.enterButton,n=e.prefixCls,r=e.size,i=e.disabled,o=t,a=void 0;return a=t?o.type===N.a||"button"===o.type?v.cloneElement(o,o.type===N.a?{className:n+"-button",size:r}:{}):v.createElement(N.a,{className:n+"-button",type:"primary",size:r,disabled:i,key:"enterButton"},!0===t?v.createElement(E.a,{type:"search"}):t):v.createElement(E.a,{className:n+"-icon",type:"search",key:"searchIcon"}),v.cloneElement(a,{onClick:this.onSearch})}},{key:"render",value:function(){var e,t=this.props,n=t.className,r=t.prefixCls,o=t.inputPrefixCls,s=t.size,l=t.suffix,u=t.enterButton,c=C(t,["className","prefixCls","inputPrefixCls","size","suffix","enterButton"]);delete c.onSearch;var f=this.getButtonOrIcon(),d=l?[l,f]:f,p=y()(r,n,(e={},a()(e,r+"-enter-button",!!u),a()(e,r+"-"+s,!!s),e));return v.createElement(F,i()({onPressEnter:this.onSearch},c,{size:s,className:p,prefixCls:o,suffix:d,ref:this.saveInput}))}}]),t}(v.Component),_=O;O.defaultProps={inputPrefixCls:"ant-input",prefixCls:"ant-input-search",enterButton:!1};var k="\n  min-height:0 !important;\n  max-height:none !important;\n  height:0 !important;\n  visibility:hidden !important;\n  overflow:hidden !important;\n  position:absolute !important;\n  z-index:-1000 !important;\n  top:0 !important;\n  right:0 !important\n",S=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"],A={},P=void 0;function j(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;P||(P=document.createElement("textarea"),document.body.appendChild(P)),e.getAttribute("wrap")?P.setAttribute("wrap",e.getAttribute("wrap")):P.removeAttribute("wrap");var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.getAttribute("id")||e.getAttribute("data-reactid")||e.getAttribute("name");if(t&&A[n])return A[n];var r=window.getComputedStyle(e),i=r.getPropertyValue("box-sizing")||r.getPropertyValue("-moz-box-sizing")||r.getPropertyValue("-webkit-box-sizing"),o=parseFloat(r.getPropertyValue("padding-bottom"))+parseFloat(r.getPropertyValue("padding-top")),a=parseFloat(r.getPropertyValue("border-bottom-width"))+parseFloat(r.getPropertyValue("border-top-width")),s={sizingStyle:S.map(function(e){return e+":"+r.getPropertyValue(e)}).join(";"),paddingSize:o,borderSize:a,boxSizing:i};return t&&n&&(A[n]=s),s}(e,t),o=i.paddingSize,a=i.borderSize,s=i.boxSizing,l=i.sizingStyle;P.setAttribute("style",l+";"+k),P.value=e.value||e.placeholder||"";var u=Number.MIN_SAFE_INTEGER,c=Number.MAX_SAFE_INTEGER,f=P.scrollHeight,d=void 0;if("border-box"===s?f+=a:"content-box"===s&&(f-=o),null!==n||null!==r){P.value=" ";var p=P.scrollHeight-o;null!==n&&(u=p*n,"border-box"===s&&(u=u+o+a),f=Math.max(u,f)),null!==r&&(c=p*r,"border-box"===s&&(c=c+o+a),d=f>c?"":"hidden",f=Math.min(c,f))}return r||(d="hidden"),{height:f,minHeight:u,maxHeight:c,overflowY:d}}var M=function(e){function t(){l()(this,t);var e=d()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={textareaStyles:{}},e.resizeTextarea=function(){var t=e.props.autosize;if(t&&e.textAreaRef){var n=t?t.minRows:null,r=t?t.maxRows:null,i=j(e.textAreaRef,!1,n,r);e.setState({textareaStyles:i})}},e.handleTextareaChange=function(t){"value"in e.props||e.resizeTextarea();var n=e.props.onChange;n&&n(t)},e.handleKeyDown=function(t){var n=e.props,r=n.onPressEnter,i=n.onKeyDown;13===t.keyCode&&r&&r(t),i&&i(t)},e.saveTextAreaRef=function(t){e.textAreaRef=t},e}return h()(t,e),c()(t,[{key:"componentDidMount",value:function(){this.resizeTextarea()}},{key:"componentWillReceiveProps",value:function(e){this.props.value!==e.value&&(this.nextFrameActionId&&function(e){window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e)}(this.nextFrameActionId),this.nextFrameActionId=function(e){return window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)}(this.resizeTextarea))}},{key:"focus",value:function(){this.textAreaRef.focus()}},{key:"blur",value:function(){this.textAreaRef.blur()}},{key:"getTextAreaClassName",value:function(){var e=this.props,t=e.prefixCls,n=e.className,r=e.disabled;return y()(t,n,a()({},t+"-disabled",r))}},{key:"render",value:function(){var e=this.props,t=Object(b.a)(e,["prefixCls","onPressEnter","autosize"]),n=i()({},e.style,this.state.textareaStyles);return"value"in t&&(t.value=t.value||""),v.createElement("textarea",i()({},t,{className:this.getTextAreaClassName(),style:n,onKeyDown:this.handleKeyDown,onChange:this.handleTextareaChange,ref:this.saveTextAreaRef}))}}]),t}(v.Component),T=M;M.defaultProps={prefixCls:"ant-input"},F.Group=w,F.Search=_,F.TextArea=T;t.a=F}])]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJyYXkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbmF0aXZlQ3JlYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Fzc29jSW5kZXhPZi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRNYXBEYXRhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Nhc3RQYXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvaXNTeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUdldFRhZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19TeW1ib2wuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fcm9vdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzT2JqZWN0TGlrZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXROYXRpdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9pc09iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL190b0tleS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2VxLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzSW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9zZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VucXVpcmUuanMvc3JjL1V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9oYXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZUhhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNQYXRoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzS2V5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2ZyZWVHbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZ2V0UmF3VGFnLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX29iamVjdFRvU3RyaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX3N0cmluZ1RvUGF0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tZW1vaXplQ2FwcGVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvbWVtb2l6ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19NYXBDYWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZUNsZWFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX0hhc2guanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaENsZWFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc05hdGl2ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzRnVuY3Rpb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faXNNYXNrZWQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fY29yZUpzRGF0YS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL190b1NvdXJjZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19nZXRWYWx1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoRGVsZXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2hhc2hHZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9faGFzaEhhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19oYXNoU2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX0xpc3RDYWNoZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVDbGVhci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVEZWxldGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fbGlzdENhY2hlR2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2xpc3RDYWNoZUhhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19saXN0Q2FjaGVTZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fTWFwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX21hcENhY2hlRGVsZXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2lzS2V5YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZUdldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZUhhcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19tYXBDYWNoZVNldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL3RvU3RyaW5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VUb1N0cmluZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hcnJheU1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzQXJndW1lbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VJc0FyZ3VtZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL2lzTGVuZ3RoLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9jcmVhdGUtcmVhY3QtY2xhc3MvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NyZWF0ZS1yZWFjdC1jbGFzcy9mYWN0b3J5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9mYmpzL2xpYi9lbXB0eU9iamVjdC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZmJqcy9saWIvaW52YXJpYW50LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvZ2V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9sb2Rhc2gvX2Jhc2VHZXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fYmFzZVNldC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19hc3NpZ25WYWx1ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvbG9kYXNoL19iYXNlQXNzaWduVmFsdWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9fZGVmaW5lUHJvcGVydHkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ludGVyc3BlcnNlL2xpYi9pbnRlcnNwZXJzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZW5xdWlyZS5qcy9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2VucXVpcmUuanMvc3JjL01lZGlhUXVlcnlEaXNwYXRjaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZW5xdWlyZS5qcy9zcmMvTWVkaWFRdWVyeS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZW5xdWlyZS5qcy9zcmMvUXVlcnlIYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkL2VzL191dGlsL3dhdmUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FudGQvZXMvYnV0dG9uL2J1dHRvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC9lcy9idXR0b24vYnV0dG9uLWdyb3VwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkL2VzL2J1dHRvbi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXN5bmMtdmFsaWRhdG9yL2VzL3V0aWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FzeW5jLXZhbGlkYXRvci9lcy9ydWxlL3JlcXVpcmVkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc3luYy12YWxpZGF0b3IvZXMvcnVsZS93aGl0ZXNwYWNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc3luYy12YWxpZGF0b3IvZXMvcnVsZS90eXBlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc3luYy12YWxpZGF0b3IvZXMvcnVsZS9yYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXN5bmMtdmFsaWRhdG9yL2VzL3J1bGUvZW51bS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXN5bmMtdmFsaWRhdG9yL2VzL3J1bGUvcGF0dGVybi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXN5bmMtdmFsaWRhdG9yL2VzL3J1bGUvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FzeW5jLXZhbGlkYXRvci9lcy92YWxpZGF0b3Ivb2JqZWN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc3luYy12YWxpZGF0b3IvZXMvdmFsaWRhdG9yL2VudW0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FzeW5jLXZhbGlkYXRvci9lcy92YWxpZGF0b3IvdHlwZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXN5bmMtdmFsaWRhdG9yL2VzL3ZhbGlkYXRvci9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXN5bmMtdmFsaWRhdG9yL2VzL3ZhbGlkYXRvci9zdHJpbmcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FzeW5jLXZhbGlkYXRvci9lcy92YWxpZGF0b3IvbWV0aG9kLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc3luYy12YWxpZGF0b3IvZXMvdmFsaWRhdG9yL251bWJlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXN5bmMtdmFsaWRhdG9yL2VzL3ZhbGlkYXRvci9ib29sZWFuLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc3luYy12YWxpZGF0b3IvZXMvdmFsaWRhdG9yL3JlZ2V4cC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXN5bmMtdmFsaWRhdG9yL2VzL3ZhbGlkYXRvci9pbnRlZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc3luYy12YWxpZGF0b3IvZXMvdmFsaWRhdG9yL2Zsb2F0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc3luYy12YWxpZGF0b3IvZXMvdmFsaWRhdG9yL2FycmF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc3luYy12YWxpZGF0b3IvZXMvdmFsaWRhdG9yL3BhdHRlcm4uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FzeW5jLXZhbGlkYXRvci9lcy92YWxpZGF0b3IvZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXN5bmMtdmFsaWRhdG9yL2VzL3ZhbGlkYXRvci9yZXF1aXJlZC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYXN5bmMtdmFsaWRhdG9yL2VzL21lc3NhZ2VzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hc3luYy12YWxpZGF0b3IvZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLWZvcm0vZXMvY3JlYXRlRm9ybUZpZWxkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1mb3JtL2VzL3V0aWxzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1mb3JtL2VzL2NyZWF0ZUZpZWxkc1N0b3JlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1mb3JtL2VzL2NyZWF0ZUJhc2VGb3JtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1mb3JtL2VzL2NyZWF0ZUZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLWZvcm0vZXMvY3JlYXRlRE9NRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC9lcy9ncmlkL3Jvdy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC9lcy9ncmlkL2NvbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC9lcy9mb3JtL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC9lcy9mb3JtL0Zvcm1JdGVtLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkL2VzL2Zvcm0vRm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC9lcy9mb3JtL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkL2VzL2lucHV0L0lucHV0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkL2VzL2lucHV0L0dyb3VwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkL2VzL2lucHV0L1NlYXJjaC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC9lcy9pbnB1dC9jYWxjdWxhdGVOb2RlSGVpZ2h0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkL2VzL2lucHV0L1RleHRBcmVhLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9hbnRkL2VzL2lucHV0L2luZGV4LmpzIl0sIm5hbWVzIjpbImlzQXJyYXkiLCJBcnJheSIsIm1vZHVsZSIsImV4cG9ydHMiLCJuYXRpdmVDcmVhdGUiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiZ2V0TmF0aXZlIiwiT2JqZWN0IiwiZXEiLCJhcnJheSIsImtleSIsImxlbmd0aCIsImlzS2V5YWJsZSIsIm1hcCIsImRhdGEiLCJfX2RhdGFfXyIsImlzS2V5Iiwic3RyaW5nVG9QYXRoIiwidG9TdHJpbmciLCJ2YWx1ZSIsIm9iamVjdCIsImJhc2VHZXRUYWciLCJpc09iamVjdExpa2UiLCJzeW1ib2xUYWciLCJTeW1ib2wiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsIm51bGxUYWciLCJ1bmRlZmluZWRUYWciLCJzeW1Ub1N0cmluZ1RhZyIsInRvU3RyaW5nVGFnIiwidW5kZWZpbmVkIiwiZnJlZUdsb2JhbCIsImZyZWVTZWxmIiwic2VsZiIsInJvb3QiLCJGdW5jdGlvbiIsImJhc2VJc05hdGl2ZSIsImdldFZhbHVlIiwidHlwZSIsImlzU3ltYm9sIiwiSU5GSU5JVFkiLCJyZXN1bHQiLCJvdGhlciIsIk1BWF9TQUZFX0lOVEVHRVIiLCJyZUlzVWludCIsInRlc3QiLCJiYXNlU2V0IiwicGF0aCIsImlzRnVuY3Rpb24iLCJ0YXJnZXQiLCJwcm90b3R5cGUiLCJhcHBseSIsImVhY2giLCJjb2xsZWN0aW9uIiwiZm4iLCJpIiwiYmFzZUhhcyIsImhhc1BhdGgiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJjYXN0UGF0aCIsImlzQXJndW1lbnRzIiwiaXNJbmRleCIsImlzTGVuZ3RoIiwidG9LZXkiLCJoYXNGdW5jIiwiaW5kZXgiLCJyZUlzRGVlcFByb3AiLCJyZUlzUGxhaW5Qcm9wIiwiZ2xvYmFsIiwib2JqZWN0UHJvdG8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsImlzT3duIiwidGFnIiwidW5tYXNrZWQiLCJlIiwicmVQcm9wTmFtZSIsInJlRXNjYXBlQ2hhciIsIm1lbW9pemVDYXBwZWQiLCJzdHJpbmciLCJjaGFyQ29kZUF0IiwicHVzaCIsInJlcGxhY2UiLCJtYXRjaCIsIm51bWJlciIsInF1b3RlIiwic3ViU3RyaW5nIiwibWVtb2l6ZSIsIk1BWF9NRU1PSVpFX1NJWkUiLCJmdW5jIiwiY2FjaGUiLCJzaXplIiwiY2xlYXIiLCJNYXBDYWNoZSIsIkZVTkNfRVJST1JfVEVYVCIsInJlc29sdmVyIiwiVHlwZUVycm9yIiwibWVtb2l6ZWQiLCJhcmdzIiwiYXJndW1lbnRzIiwidGhpcyIsImhhcyIsImdldCIsInNldCIsIkNhY2hlIiwibWFwQ2FjaGVDbGVhciIsIm1hcENhY2hlRGVsZXRlIiwibWFwQ2FjaGVHZXQiLCJtYXBDYWNoZUhhcyIsIm1hcENhY2hlU2V0IiwiZW50cmllcyIsImVudHJ5IiwiSGFzaCIsIkxpc3RDYWNoZSIsIk1hcCIsImhhc2giLCJoYXNoQ2xlYXIiLCJoYXNoRGVsZXRlIiwiaGFzaEdldCIsImhhc2hIYXMiLCJoYXNoU2V0IiwiaXNNYXNrZWQiLCJpc09iamVjdCIsInRvU291cmNlIiwicmVJc0hvc3RDdG9yIiwiZnVuY1Byb3RvIiwiZnVuY1RvU3RyaW5nIiwicmVJc05hdGl2ZSIsIlJlZ0V4cCIsImFzeW5jVGFnIiwiZnVuY1RhZyIsImdlblRhZyIsInByb3h5VGFnIiwiY29yZUpzRGF0YSIsIm1hc2tTcmNLZXkiLCJ1aWQiLCJleGVjIiwia2V5cyIsIklFX1BST1RPIiwiSEFTSF9VTkRFRklORUQiLCJsaXN0Q2FjaGVDbGVhciIsImxpc3RDYWNoZURlbGV0ZSIsImxpc3RDYWNoZUdldCIsImxpc3RDYWNoZUhhcyIsImxpc3RDYWNoZVNldCIsImFzc29jSW5kZXhPZiIsInNwbGljZSIsInBvcCIsImdldE1hcERhdGEiLCJiYXNlVG9TdHJpbmciLCJhcnJheU1hcCIsInN5bWJvbFByb3RvIiwic3ltYm9sVG9TdHJpbmciLCJpdGVyYXRlZSIsImJhc2VJc0FyZ3VtZW50cyIsInByb3BlcnR5SXNFbnVtZXJhYmxlIiwiYXJnc1RhZyIsIlJlYWN0IiwiZmFjdG9yeSIsIkVycm9yIiwiUmVhY3ROb29wVXBkYXRlUXVldWUiLCJDb21wb25lbnQiLCJ1cGRhdGVyIiwiaXNWYWxpZEVsZW1lbnQiLCJfYXNzaWduIiwiZW1wdHlPYmplY3QiLCJfaW52YXJpYW50IiwiTUlYSU5TX0tFWSIsIlJlYWN0Q29tcG9uZW50IiwiaW5qZWN0ZWRNaXhpbnMiLCJSZWFjdENsYXNzSW50ZXJmYWNlIiwibWl4aW5zIiwic3RhdGljcyIsInByb3BUeXBlcyIsImNvbnRleHRUeXBlcyIsImNoaWxkQ29udGV4dFR5cGVzIiwiZ2V0RGVmYXVsdFByb3BzIiwiZ2V0SW5pdGlhbFN0YXRlIiwiZ2V0Q2hpbGRDb250ZXh0IiwicmVuZGVyIiwiY29tcG9uZW50V2lsbE1vdW50IiwiY29tcG9uZW50RGlkTW91bnQiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwic2hvdWxkQ29tcG9uZW50VXBkYXRlIiwiY29tcG9uZW50V2lsbFVwZGF0ZSIsImNvbXBvbmVudERpZFVwZGF0ZSIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwiVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCIsIlVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwiVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUiLCJ1cGRhdGVDb21wb25lbnQiLCJSZWFjdENsYXNzU3RhdGljSW50ZXJmYWNlIiwiZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzIiwiUkVTRVJWRURfU1BFQ19LRVlTIiwiZGlzcGxheU5hbWUiLCJDb25zdHJ1Y3RvciIsIm1peFNwZWNJbnRvQ29tcG9uZW50IiwiY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24iLCJuYW1lIiwicHJvcGVydHkiLCJpc1Jlc2VydmVkIiwiaXNBbHJlYWR5RGVmaW5lZCIsInNwZWNQb2xpY3kiLCJtaXhTdGF0aWNTcGVjSW50b0NvbXBvbmVudCIsImF1dG9iaW5kIiwidmFsaWRhdGVNZXRob2RPdmVycmlkZSIsIlJlYWN0Q2xhc3NNaXhpbiIsInNwZWMiLCJwcm90byIsImF1dG9CaW5kUGFpcnMiLCJfX3JlYWN0QXV0b0JpbmRQYWlycyIsImlzUmVhY3RDbGFzc01ldGhvZCIsImNyZWF0ZUNoYWluZWRGdW5jdGlvbiIsIm1lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMiLCJvbmUiLCJ0d28iLCJhIiwiYiIsImMiLCJiaW5kQXV0b0JpbmRNZXRob2QiLCJjb21wb25lbnQiLCJtZXRob2QiLCJiaW5kIiwiSXNNb3VudGVkUHJlTWl4aW4iLCJfX2lzTW91bnRlZCIsIklzTW91bnRlZFBvc3RNaXhpbiIsInJlcGxhY2VTdGF0ZSIsIm5ld1N0YXRlIiwiY2FsbGJhY2siLCJlbnF1ZXVlUmVwbGFjZVN0YXRlIiwiaXNNb3VudGVkIiwiUmVhY3RDbGFzc0NvbXBvbmVudCIsImlkZW50aXR5IiwicHJvcHMiLCJjb250ZXh0IiwicGFpcnMiLCJhdXRvQmluZEtleSIsImJpbmRBdXRvQmluZE1ldGhvZHMiLCJyZWZzIiwic3RhdGUiLCJpbml0aWFsU3RhdGUiLCJtZXRob2ROYW1lIiwiY29uc3RydWN0b3IiLCJmb3JFYWNoIiwiZGVmYXVsdFByb3BzIiwidmFsaWRhdGVGb3JtYXQiLCJmb3JtYXQiLCJjb25kaXRpb24iLCJkIiwiZiIsImVycm9yIiwiYXJnSW5kZXgiLCJmcmFtZXNUb1BvcCIsImJhc2VHZXQiLCJkZWZhdWx0VmFsdWUiLCJhc3NpZ25WYWx1ZSIsImN1c3RvbWl6ZXIiLCJsYXN0SW5kZXgiLCJuZXN0ZWQiLCJuZXdWYWx1ZSIsIm9ialZhbHVlIiwiYmFzZUFzc2lnblZhbHVlIiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwid3JpdGFibGUiLCJhcnIiLCJvYmoiLCJzbGljZSIsIml0ZW1zIiwibGVuIiwiTWVkaWFRdWVyeURpc3BhdGNoIiwiTWVkaWFRdWVyeSIsIlV0aWwiLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwicXVlcmllcyIsImJyb3dzZXJJc0luY2FwYWJsZSIsIm1hdGNoZXMiLCJyZWdpc3RlciIsInEiLCJvcHRpb25zIiwic2hvdWxkRGVncmFkZSIsImlzVW5jb25kaXRpb25hbCIsImhhbmRsZXIiLCJhZGRIYW5kbGVyIiwidW5yZWdpc3RlciIsInF1ZXJ5IiwicmVtb3ZlSGFuZGxlciIsIlF1ZXJ5SGFuZGxlciIsImhhbmRsZXJzIiwibXFsIiwibGlzdGVuZXIiLCJjdXJyZW50VGFyZ2V0IiwiYXNzZXNzIiwiYWRkTGlzdGVuZXIiLCJjb25zdHVjdG9yIiwicWgiLCJvbiIsImgiLCJlcXVhbHMiLCJkZXN0cm95IiwicmVtb3ZlTGlzdGVuZXIiLCJhY3Rpb24iLCJkZWZlclNldHVwIiwic2V0dXAiLCJpbml0aWFsaXNlZCIsIm9mZiIsInVubWF0Y2giLCJzdHlsZUZvclBlc3VkbyIsIndhdmUiLCJfUmVhY3QkQ29tcG9uZW50IiwiV2F2ZSIsImNsYXNzQ2FsbENoZWNrX2RlZmF1bHQiLCJfdGhpcyIsInBvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm5fZGVmYXVsdCIsIl9fcHJvdG9fXyIsImdldFByb3RvdHlwZU9mIiwib25DbGljayIsIm5vZGUiLCJ3YXZlQ29sb3IiLCJjbGFzc05hbWUiLCJpbmRleE9mIiwiaW5zZXJ0RXh0cmFOb2RlIiwiZXh0cmFOb2RlIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiYXR0cmlidXRlTmFtZSIsImdldEF0dHJpYnV0ZU5hbWUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJzZXRBdHRyaWJ1dGUiLCJpc05vdEdyZXkiLCJzdHlsZSIsImJvcmRlckNvbG9yIiwiaW5uZXJIVE1MIiwiYm9keSIsImNvbnRhaW5zIiwiYXBwZW5kQ2hpbGQiLCJFdmVudCIsImFkZEVuZEV2ZW50TGlzdGVuZXIiLCJvblRyYW5zaXRpb25FbmQiLCJiaW5kQW5pbWF0aW9uRXZlbnQiLCJnZXRBdHRyaWJ1dGUiLCJ0YWdOYW1lIiwicmVzZXRFZmZlY3QiLCJnZXRDb21wdXRlZFN0eWxlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsImNsaWNrV2F2ZVRpbWVvdXRJZCIsInNldFRpbWVvdXQiLCJhZGRFdmVudExpc3RlbmVyIiwiY2FuY2VsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFuaW1hdGlvbk5hbWUiLCJpbmhlcml0c19kZWZhdWx0IiwiY3JlYXRlQ2xhc3NfZGVmYXVsdCIsImNvbG9yIiwicmVtb3ZlRXh0cmFTdHlsZU5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUVuZEV2ZW50TGlzdGVuZXIiLCJpbnN0YW5jZSIsInJlYWN0X2RvbSIsImNsZWFyVGltZW91dCIsImNoaWxkcmVuIiwicmVhY3QiLCJfX3Jlc3QiLCJzIiwidCIsInAiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJyeFR3b0NOQ2hhciIsImlzVHdvQ05DaGFyIiwiYnV0dG9uX0J1dHRvbiIsIkJ1dHRvbiIsImhhbmRsZUNsaWNrIiwibG9hZGluZyIsImhhc1R3b0NOQ2hhciIsImZpeFR3b0NOQ2hhciIsIm5leHRQcm9wcyIsIl90aGlzMiIsImN1cnJlbnRMb2FkaW5nIiwiZGVsYXlUaW1lb3V0IiwiZGVsYXkiLCJzZXRTdGF0ZSIsImJ1dHRvblRleHQiLCJ0ZXh0Q29udGVudCIsImlubmVyVGV4dCIsImlzTmVlZEluc2VydGVkIiwiX3Byb3BzIiwiaWNvbiIsImNvdW50IiwiX2NsYXNzTmFtZXMiLCJfdGhpczMiLCJfYSIsInNoYXBlIiwicHJlZml4Q2xzIiwiZ2hvc3QiLCJibG9jayIsInJlc3QiLCJfc3RhdGUiLCJzaXplQ2xzIiwibm93IiwiRGF0ZSIsImlzQ2hyaXN0bWFzIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiY2xhc3NlcyIsImNsYXNzbmFtZXNfZGVmYXVsdCIsImRlZmluZVByb3BlcnR5X2RlZmF1bHQiLCJpY29uVHlwZSIsImljb25Ob2RlIiwiZXNfaWNvbiIsImtpZHMiLCJjaGlsZCIsIm5lZWRJbnNlcnRlZCIsIlNQQUNFIiwic3RyIiwiaXNTdHJpbmciLCJzcGxpdCIsImpvaW4iLCJpbnNlcnRTcGFjZSIsInRpdGxlIiwiZXh0ZW5kc19kZWZhdWx0IiwiaHRtbFR5cGUiLCJvdGhlclByb3BzIiwiYnV0dG9uX2J1dHRvbiIsIl9fQU5UX0JVVFRPTiIsInByb3BfdHlwZXMiLCJidXR0b25fZ3JvdXBfcmVzdCIsImJ1dHRvbl9ncm91cCIsIl9wcm9wcyRwcmVmaXhDbHMiLCJvdGhlcnMiLCJHcm91cCIsIl9fd2VicGFja19leHBvcnRzX18iLCJmb3JtYXRSZWdFeHAiLCJ3YXJuaW5nIiwiX2xlbiIsIl9rZXkiLCJTdHJpbmciLCJ4IiwiTnVtYmVyIiwiSlNPTiIsInN0cmluZ2lmeSIsIl8iLCJhcmciLCJpc0VtcHR5VmFsdWUiLCJpc05hdGl2ZVN0cmluZ1R5cGUiLCJhc3luY1NlcmlhbEFycmF5IiwiYXJyTGVuZ3RoIiwibmV4dCIsImVycm9ycyIsIm9yaWdpbmFsIiwiYXN5bmNNYXAiLCJvYmpBcnIiLCJvcHRpb24iLCJmaXJzdCIsInJldCIsImsiLCJmbGF0dGVuT2JqQXJyIiwiZmlyc3RGaWVsZHMiLCJvYmpBcnJLZXlzIiwib2JqQXJyTGVuZ3RoIiwidG90YWwiLCJyZXN1bHRzIiwiYXN5bmNQYXJhbGxlbEFycmF5IiwiY29tcGxlbWVudEVycm9yIiwicnVsZSIsIm9lIiwibWVzc2FnZSIsImZpZWxkIiwiZnVsbEZpZWxkIiwiZGVlcE1lcmdlIiwic291cmNlIiwidHlwZW9mX2RlZmF1bHQiLCJydWxlX3JlcXVpcmVkIiwicmVxdWlyZWQiLCJtZXNzYWdlcyIsInJ1bGVfd2hpdGVzcGFjZSIsIndoaXRlc3BhY2UiLCJwYXR0ZXJuIiwiZW1haWwiLCJ1cmwiLCJoZXgiLCJ0eXBlcyIsImludGVnZXIiLCJwYXJzZUludCIsImZsb2F0IiwicmVnZXhwIiwiZGF0ZSIsImdldFRpbWUiLCJnZXRZZWFyIiwiaXNOYU4iLCJFTlVNIiwiZXNfcnVsZSIsInJ1bGVUeXBlIiwicmFuZ2UiLCJtaW4iLCJtYXgiLCJ2YWwiLCJudW0iLCJlbnVtIiwibWlzbWF0Y2giLCJlbnVtX0VOVU0iLCJ2YWxpZGF0b3JfdHlwZSIsImVzX3ZhbGlkYXRvciIsImJvb2xlYW4iLCJkYXRlT2JqZWN0IiwibmV3TWVzc2FnZXMiLCJkZWZhdWx0IiwicGFyc2UiLCJpbnZhbGlkIiwiY2xvbmUiLCJjbG9uZWQiLCJtZXNzYWdlc19tZXNzYWdlcyIsIlNjaGVtYSIsImRlc2NyaXB0b3IiLCJydWxlcyIsIl9tZXNzYWdlcyIsImRlZmluZSIsInoiLCJpdGVtIiwidmFsaWRhdGUiLCJzb3VyY2VfIiwibyIsIm9jIiwic2VyaWVzIiwiciIsInRyYW5zZm9ybSIsInZhbGlkYXRvciIsImdldFZhbGlkYXRpb25NZXRob2QiLCJnZXRUeXBlIiwiZXJyb3JGaWVsZHMiLCJkb0l0IiwiZGVlcCIsImZpZWxkcyIsImRlZmF1bHRGaWVsZCIsImFkZEZ1bGxmaWVsZCIsInNjaGVtYSIsImNiIiwiY29uY2F0IiwiZmllbGRzU2NoZW1hIiwiZmllbGRTY2hlbWEiLCJlcnJzIiwicmVzIiwidGhlbiIsImFkZCIsImNvbXBsZXRlIiwibWVzc2FnZUluZGV4IiwiZXMiLCJjcmVhdGVGb3JtRmllbGRfRmllbGQiLCJGaWVsZCIsImlzRm9ybUZpZWxkIiwiY3JlYXRlRm9ybUZpZWxkIiwidXRpbHNfZmxhdHRlbkZpZWxkcyIsIm1heWJlTmVzdGVkRmllbGRzIiwiaXNMZWFmTm9kZSIsImVycm9yTWVzc2FnZSIsInRyZWVUcmF2ZXJzZSIsInRyZWUiLCJzdWJUcmVlIiwid2FybmluZ19kZWZhdWx0Iiwic3ViVHJlZUtleSIsImdldFBhcmFtcyIsIm5zIiwib3B0IiwibmFtZXMiLCJ1dGlsc19pc0VtcHR5T2JqZWN0IiwiaGFzUnVsZXMiLCJzb21lIiwicGFydE9mIiwiY3JlYXRlRmllbGRzU3RvcmVfRmllbGRzU3RvcmUiLCJGaWVsZHNTdG9yZSIsImNyZWF0ZUZpZWxkc1N0b3JlX2luaXRpYWxpc2VQcm9wcyIsImZsYXR0ZW5GaWVsZHMiLCJmaWVsZHNNZXRhIiwidmFsaWRGaWVsZHNOYW1lIiwiZ2V0QWxsRmllbGRzTmFtZSIsIm5vd0ZpZWxkcyIsIm5vd1ZhbHVlcyIsImdldFZhbHVlRnJvbUZpZWxkcyIsImZpZWxkTWV0YSIsImdldEZpZWxkTWV0YSIsIm5vcm1hbGl6ZSIsIm5vd1ZhbHVlIiwiZ2V0VmFsaWRGaWVsZHNGdWxsTmFtZSIsInJlZHVjZSIsImFjYyIsIm1ldGEiLCJpbml0aWFsVmFsdWUiLCJmaWx0ZXIiLCJoaWRkZW4iLCJtYXliZVBhcnRpYWxOYW1lIiwibWF5YmVQYXJ0aWFsTmFtZXMiLCJnZXRWYWxpZEZpZWxkc05hbWUiLCJmdWxsTmFtZSIsInBhcnRpYWxOYW1lIiwicHJlZml4IiwibGFzdEluZGV4T2YiLCJzdGFydHNXaXRoIiwiZ2V0VmFsdWVQcm9wcyIsInZhbHVlUHJvcE5hbWUiLCJnZXRGaWVsZCIsImZpZWxkVmFsdWUiLCJkaXJ0eSIsInNldF9kZWZhdWx0IiwiX3RoaXM0IiwiZ2V0Tm90Q29sbGVjdGVkRmllbGRzIiwibWVtYmVyIiwiZ2V0dGVyIiwiZnVsbE5hbWVzIiwiaXNBcnJheVZhbHVlIiwic3VmZml4TmFtZVN0YXJ0SW5kZXgiLCJldmVyeSIsIm4iLCJfdGhpczUiLCJzZXRGaWVsZHNJbml0aWFsVmFsdWUiLCJpbml0aWFsVmFsdWVzIiwiZmxhdHRlbmVkSW5pdGlhbFZhbHVlcyIsImZsYXR0ZW5SZWdpc3RlcmVkRmllbGRzIiwic2V0RmllbGRNZXRhIiwiZ2V0QWxsVmFsdWVzIiwiZ2V0RmllbGRzVmFsdWUiLCJnZXROZXN0ZWRGaWVsZHMiLCJnZXRGaWVsZFZhbHVlIiwiZ2V0TmVzdGVkRmllbGQiLCJnZXRGaWVsZHNFcnJvciIsImdldEZpZWxkRXJyb3IiLCJnZXRFcnJvclN0cnMiLCJnZXRGaWVsZE1lbWJlciIsImlzRmllbGRWYWxpZGF0aW5nIiwiaXNGaWVsZHNWYWxpZGF0aW5nIiwiaXNGaWVsZFRvdWNoZWQiLCJpc0ZpZWxkc1RvdWNoZWQiLCJERUZBVUxUX1RSSUdHRVIiLCJlc19jcmVhdGVCYXNlRm9ybSIsInZhbGlkYXRlTWVzc2FnZXMiLCJvbkZpZWxkc0NoYW5nZSIsIm9uVmFsdWVzQ2hhbmdlIiwiX29wdGlvbiRtYXBQcm9wcyIsIm1hcFByb3BzIiwibWFwUHJvcHNUb0ZpZWxkcyIsImZpZWxkTmFtZVByb3AiLCJmaWVsZE1ldGFQcm9wIiwiZmllbGREYXRhUHJvcCIsIl9vcHRpb24kZm9ybVByb3BOYW1lIiwiZm9ybVByb3BOYW1lIiwid2l0aFJlZiIsIldyYXBwZWRDb21wb25lbnQiLCJDb250YWluZXIiLCJnZXREaXNwbGF5TmFtZSIsImhvaXN0X25vbl9yZWFjdF9zdGF0aWNzX2Nqc19kZWZhdWx0IiwiYXJndW1lbnRDb250YWluZXIiLCJjcmVhdGVfcmVhY3RfY2xhc3NfZGVmYXVsdCIsImZpZWxkc1N0b3JlIiwiY3JlYXRlRmllbGRzU3RvcmUiLCJpbnN0YW5jZXMiLCJjYWNoZWRCaW5kIiwiY2xlYXJlZEZpZWxkTWV0YUNhY2hlIiwiX2ZpZWxkc1N0b3JlIiwic3VibWl0dGluZyIsInVwZGF0ZUZpZWxkcyIsIm9uQ29sbGVjdENvbW1vbiIsInRvQ29uc3VtYWJsZUFycmF5X2RlZmF1bHQiLCJvcmlnaW5hbFByb3BzIiwiX2ZpZWxkTWV0YSRvcmlnaW5hbFByIiwiZ2V0VmFsdWVGcm9tRXZlbnQiLCJjaGVja2VkIiwidmFsdWVzQWxsIiwidmFsdWVzQWxsU2V0IiwidG91Y2hlZCIsIm9uQ29sbGVjdCIsIm5hbWVfIiwiX29uQ29sbGVjdENvbW1vbiIsIm5ld0ZpZWxkIiwic2V0RmllbGRzIiwib25Db2xsZWN0VmFsaWRhdGUiLCJfbGVuMiIsIl9rZXkyIiwiX29uQ29sbGVjdENvbW1vbjIiLCJ2YWxpZGF0ZUZpZWxkc0ludGVybmFsIiwidmFsaWRhdGVGaXJzdCIsImdldENhY2hlQmluZCIsInJlY292ZXJDbGVhcmVkRmllbGQiLCJnZXRGaWVsZERlY29yYXRvciIsImZpZWxkT3B0aW9uIiwiZ2V0RmllbGRQcm9wcyIsImZpZWxkRWxlbSIsInJlZiIsInJlYWN0X2RlZmF1bHQiLCJjbG9uZUVsZW1lbnQiLCJnZXRGaWVsZFZhbHVlUHJvcFZhbHVlIiwidXNlcnNGaWVsZE9wdGlvbiIsInRyaWdnZXIiLCJfZmllbGRPcHRpb24kdmFsaWRhdGUiLCJ2YWxpZGF0ZVRyaWdnZXIiLCJpbnB1dFByb3BzIiwic2F2ZVJlZiIsInZhbGlkYXRlUnVsZXMiLCJuZXdJdGVtIiwibm9ybWFsaXplVmFsaWRhdGVSdWxlcyIsInZhbGlkYXRlVHJpZ2dlcnMiLCJwcmUiLCJjdXJyIiwiZ2V0VmFsaWRhdGVUcmlnZ2VycyIsImdldEZpZWxkSW5zdGFuY2UiLCJnZXRSdWxlcyIsImZsYXR0ZW5BcnJheSIsImNoYW5nZWRGaWVsZHMiLCJnZXROZXN0ZWRBbGxGaWVsZHMiLCJmb3JjZVVwZGF0ZSIsInJlc2V0RmllbGRzIiwibmV3RmllbGRzIiwic2V0RmllbGRzVmFsdWUiLCJjaGFuZ2VkVmFsdWVzIiwidmFsdWVzIiwiYWxsVmFsdWVzIiwiY2xlYXJGaWVsZCIsIl9yZWYiLCJfdGhpczYiLCJmaWVsZE5hbWVzIiwiX3JlZiRvcHRpb25zIiwiYWxsUnVsZXMiLCJhbGxGaWVsZHMiLCJhbHJlYWR5RXJyb3JzIiwiZm9yY2UiLCJ2YWxpZGF0aW5nIiwiZXJyb3JzR3JvdXAiLCJmaWVsZE5hbWUiLCJnZXRfZGVmYXVsdCIsImV4cGlyZWQiLCJub3dBbGxGaWVsZHMiLCJmaWVsZEVycm9ycyIsIm5vd0ZpZWxkIiwiX3JlZjIiLCJ2YWxpZGF0ZUZpZWxkcyIsIl90aGlzNyIsIl9nZXRQYXJhbXMiLCJpc1N1Ym1pdHRpbmciLCJzdWJtaXQiLCJfdGhpczgiLCJ3cmFwcGVkQ29tcG9uZW50UmVmIiwicmVzdFByb3BzIiwib2JqZWN0V2l0aG91dFByb3BlcnRpZXNfZGVmYXVsdCIsImZvcm1Qcm9wcyIsImdldEZvcm0iLCJtaXhpbiIsImNvbXB1dGVkU3R5bGUiLCJlbCIsInByb3AiLCJjdXJyZW50U3R5bGUiLCJ3b3JkIiwibGV0dGVyIiwidG9VcHBlckNhc2UiLCJjcmVhdGVET01Gb3JtX21peGluIiwidmFsaWRhdGVGaWVsZHNBbmRTY3JvbGwiLCJ2YWxpZE5hbWVzIiwiZmlyc3ROb2RlIiwiZmlyc3RUb3AiLCJfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uIiwiX2RpZEl0ZXJhdG9yRXJyb3IiLCJfaXRlcmF0b3JFcnJvciIsIl9zdGVwIiwiX2l0ZXJhdG9yIiwiaXRlcmF0b3IiLCJkb25lIiwiaGFzX2RlZmF1bHQiLCJyZWFjdF9kb21fZGVmYXVsdCIsImZpbmRET01Ob2RlIiwidG9wIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZXJyIiwiY29udGFpbmVyIiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsIm92ZXJmbG93WSIsInNjcm9sbEhlaWdodCIsImNsaWVudEhlaWdodCIsInBhcmVudE5vZGUiLCJvd25lckRvY3VtZW50IiwiZ2V0U2Nyb2xsYWJsZUNvbnRhaW5lciIsImxpYl9kZWZhdWx0Iiwib25seVNjcm9sbElmTmVlZGVkIiwic2Nyb2xsIiwiZXNfY3JlYXRlRE9NRm9ybSIsImVucXVpcmUiLCJtZWRpYVF1ZXJ5IiwibWVkaWEiLCJyZXNwb25zaXZlQXJyYXkiLCJyZXNwb25zaXZlTWFwIiwieHMiLCJzbSIsIm1kIiwibGciLCJ4bCIsInh4bCIsInJvd19Sb3ciLCJSb3ciLCJzY3JlZW5zIiwic2NyZWVuIiwiZ3V0dGVyIiwicHJldlN0YXRlIiwiYnJlYWtwb2ludCIsImp1c3RpZnkiLCJhbGlnbiIsIl9hJHByZWZpeENscyIsImdldEd1dHRlciIsInJvd1N0eWxlIiwibWFyZ2luTGVmdCIsIm1hcmdpblJpZ2h0IiwiY29scyIsImNvbCIsInBhZGRpbmdMZWZ0IiwicGFkZGluZ1JpZ2h0Iiwicm93IiwiY29sX3Jlc3QiLCJzdHJpbmdPck51bWJlciIsIm9iamVjdE9yTnVtYmVyIiwiY29sX0NvbCIsIkNvbCIsInNwYW4iLCJvcmRlciIsIm9mZnNldCIsInB1bGwiLCJzaXplQ2xhc3NPYmoiLCJfZXh0ZW5kczIiLCJzaXplUHJvcHMiLCJncmlkX2NvbCIsIkZvcm1JdGVtX0Zvcm1JdGVtIiwiRm9ybUl0ZW0iLCJoZWxwU2hvdyIsIm9uSGVscEFuaW1FbmQiLCJvbkxhYmVsQ2xpY2siLCJsYWJlbCIsImlkIiwiZ2V0SWQiLCJxdWVyeVNlbGVjdG9yQWxsIiwicHJldmVudERlZmF1bHQiLCJjb250cm9sIiwicXVlcnlTZWxlY3RvciIsImZvY3VzIiwiX3V0aWxfd2FybmluZyIsImdldENvbnRyb2xzIiwiaGVscCIsImdldE9ubHlDb250cm9sIiwiaW50ZXJzcGVyc2VfZGVmYXVsdCIsInJlY3Vyc2l2ZWx5IiwiY29udHJvbHMiLCJjaGlsZHJlbkFycmF5IiwidG9BcnJheSIsImdldENoaWxkUHJvcCIsImdldEhlbHBNZXNzYWdlIiwiQW5pbWF0ZSIsInRyYW5zaXRpb25OYW1lIiwidHJhbnNpdGlvbkFwcGVhciIsIm9uRW5kIiwiZXh0cmEiLCJnZXRNZXRhIiwiYzEiLCJjMiIsImMzIiwib25seUNvbnRyb2wiLCJ2YWxpZGF0ZVN0YXR1cyIsImdldFZhbGlkYXRlU3RhdHVzIiwiaGFzLWZlZWRiYWNrIiwiaGFzRmVlZGJhY2siLCJoYXMtc3VjY2VzcyIsImhhcy13YXJuaW5nIiwiaGFzLWVycm9yIiwiaXMtdmFsaWRhdGluZyIsInRoZW1lIiwiX3Byb3BzMiIsIndyYXBwZXJDb2wiLCJfcHJvcHMzIiwibGFiZWxDb2wiLCJjb2xvbiIsImlzUmVxdWlyZWQiLCJsYWJlbENvbENsYXNzTmFtZSIsImxhYmVsQ2xhc3NOYW1lIiwibGFiZWxDaGlsZHJlbiIsInZlcnRpY2FsIiwidHJpbSIsImh0bWxGb3IiLCJyZW5kZXJMYWJlbCIsInJlbmRlcldyYXBwZXIiLCJyZW5kZXJWYWxpZGF0ZVdyYXBwZXIiLCJyZW5kZXJIZWxwIiwicmVuZGVyRXh0cmEiLCJfaXRlbUNsYXNzTmFtZSIsIml0ZW1DbGFzc05hbWUiLCJyZW5kZXJDaGlsZHJlbiIsInJlbmRlckZvcm1JdGVtIiwiZm9ybV9Gb3JtSXRlbSIsIkZvcm1fRm9ybSIsIkZvcm0iLCJmb3JtIiwibGF5b3V0IiwiaGlkZVJlcXVpcmVkTWFyayIsIl9wcm9wcyRjbGFzc05hbWUiLCJmb3JtQ2xhc3NOYW1lIiwib21pdF9qc19lcyIsImZvcm1fRm9ybSIsIm9uU3VibWl0IiwiSXRlbSIsImNyZWF0ZSIsIklucHV0X0lucHV0IiwiSW5wdXQiLCJoYW5kbGVLZXlEb3duIiwiX3RoaXMkcHJvcHMiLCJvblByZXNzRW50ZXIiLCJvbktleURvd24iLCJrZXlDb2RlIiwic2F2ZUlucHV0IiwiaW5wdXQiLCJibHVyIiwic2VsZWN0IiwiZGlzYWJsZWQiLCJfY2xhc3NOYW1lczMiLCJhZGRvbkJlZm9yZSIsImFkZG9uQWZ0ZXIiLCJ3cmFwcGVyQ2xhc3NOYW1lIiwiYWRkb25DbGFzc05hbWUiLCJncm91cENsYXNzTmFtZSIsIl9jbGFzc05hbWVzNCIsInN1ZmZpeCIsImFmZml4V3JhcHBlckNscyIsImdldElucHV0Q2xhc3NOYW1lIiwiZml4Q29udHJvbGxlZFZhbHVlIiwicmVuZGVyTGFiZWxlZEljb24iLCJyZW5kZXJMYWJlbGVkSW5wdXQiLCJyZW5kZXJJbnB1dCIsImlucHV0X0lucHV0IiwibWF4TGVuZ3RoIiwib25LZXlVcCIsIm9uRm9jdXMiLCJvbkJsdXIiLCJpbnB1dF9Hcm91cCIsImNscyIsImNvbXBhY3QiLCJvbk1vdXNlRW50ZXIiLCJvbk1vdXNlTGVhdmUiLCJTZWFyY2hfU2VhcmNoIiwiU2VhcmNoIiwib25TZWFyY2giLCJlbnRlckJ1dHRvbiIsImVudGVyQnV0dG9uQXNFbGVtZW50IiwiZXNfYnV0dG9uIiwiaW5wdXRQcmVmaXhDbHMiLCJidXR0b25Pckljb24iLCJnZXRCdXR0b25Pckljb24iLCJzZWFyY2hTdWZmaXgiLCJpbnB1dENsYXNzTmFtZSIsImlucHV0X1NlYXJjaCIsIkhJRERFTl9URVhUQVJFQV9TVFlMRSIsIlNJWklOR19TVFlMRSIsImNvbXB1dGVkU3R5bGVDYWNoZSIsImhpZGRlblRleHRhcmVhIiwiY2FsY3VsYXRlTm9kZUhlaWdodCIsInVpVGV4dE5vZGUiLCJ1c2VDYWNoZSIsIm1pblJvd3MiLCJtYXhSb3dzIiwiX2NhbGN1bGF0ZU5vZGVTdHlsaW5nIiwibm9kZVJlZiIsImJveFNpemluZyIsInBhZGRpbmdTaXplIiwicGFyc2VGbG9hdCIsImJvcmRlclNpemUiLCJub2RlSW5mbyIsInNpemluZ1N0eWxlIiwiY2FsY3VsYXRlTm9kZVN0eWxpbmciLCJwbGFjZWhvbGRlciIsIm1pbkhlaWdodCIsIk1JTl9TQUZFX0lOVEVHRVIiLCJtYXhIZWlnaHQiLCJoZWlnaHQiLCJzaW5nbGVSb3dIZWlnaHQiLCJNYXRoIiwiVGV4dEFyZWFfVGV4dEFyZWEiLCJUZXh0QXJlYSIsInRleHRhcmVhU3R5bGVzIiwicmVzaXplVGV4dGFyZWEiLCJhdXRvc2l6ZSIsInRleHRBcmVhUmVmIiwiaGFuZGxlVGV4dGFyZWFDaGFuZ2UiLCJvbkNoYW5nZSIsInNhdmVUZXh0QXJlYVJlZiIsInRleHRBcmVhIiwibmV4dEZyYW1lQWN0aW9uSWQiLCJuZXh0RnJhbWVJZCIsImNhbmNlbEFuaW1hdGlvbkZyYW1lIiwiY2xlYXJOZXh0RnJhbWVBY3Rpb24iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJvbk5leHRGcmFtZSIsImdldFRleHRBcmVhQ2xhc3NOYW1lIiwiaW5wdXRfVGV4dEFyZWEiXSwibWFwcGluZ3MiOiJ3RkF1QkEsSUFBQUEsRUFBQUMsTUFBQUQsUUFFQUUsRUFBQUMsUUFBQUgsbUJDekJBLElBR0FJLEVBSGdCQyxFQUFRLEdBR3hCQyxDQUFBQyxPQUFBLFVBRUFMLEVBQUFDLFFBQUFDLG1CQ0xBLElBQUFJLEVBQVNILEVBQVEsS0FvQmpCSCxFQUFBQyxRQVZBLFNBQUFNLEVBQUFDLEdBRUEsSUFEQSxJQUFBQyxFQUFBRixFQUFBRSxPQUNBQSxLQUNBLEdBQUFILEVBQUFDLEVBQUFFLEdBQUEsR0FBQUQsR0FDQSxPQUFBQyxFQUdBLDJCQ2pCQSxJQUFBQyxFQUFnQlAsRUFBUSxLQWlCeEJILEVBQUFDLFFBUEEsU0FBQVUsRUFBQUgsR0FDQSxJQUFBSSxFQUFBRCxFQUFBRSxTQUNBLE9BQUFI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eUYsT0FBVzVMLEVBQUFtRyxNQUFBeE8sS0FBQTJJLE1BQUFtdUIsZ0JBTW5DLE1BSEEsVUFBQTNpQixJQUNBQSxFQUFBclosTUFBQXFaLEVBQUFyWixPQUFBLElBRW1CeVYsRUFBQSxjQUFtQixXQUFhMEQsT0FBV0UsR0FBZXRHLFVBQUE3TixLQUFBNDNCLHVCQUFBcHBCLFFBQUFna0IsVUFBQXh5QixLQUFBcXlCLGNBQUE4RSxTQUFBbjNCLEtBQUFrM0IscUJBQUF4UyxJQUFBMWtCLEtBQUFvM0IsdUJBSTdFUCxFQXJHWSxDQXNHVnRtQixFQUFBLFdBRWFzbkIsRUFBQSxFQUVmakIsRUFBUTV0QixjQUNSc0osVUFBQSxhQy9IQXVoQixFQUFLbGYsTUFBU3VmLEVBQ2RMLEVBQUtXLE9BQVVVLEVBQ2ZyQixFQUFLZ0QsU0FBWWdCLEVBQ0ZqakIsRUFBQSIsImZpbGUiOiI3LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGFuIGBBcnJheWAgb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMC4xLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNBcnJheShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcnJheShkb2N1bWVudC5ib2R5LmNoaWxkcmVuKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0FycmF5KF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG5cbm1vZHVsZS5leHBvcnRzID0gaXNBcnJheTtcbiIsInZhciBnZXROYXRpdmUgPSByZXF1aXJlKCcuL19nZXROYXRpdmUnKTtcblxuLyogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgdGhhdCBhcmUgdmVyaWZpZWQgdG8gYmUgbmF0aXZlLiAqL1xudmFyIG5hdGl2ZUNyZWF0ZSA9IGdldE5hdGl2ZShPYmplY3QsICdjcmVhdGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBuYXRpdmVDcmVhdGU7XG4iLCJ2YXIgZXEgPSByZXF1aXJlKCcuL2VxJyk7XG5cbi8qKlxuICogR2V0cyB0aGUgaW5kZXggYXQgd2hpY2ggdGhlIGBrZXlgIGlzIGZvdW5kIGluIGBhcnJheWAgb2Yga2V5LXZhbHVlIHBhaXJzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7Kn0ga2V5IFRoZSBrZXkgdG8gc2VhcmNoIGZvci5cbiAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gKi9cbmZ1bmN0aW9uIGFzc29jSW5kZXhPZihhcnJheSwga2V5KSB7XG4gIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gIHdoaWxlIChsZW5ndGgtLSkge1xuICAgIGlmIChlcShhcnJheVtsZW5ndGhdWzBdLCBrZXkpKSB7XG4gICAgICByZXR1cm4gbGVuZ3RoO1xuICAgIH1cbiAgfVxuICByZXR1cm4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzb2NJbmRleE9mO1xuIiwidmFyIGlzS2V5YWJsZSA9IHJlcXVpcmUoJy4vX2lzS2V5YWJsZScpO1xuXG4vKipcbiAqIEdldHMgdGhlIGRhdGEgZm9yIGBtYXBgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge09iamVjdH0gbWFwIFRoZSBtYXAgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSByZWZlcmVuY2Uga2V5LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICovXG5mdW5jdGlvbiBnZXRNYXBEYXRhKG1hcCwga2V5KSB7XG4gIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICByZXR1cm4gaXNLZXlhYmxlKGtleSlcbiAgICA/IGRhdGFbdHlwZW9mIGtleSA9PSAnc3RyaW5nJyA/ICdzdHJpbmcnIDogJ2hhc2gnXVxuICAgIDogZGF0YS5tYXA7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZ2V0TWFwRGF0YTtcbiIsInZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNLZXkgPSByZXF1aXJlKCcuL19pc0tleScpLFxuICAgIHN0cmluZ1RvUGF0aCA9IHJlcXVpcmUoJy4vX3N0cmluZ1RvUGF0aCcpLFxuICAgIHRvU3RyaW5nID0gcmVxdWlyZSgnLi90b1N0cmluZycpO1xuXG4vKipcbiAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5IGtleXMgb24uXG4gKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGNhc3QgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gY2FzdFBhdGgodmFsdWUsIG9iamVjdCkge1xuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIGlzS2V5KHZhbHVlLCBvYmplY3QpID8gW3ZhbHVlXSA6IHN0cmluZ1RvUGF0aCh0b1N0cmluZyh2YWx1ZSkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGNhc3RQYXRoO1xuIiwidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nO1xuXG4vKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc3ltYm9sLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNTeW1ib2woU3ltYm9sLml0ZXJhdG9yKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzU3ltYm9sKCdhYmMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzU3ltYm9sKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ3N5bWJvbCcgfHxcbiAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzU3ltYm9sO1xuIiwidmFyIFN5bWJvbCA9IHJlcXVpcmUoJy4vX1N5bWJvbCcpLFxuICAgIGdldFJhd1RhZyA9IHJlcXVpcmUoJy4vX2dldFJhd1RhZycpLFxuICAgIG9iamVjdFRvU3RyaW5nID0gcmVxdWlyZSgnLi9fb2JqZWN0VG9TdHJpbmcnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIG51bGxUYWcgPSAnW29iamVjdCBOdWxsXScsXG4gICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXSc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgYHRvU3RyaW5nVGFnYC5cbiAqL1xuZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gdW5kZWZpbmVkVGFnIDogbnVsbFRhZztcbiAgfVxuICByZXR1cm4gKHN5bVRvU3RyaW5nVGFnICYmIHN5bVRvU3RyaW5nVGFnIGluIE9iamVjdCh2YWx1ZSkpXG4gICAgPyBnZXRSYXdUYWcodmFsdWUpXG4gICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUdldFRhZztcbiIsInZhciByb290ID0gcmVxdWlyZSgnLi9fcm9vdCcpO1xuXG4vKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbnZhciBTeW1ib2wgPSByb290LlN5bWJvbDtcblxubW9kdWxlLmV4cG9ydHMgPSBTeW1ib2w7XG4iLCJ2YXIgZnJlZUdsb2JhbCA9IHJlcXVpcmUoJy4vX2ZyZWVHbG9iYWwnKTtcblxuLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBzZWxmYC4gKi9cbnZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4vKiogVXNlZCBhcyBhIHJlZmVyZW5jZSB0byB0aGUgZ2xvYmFsIG9iamVjdC4gKi9cbnZhciByb290ID0gZnJlZUdsb2JhbCB8fCBmcmVlU2VsZiB8fCBGdW5jdGlvbigncmV0dXJuIHRoaXMnKSgpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJvb3Q7XG4iLCIvKipcbiAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLiBBIHZhbHVlIGlzIG9iamVjdC1saWtlIGlmIGl0J3Mgbm90IGBudWxsYFxuICogYW5kIGhhcyBhIGB0eXBlb2ZgIHJlc3VsdCBvZiBcIm9iamVjdFwiLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICogLy8gPT4gZmFsc2VcbiAqL1xuZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIHR5cGVvZiB2YWx1ZSA9PSAnb2JqZWN0Jztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc09iamVjdExpa2U7XG4iLCJ2YXIgYmFzZUlzTmF0aXZlID0gcmVxdWlyZSgnLi9fYmFzZUlzTmF0aXZlJyksXG4gICAgZ2V0VmFsdWUgPSByZXF1aXJlKCcuL19nZXRWYWx1ZScpO1xuXG4vKipcbiAqIEdldHMgdGhlIG5hdGl2ZSBmdW5jdGlvbiBhdCBga2V5YCBvZiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGZ1bmN0aW9uIGlmIGl0J3MgbmF0aXZlLCBlbHNlIGB1bmRlZmluZWRgLlxuICovXG5mdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgdmFyIHZhbHVlID0gZ2V0VmFsdWUob2JqZWN0LCBrZXkpO1xuICByZXR1cm4gYmFzZUlzTmF0aXZlKHZhbHVlKSA/IHZhbHVlIDogdW5kZWZpbmVkO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldE5hdGl2ZTtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgdGhlXG4gKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gKiBvZiBgT2JqZWN0YC4gKGUuZy4gYXJyYXlzLCBmdW5jdGlvbnMsIG9iamVjdHMsIHJlZ2V4ZXMsIGBuZXcgTnVtYmVyKDApYCwgYW5kIGBuZXcgU3RyaW5nKCcnKWApXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNPYmplY3Qoe30pO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNPYmplY3QoWzEsIDIsIDNdKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmlzT2JqZWN0KF8ubm9vcCk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc09iamVjdChudWxsKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzT2JqZWN0KHZhbHVlKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiAodHlwZSA9PSAnb2JqZWN0JyB8fCB0eXBlID09ICdmdW5jdGlvbicpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzT2JqZWN0O1xuIiwidmFyIGlzU3ltYm9sID0gcmVxdWlyZSgnLi9pc1N5bWJvbCcpO1xuXG4vKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBJTkZJTklUWSA9IDEgLyAwO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcga2V5IGlmIGl0J3Mgbm90IGEgc3RyaW5nIG9yIHN5bWJvbC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAqIEByZXR1cm5zIHtzdHJpbmd8c3ltYm9sfSBSZXR1cm5zIHRoZSBrZXkuXG4gKi9cbmZ1bmN0aW9uIHRvS2V5KHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b0tleTtcbiIsIi8qKlxuICogUGVyZm9ybXMgYVxuICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogMSB9O1xuICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAqXG4gKiBfLmVxKG9iamVjdCwgb2JqZWN0KTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKG9iamVjdCwgb3RoZXIpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKCdhJywgJ2EnKTtcbiAqIC8vID0+IHRydWVcbiAqXG4gKiBfLmVxKCdhJywgT2JqZWN0KCdhJykpO1xuICogLy8gPT4gZmFsc2VcbiAqXG4gKiBfLmVxKE5hTiwgTmFOKTtcbiAqIC8vID0+IHRydWVcbiAqL1xuZnVuY3Rpb24gZXEodmFsdWUsIG90aGVyKSB7XG4gIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGVxO1xuIiwiLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTE7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbnZhciByZUlzVWludCA9IC9eKD86MHxbMS05XVxcZCopJC87XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSB2YWxpZCBhcnJheS1saWtlIGluZGV4LlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPU1BWF9TQUZFX0lOVEVHRVJdIFRoZSB1cHBlciBib3VuZHMgb2YgYSB2YWxpZCBpbmRleC5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNJbmRleCh2YWx1ZSwgbGVuZ3RoKSB7XG4gIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICBsZW5ndGggPSBsZW5ndGggPT0gbnVsbCA/IE1BWF9TQUZFX0lOVEVHRVIgOiBsZW5ndGg7XG5cbiAgcmV0dXJuICEhbGVuZ3RoICYmXG4gICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICh0eXBlICE9ICdzeW1ib2wnICYmIHJlSXNVaW50LnRlc3QodmFsdWUpKSkgJiZcbiAgICAgICAgKHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPCBsZW5ndGgpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzSW5kZXg7XG4iLCJ2YXIgYmFzZVNldCA9IHJlcXVpcmUoJy4vX2Jhc2VTZXQnKTtcblxuLyoqXG4gKiBTZXRzIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuIElmIGEgcG9ydGlvbiBvZiBgcGF0aGAgZG9lc24ndCBleGlzdCxcbiAqIGl0J3MgY3JlYXRlZC4gQXJyYXlzIGFyZSBjcmVhdGVkIGZvciBtaXNzaW5nIGluZGV4IHByb3BlcnRpZXMgd2hpbGUgb2JqZWN0c1xuICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAqIGBwYXRoYCBjcmVhdGlvbi5cbiAqXG4gKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDMuNy4wXG4gKiBAY2F0ZWdvcnkgT2JqZWN0XG4gKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gKlxuICogXy5zZXQob2JqZWN0LCAnYVswXS5iLmMnLCA0KTtcbiAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gKiAvLyA9PiA0XG4gKlxuICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gKiBjb25zb2xlLmxvZyhvYmplY3QueFswXS55LnopO1xuICogLy8gPT4gNVxuICovXG5mdW5jdGlvbiBzZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSkge1xuICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldDtcbiIsIi8qKlxuICogSGVscGVyIGZ1bmN0aW9uIGZvciBpdGVyYXRpbmcgb3ZlciBhIGNvbGxlY3Rpb25cbiAqXG4gKiBAcGFyYW0gY29sbGVjdGlvblxuICogQHBhcmFtIGZuXG4gKi9cbmZ1bmN0aW9uIGVhY2goY29sbGVjdGlvbiwgZm4pIHtcbiAgICB2YXIgaSAgICAgID0gMCxcbiAgICAgICAgbGVuZ3RoID0gY29sbGVjdGlvbi5sZW5ndGgsXG4gICAgICAgIGNvbnQ7XG5cbiAgICBmb3IoaTsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnQgPSBmbihjb2xsZWN0aW9uW2ldLCBpKTtcbiAgICAgICAgaWYoY29udCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGJyZWFrOyAvL2FsbG93IGVhcmx5IGV4aXRcbiAgICAgICAgfVxuICAgIH1cbn1cblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb24gZm9yIGRldGVybWluaW5nIHdoZXRoZXIgdGFyZ2V0IG9iamVjdCBpcyBhbiBhcnJheVxuICpcbiAqIEBwYXJhbSB0YXJnZXQgdGhlIG9iamVjdCB1bmRlciB0ZXN0XG4gKiBAcmV0dXJuIHtCb29sZWFufSB0cnVlIGlmIGFycmF5LCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZnVuY3Rpb24gaXNBcnJheSh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5hcHBseSh0YXJnZXQpID09PSAnW29iamVjdCBBcnJheV0nO1xufVxuXG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiBmb3IgZGV0ZXJtaW5pbmcgd2hldGhlciB0YXJnZXQgb2JqZWN0IGlzIGEgZnVuY3Rpb25cbiAqXG4gKiBAcGFyYW0gdGFyZ2V0IHRoZSBvYmplY3QgdW5kZXIgdGVzdFxuICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBmdW5jdGlvbiwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odGFyZ2V0KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB0YXJnZXQgPT09ICdmdW5jdGlvbic7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIGlzRnVuY3Rpb24gOiBpc0Z1bmN0aW9uLFxuICAgIGlzQXJyYXkgOiBpc0FycmF5LFxuICAgIGVhY2ggOiBlYWNoXG59O1xuIiwidmFyIGJhc2VIYXMgPSByZXF1aXJlKCcuL19iYXNlSGFzJyksXG4gICAgaGFzUGF0aCA9IHJlcXVpcmUoJy4vX2hhc1BhdGgnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IHByb3BlcnR5IG9mIGBvYmplY3RgLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBzaW5jZSAwLjEuMFxuICogQG1lbWJlck9mIF9cbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqIEBleGFtcGxlXG4gKlxuICogdmFyIG9iamVjdCA9IHsgJ2EnOiB7ICdiJzogMiB9IH07XG4gKiB2YXIgb3RoZXIgPSBfLmNyZWF0ZSh7ICdhJzogXy5jcmVhdGUoeyAnYic6IDIgfSkgfSk7XG4gKlxuICogXy5oYXMob2JqZWN0LCAnYScpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaGFzKG9iamVjdCwgJ2EuYicpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaGFzKG9iamVjdCwgWydhJywgJ2InXSk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5oYXMob3RoZXIsICdhJyk7XG4gKiAvLyA9PiBmYWxzZVxuICovXG5mdW5jdGlvbiBoYXMob2JqZWN0LCBwYXRoKSB7XG4gIHJldHVybiBvYmplY3QgIT0gbnVsbCAmJiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgYmFzZUhhcyk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzO1xuIiwiLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5oYXNgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gKiBAcGFyYW0ge0FycmF5fHN0cmluZ30ga2V5IFRoZSBrZXkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGJhc2VIYXMob2JqZWN0LCBrZXkpIHtcbiAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VIYXM7XG4iLCJ2YXIgY2FzdFBhdGggPSByZXF1aXJlKCcuL19jYXN0UGF0aCcpLFxuICAgIGlzQXJndW1lbnRzID0gcmVxdWlyZSgnLi9pc0FyZ3VtZW50cycpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc0luZGV4ID0gcmVxdWlyZSgnLi9faXNJbmRleCcpLFxuICAgIGlzTGVuZ3RoID0gcmVxdWlyZSgnLi9pc0xlbmd0aCcpLFxuICAgIHRvS2V5ID0gcmVxdWlyZSgnLi9fdG9LZXknKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBoYXNGdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjayBwcm9wZXJ0aWVzLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaGFzUGF0aChvYmplY3QsIHBhdGgsIGhhc0Z1bmMpIHtcbiAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGtleSA9IHRvS2V5KHBhdGhbaW5kZXhdKTtcbiAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgfVxuICBpZiAocmVzdWx0IHx8ICsraW5kZXggIT0gbGVuZ3RoKSB7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBsZW5ndGggPSBvYmplY3QgPT0gbnVsbCA/IDAgOiBvYmplY3QubGVuZ3RoO1xuICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgIChpc0FycmF5KG9iamVjdCkgfHwgaXNBcmd1bWVudHMob2JqZWN0KSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzUGF0aDtcbiIsInZhciBpc0FycmF5ID0gcmVxdWlyZSgnLi9pc0FycmF5JyksXG4gICAgaXNTeW1ib2wgPSByZXF1aXJlKCcuL2lzU3ltYm9sJyk7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgIHJlSXNQbGFpblByb3AgPSAvXlxcdyokLztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUgYW5kIG5vdCBhIHByb3BlcnR5IHBhdGguXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWx1ZTtcbiAgaWYgKHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJyB8fFxuICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgKG9iamVjdCAhPSBudWxsICYmIHZhbHVlIGluIE9iamVjdChvYmplY3QpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0tleTtcbiIsIi8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgZ2xvYmFsYCBmcm9tIE5vZGUuanMuICovXG52YXIgZnJlZUdsb2JhbCA9IHR5cGVvZiBnbG9iYWwgPT0gJ29iamVjdCcgJiYgZ2xvYmFsICYmIGdsb2JhbC5PYmplY3QgPT09IE9iamVjdCAmJiBnbG9iYWw7XG5cbm1vZHVsZS5leHBvcnRzID0gZnJlZUdsb2JhbDtcbiIsInZhciBTeW1ib2wgPSByZXF1aXJlKCcuL19TeW1ib2wnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBVc2VkIHRvIHJlc29sdmUgdGhlXG4gKiBbYHRvU3RyaW5nVGFnYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtb2JqZWN0LnByb3RvdHlwZS50b3N0cmluZylcbiAqIG9mIHZhbHVlcy5cbiAqL1xudmFyIG5hdGl2ZU9iamVjdFRvU3RyaW5nID0gb2JqZWN0UHJvdG8udG9TdHJpbmc7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHN5bVRvU3RyaW5nVGFnID0gU3ltYm9sID8gU3ltYm9sLnRvU3RyaW5nVGFnIDogdW5kZWZpbmVkO1xuXG4vKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUdldFRhZ2Agd2hpY2ggaWdub3JlcyBgU3ltYm9sLnRvU3RyaW5nVGFnYCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gKi9cbmZ1bmN0aW9uIGdldFJhd1RhZyh2YWx1ZSkge1xuICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICB0YWcgPSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG5cbiAgdHJ5IHtcbiAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgdmFyIHVubWFza2VkID0gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gIGlmICh1bm1hc2tlZCkge1xuICAgIGlmIChpc093bikge1xuICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZWxldGUgdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFJhd1RhZztcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKlxuICogVXNlZCB0byByZXNvbHZlIHRoZVxuICogW2B0b1N0cmluZ1RhZ2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLW9iamVjdC5wcm90b3R5cGUudG9zdHJpbmcpXG4gKiBvZiB2YWx1ZXMuXG4gKi9cbnZhciBuYXRpdmVPYmplY3RUb1N0cmluZyA9IG9iamVjdFByb3RvLnRvU3RyaW5nO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcgdXNpbmcgYE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmdgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY29udmVydGVkIHN0cmluZy5cbiAqL1xuZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG9iamVjdFRvU3RyaW5nO1xuIiwidmFyIG1lbW9pemVDYXBwZWQgPSByZXF1aXJlKCcuL19tZW1vaXplQ2FwcGVkJyk7XG5cbi8qKiBVc2VkIHRvIG1hdGNoIHByb3BlcnR5IG5hbWVzIHdpdGhpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZVByb3BOYW1lID0gL1teLltcXF1dK3xcXFsoPzooLT9cXGQrKD86XFwuXFxkKyk/KXwoW1wiJ10pKCg/Oig/IVxcMilbXlxcXFxdfFxcXFwuKSo/KVxcMilcXF18KD89KD86XFwufFxcW1xcXSkoPzpcXC58XFxbXFxdfCQpKS9nO1xuXG4vKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbnZhciByZUVzY2FwZUNoYXIgPSAvXFxcXChcXFxcKT8vZztcblxuLyoqXG4gKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICovXG52YXIgc3RyaW5nVG9QYXRoID0gbWVtb2l6ZUNhcHBlZChmdW5jdGlvbihzdHJpbmcpIHtcbiAgdmFyIHJlc3VsdCA9IFtdO1xuICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICByZXN1bHQucHVzaCgnJyk7XG4gIH1cbiAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgIHJlc3VsdC5wdXNoKHF1b3RlID8gc3ViU3RyaW5nLnJlcGxhY2UocmVFc2NhcGVDaGFyLCAnJDEnKSA6IChudW1iZXIgfHwgbWF0Y2gpKTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBzdHJpbmdUb1BhdGg7XG4iLCJ2YXIgbWVtb2l6ZSA9IHJlcXVpcmUoJy4vbWVtb2l6ZScpO1xuXG4vKiogVXNlZCBhcyB0aGUgbWF4aW11bSBtZW1vaXplIGNhY2hlIHNpemUuICovXG52YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuLyoqXG4gKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8ubWVtb2l6ZWAgd2hpY2ggY2xlYXJzIHRoZSBtZW1vaXplZCBmdW5jdGlvbidzXG4gKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAqL1xuZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gIHZhciByZXN1bHQgPSBtZW1vaXplKGZ1bmMsIGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChjYWNoZS5zaXplID09PSBNQVhfTUVNT0laRV9TSVpFKSB7XG4gICAgICBjYWNoZS5jbGVhcigpO1xuICAgIH1cbiAgICByZXR1cm4ga2V5O1xuICB9KTtcblxuICB2YXIgY2FjaGUgPSByZXN1bHQuY2FjaGU7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWVtb2l6ZUNhcHBlZDtcbiIsInZhciBNYXBDYWNoZSA9IHJlcXVpcmUoJy4vX01hcENhY2hlJyk7XG5cbi8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbnZhciBGVU5DX0VSUk9SX1RFWFQgPSAnRXhwZWN0ZWQgYSBmdW5jdGlvbic7XG5cbi8qKlxuICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgbWVtb2l6ZXMgdGhlIHJlc3VsdCBvZiBgZnVuY2AuIElmIGByZXNvbHZlcmAgaXNcbiAqIHByb3ZpZGVkLCBpdCBkZXRlcm1pbmVzIHRoZSBjYWNoZSBrZXkgZm9yIHN0b3JpbmcgdGhlIHJlc3VsdCBiYXNlZCBvbiB0aGVcbiAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICogcHJvdmlkZWQgdG8gdGhlIG1lbW9pemVkIGZ1bmN0aW9uIGlzIHVzZWQgYXMgdGhlIG1hcCBjYWNoZSBrZXkuIFRoZSBgZnVuY2BcbiAqIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgdGhlIG1lbW9pemVkIGZ1bmN0aW9uLlxuICpcbiAqICoqTm90ZToqKiBUaGUgY2FjaGUgaXMgZXhwb3NlZCBhcyB0aGUgYGNhY2hlYCBwcm9wZXJ0eSBvbiB0aGUgbWVtb2l6ZWRcbiAqIGZ1bmN0aW9uLiBJdHMgY3JlYXRpb24gbWF5IGJlIGN1c3RvbWl6ZWQgYnkgcmVwbGFjaW5nIHRoZSBgXy5tZW1vaXplLkNhY2hlYFxuICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAqIFtgTWFwYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtcHJvcGVydGllcy1vZi10aGUtbWFwLXByb3RvdHlwZS1vYmplY3QpXG4gKiBtZXRob2QgaW50ZXJmYWNlIG9mIGBjbGVhcmAsIGBkZWxldGVgLCBgZ2V0YCwgYGhhc2AsIGFuZCBgc2V0YC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGhhdmUgaXRzIG91dHB1dCBtZW1vaXplZC5cbiAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG1lbW9pemVkIGZ1bmN0aW9uLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICogdmFyIG90aGVyID0geyAnYyc6IDMsICdkJzogNCB9O1xuICpcbiAqIHZhciB2YWx1ZXMgPSBfLm1lbW9pemUoXy52YWx1ZXMpO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiB2YWx1ZXMob3RoZXIpO1xuICogLy8gPT4gWzMsIDRdXG4gKlxuICogb2JqZWN0LmEgPSAyO1xuICogdmFsdWVzKG9iamVjdCk7XG4gKiAvLyA9PiBbMSwgMl1cbiAqXG4gKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAqIHZhbHVlcy5jYWNoZS5zZXQob2JqZWN0LCBbJ2EnLCAnYiddKTtcbiAqIHZhbHVlcyhvYmplY3QpO1xuICogLy8gPT4gWydhJywgJ2InXVxuICpcbiAqIC8vIFJlcGxhY2UgYF8ubWVtb2l6ZS5DYWNoZWAuXG4gKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICovXG5mdW5jdGlvbiBtZW1vaXplKGZ1bmMsIHJlc29sdmVyKSB7XG4gIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgfVxuICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAga2V5ID0gcmVzb2x2ZXIgPyByZXNvbHZlci5hcHBseSh0aGlzLCBhcmdzKSA6IGFyZ3NbMF0sXG4gICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICBpZiAoY2FjaGUuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiBjYWNoZS5nZXQoa2V5KTtcbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodGhpcywgYXJncyk7XG4gICAgbWVtb2l6ZWQuY2FjaGUgPSBjYWNoZS5zZXQoa2V5LCByZXN1bHQpIHx8IGNhY2hlO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIG1lbW9pemVkLmNhY2hlID0gbmV3IChtZW1vaXplLkNhY2hlIHx8IE1hcENhY2hlKTtcbiAgcmV0dXJuIG1lbW9pemVkO1xufVxuXG4vLyBFeHBvc2UgYE1hcENhY2hlYC5cbm1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxubW9kdWxlLmV4cG9ydHMgPSBtZW1vaXplO1xuIiwidmFyIG1hcENhY2hlQ2xlYXIgPSByZXF1aXJlKCcuL19tYXBDYWNoZUNsZWFyJyksXG4gICAgbWFwQ2FjaGVEZWxldGUgPSByZXF1aXJlKCcuL19tYXBDYWNoZURlbGV0ZScpLFxuICAgIG1hcENhY2hlR2V0ID0gcmVxdWlyZSgnLi9fbWFwQ2FjaGVHZXQnKSxcbiAgICBtYXBDYWNoZUhhcyA9IHJlcXVpcmUoJy4vX21hcENhY2hlSGFzJyksXG4gICAgbWFwQ2FjaGVTZXQgPSByZXF1aXJlKCcuL19tYXBDYWNoZVNldCcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBtYXAgY2FjaGUgb2JqZWN0IHRvIHN0b3JlIGtleS12YWx1ZSBwYWlycy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gTWFwQ2FjaGUoZW50cmllcykge1xuICB2YXIgaW5kZXggPSAtMSxcbiAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICB0aGlzLmNsZWFyKCk7XG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgfVxufVxuXG4vLyBBZGQgbWV0aG9kcyB0byBgTWFwQ2FjaGVgLlxuTWFwQ2FjaGUucHJvdG90eXBlLmNsZWFyID0gbWFwQ2FjaGVDbGVhcjtcbk1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbk1hcENhY2hlLnByb3RvdHlwZS5nZXQgPSBtYXBDYWNoZUdldDtcbk1hcENhY2hlLnByb3RvdHlwZS5oYXMgPSBtYXBDYWNoZUhhcztcbk1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxubW9kdWxlLmV4cG9ydHMgPSBNYXBDYWNoZTtcbiIsInZhciBIYXNoID0gcmVxdWlyZSgnLi9fSGFzaCcpLFxuICAgIExpc3RDYWNoZSA9IHJlcXVpcmUoJy4vX0xpc3RDYWNoZScpLFxuICAgIE1hcCA9IHJlcXVpcmUoJy4vX01hcCcpO1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgY2xlYXJcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICovXG5mdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICB0aGlzLnNpemUgPSAwO1xuICB0aGlzLl9fZGF0YV9fID0ge1xuICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgJ21hcCc6IG5ldyAoTWFwIHx8IExpc3RDYWNoZSksXG4gICAgJ3N0cmluZyc6IG5ldyBIYXNoXG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwQ2FjaGVDbGVhcjtcbiIsInZhciBoYXNoQ2xlYXIgPSByZXF1aXJlKCcuL19oYXNoQ2xlYXInKSxcbiAgICBoYXNoRGVsZXRlID0gcmVxdWlyZSgnLi9faGFzaERlbGV0ZScpLFxuICAgIGhhc2hHZXQgPSByZXF1aXJlKCcuL19oYXNoR2V0JyksXG4gICAgaGFzaEhhcyA9IHJlcXVpcmUoJy4vX2hhc2hIYXMnKSxcbiAgICBoYXNoU2V0ID0gcmVxdWlyZSgnLi9faGFzaFNldCcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYSBoYXNoIG9iamVjdC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAqL1xuZnVuY3Rpb24gSGFzaChlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbkhhc2gucHJvdG90eXBlLmNsZWFyID0gaGFzaENsZWFyO1xuSGFzaC5wcm90b3R5cGVbJ2RlbGV0ZSddID0gaGFzaERlbGV0ZTtcbkhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG5IYXNoLnByb3RvdHlwZS5oYXMgPSBoYXNoSGFzO1xuSGFzaC5wcm90b3R5cGUuc2V0ID0gaGFzaFNldDtcblxubW9kdWxlLmV4cG9ydHMgPSBIYXNoO1xuIiwidmFyIG5hdGl2ZUNyZWF0ZSA9IHJlcXVpcmUoJy4vX25hdGl2ZUNyZWF0ZScpO1xuXG4vKipcbiAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIGhhc2guXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGNsZWFyXG4gKiBAbWVtYmVyT2YgSGFzaFxuICovXG5mdW5jdGlvbiBoYXNoQ2xlYXIoKSB7XG4gIHRoaXMuX19kYXRhX18gPSBuYXRpdmVDcmVhdGUgPyBuYXRpdmVDcmVhdGUobnVsbCkgOiB7fTtcbiAgdGhpcy5zaXplID0gMDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoYXNoQ2xlYXI7XG4iLCJ2YXIgaXNGdW5jdGlvbiA9IHJlcXVpcmUoJy4vaXNGdW5jdGlvbicpLFxuICAgIGlzTWFza2VkID0gcmVxdWlyZSgnLi9faXNNYXNrZWQnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICB0b1NvdXJjZSA9IHJlcXVpcmUoJy4vX3RvU291cmNlJyk7XG5cbi8qKlxuICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICogW3N5bnRheCBjaGFyYWN0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1wYXR0ZXJucykuXG4gKi9cbnZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2c7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbnZhciByZUlzSG9zdEN0b3IgPSAvXlxcW29iamVjdCAuKz9Db25zdHJ1Y3RvclxcXSQvO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgZnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlLFxuICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xudmFyIGZ1bmNUb1N0cmluZyA9IGZ1bmNQcm90by50b1N0cmluZztcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbnZhciByZUlzTmF0aXZlID0gUmVnRXhwKCdeJyArXG4gIGZ1bmNUb1N0cmluZy5jYWxsKGhhc093blByb3BlcnR5KS5yZXBsYWNlKHJlUmVnRXhwQ2hhciwgJ1xcXFwkJicpXG4gIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc05hdGl2ZWAgd2l0aG91dCBiYWQgc2hpbSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBuYXRpdmUgZnVuY3Rpb24sXG4gKiAgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBiYXNlSXNOYXRpdmUodmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICByZXR1cm4gcGF0dGVybi50ZXN0KHRvU291cmNlKHZhbHVlKSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYmFzZUlzTmF0aXZlO1xuIiwidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3QgPSByZXF1aXJlKCcuL2lzT2JqZWN0Jyk7XG5cbi8qKiBgT2JqZWN0I3RvU3RyaW5nYCByZXN1bHQgcmVmZXJlbmNlcy4gKi9cbnZhciBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICBnZW5UYWcgPSAnW29iamVjdCBHZW5lcmF0b3JGdW5jdGlvbl0nLFxuICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJztcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gKlxuICogQHN0YXRpY1xuICogQG1lbWJlck9mIF9cbiAqIEBzaW5jZSAwLjEuMFxuICogQGNhdGVnb3J5IExhbmdcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBmdW5jdGlvbiwgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzRnVuY3Rpb24oXyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0Z1bmN0aW9uKC9hYmMvKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzRnVuY3Rpb24odmFsdWUpIHtcbiAgaWYgKCFpc09iamVjdCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgLy8gVGhlIHVzZSBvZiBgT2JqZWN0I3RvU3RyaW5nYCBhdm9pZHMgaXNzdWVzIHdpdGggdGhlIGB0eXBlb2ZgIG9wZXJhdG9yXG4gIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICB2YXIgdGFnID0gYmFzZUdldFRhZyh2YWx1ZSk7XG4gIHJldHVybiB0YWcgPT0gZnVuY1RhZyB8fCB0YWcgPT0gZ2VuVGFnIHx8IHRhZyA9PSBhc3luY1RhZyB8fCB0YWcgPT0gcHJveHlUYWc7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNGdW5jdGlvbjtcbiIsInZhciBjb3JlSnNEYXRhID0gcmVxdWlyZSgnLi9fY29yZUpzRGF0YScpO1xuXG4vKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xudmFyIG1hc2tTcmNLZXkgPSAoZnVuY3Rpb24oKSB7XG4gIHZhciB1aWQgPSAvW14uXSskLy5leGVjKGNvcmVKc0RhdGEgJiYgY29yZUpzRGF0YS5rZXlzICYmIGNvcmVKc0RhdGEua2V5cy5JRV9QUk9UTyB8fCAnJyk7XG4gIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbn0oKSk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgaXRzIHNvdXJjZSBtYXNrZWQuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gaXNNYXNrZWQoZnVuYykge1xuICByZXR1cm4gISFtYXNrU3JjS2V5ICYmIChtYXNrU3JjS2V5IGluIGZ1bmMpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGlzTWFza2VkO1xuIiwidmFyIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbnZhciBjb3JlSnNEYXRhID0gcm9vdFsnX19jb3JlLWpzX3NoYXJlZF9fJ107XG5cbm1vZHVsZS5leHBvcnRzID0gY29yZUpzRGF0YTtcbiIsIi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIHJlc29sdmUgdGhlIGRlY29tcGlsZWQgc291cmNlIG9mIGZ1bmN0aW9ucy4gKi9cbnZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbi8qKlxuICogQ29udmVydHMgYGZ1bmNgIHRvIGl0cyBzb3VyY2UgY29kZS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICovXG5mdW5jdGlvbiB0b1NvdXJjZShmdW5jKSB7XG4gIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGZ1bmNUb1N0cmluZy5jYWxsKGZ1bmMpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiAoZnVuYyArICcnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHJldHVybiAnJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB0b1NvdXJjZTtcbiIsIi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYGtleWAgb2YgYG9iamVjdGAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGdldFZhbHVlO1xuIiwiLyoqXG4gKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgZGVsZXRlXG4gKiBAbWVtYmVyT2YgSGFzaFxuICogQHBhcmFtIHtPYmplY3R9IGhhc2ggVGhlIGhhc2ggdG8gbW9kaWZ5LlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSB0aGlzLmhhcyhrZXkpICYmIGRlbGV0ZSB0aGlzLl9fZGF0YV9fW2tleV07XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBoYXNoRGVsZXRlO1xuIiwidmFyIG5hdGl2ZUNyZWF0ZSA9IHJlcXVpcmUoJy4vX25hdGl2ZUNyZWF0ZScpO1xuXG4vKiogVXNlZCB0byBzdGFuZC1pbiBmb3IgYHVuZGVmaW5lZGAgaGFzaCB2YWx1ZXMuICovXG52YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogR2V0cyB0aGUgaGFzaCB2YWx1ZSBmb3IgYGtleWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGdldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBoYXNoR2V0KGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZGF0YVtrZXldO1xuICAgIHJldHVybiByZXN1bHQgPT09IEhBU0hfVU5ERUZJTkVEID8gdW5kZWZpbmVkIDogcmVzdWx0O1xuICB9XG4gIHJldHVybiBoYXNPd25Qcm9wZXJ0eS5jYWxsKGRhdGEsIGtleSkgPyBkYXRhW2tleV0gOiB1bmRlZmluZWQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaGFzaEdldDtcbiIsInZhciBuYXRpdmVDcmVhdGUgPSByZXF1aXJlKCcuL19uYXRpdmVDcmVhdGUnKTtcblxuLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xudmFyIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuLyoqIFVzZWQgdG8gY2hlY2sgb2JqZWN0cyBmb3Igb3duIHByb3BlcnRpZXMuICovXG52YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBoYXNoIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBoYXNoSGFzKGtleSkge1xuICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc2hIYXM7XG4iLCJ2YXIgbmF0aXZlQ3JlYXRlID0gcmVxdWlyZSgnLi9fbmF0aXZlQ3JlYXRlJyk7XG5cbi8qKiBVc2VkIHRvIHN0YW5kLWluIGZvciBgdW5kZWZpbmVkYCBoYXNoIHZhbHVlcy4gKi9cbnZhciBIQVNIX1VOREVGSU5FRCA9ICdfX2xvZGFzaF9oYXNoX3VuZGVmaW5lZF9fJztcblxuLyoqXG4gKiBTZXRzIHRoZSBoYXNoIGBrZXlgIHRvIGB2YWx1ZWAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIHNldFxuICogQG1lbWJlck9mIEhhc2hcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAqL1xuZnVuY3Rpb24gaGFzaFNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgdGhpcy5zaXplICs9IHRoaXMuaGFzKGtleSkgPyAwIDogMTtcbiAgZGF0YVtrZXldID0gKG5hdGl2ZUNyZWF0ZSAmJiB2YWx1ZSA9PT0gdW5kZWZpbmVkKSA/IEhBU0hfVU5ERUZJTkVEIDogdmFsdWU7XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGhhc2hTZXQ7XG4iLCJ2YXIgbGlzdENhY2hlQ2xlYXIgPSByZXF1aXJlKCcuL19saXN0Q2FjaGVDbGVhcicpLFxuICAgIGxpc3RDYWNoZURlbGV0ZSA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZURlbGV0ZScpLFxuICAgIGxpc3RDYWNoZUdldCA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZUdldCcpLFxuICAgIGxpc3RDYWNoZUhhcyA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZUhhcycpLFxuICAgIGxpc3RDYWNoZVNldCA9IHJlcXVpcmUoJy4vX2xpc3RDYWNoZVNldCcpO1xuXG4vKipcbiAqIENyZWF0ZXMgYW4gbGlzdCBjYWNoZSBvYmplY3QuXG4gKlxuICogQHByaXZhdGVcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gKi9cbmZ1bmN0aW9uIExpc3RDYWNoZShlbnRyaWVzKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gIHRoaXMuY2xlYXIoKTtcbiAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICB9XG59XG5cbi8vIEFkZCBtZXRob2RzIHRvIGBMaXN0Q2FjaGVgLlxuTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuTGlzdENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBsaXN0Q2FjaGVEZWxldGU7XG5MaXN0Q2FjaGUucHJvdG90eXBlLmdldCA9IGxpc3RDYWNoZUdldDtcbkxpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuTGlzdENhY2hlLnByb3RvdHlwZS5zZXQgPSBsaXN0Q2FjaGVTZXQ7XG5cbm1vZHVsZS5leHBvcnRzID0gTGlzdENhY2hlO1xuIiwiLyoqXG4gKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBjbGVhclxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVDbGVhcigpIHtcbiAgdGhpcy5fX2RhdGFfXyA9IFtdO1xuICB0aGlzLnNpemUgPSAwO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RDYWNoZUNsZWFyO1xuIiwidmFyIGFzc29jSW5kZXhPZiA9IHJlcXVpcmUoJy4vX2Fzc29jSW5kZXhPZicpO1xuXG4vKiogVXNlZCBmb3IgYnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMuICovXG52YXIgYXJyYXlQcm90byA9IEFycmF5LnByb3RvdHlwZTtcblxuLyoqIEJ1aWx0LWluIHZhbHVlIHJlZmVyZW5jZXMuICovXG52YXIgc3BsaWNlID0gYXJyYXlQcm90by5zcGxpY2U7XG5cbi8qKlxuICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIGxpc3QgY2FjaGUuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgdmFyIGRhdGEgPSB0aGlzLl9fZGF0YV9fLFxuICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICBpZiAoaW5kZXggPCAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gIGlmIChpbmRleCA9PSBsYXN0SW5kZXgpIHtcbiAgICBkYXRhLnBvcCgpO1xuICB9IGVsc2Uge1xuICAgIHNwbGljZS5jYWxsKGRhdGEsIGluZGV4LCAxKTtcbiAgfVxuICAtLXRoaXMuc2l6ZTtcbiAgcmV0dXJuIHRydWU7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENhY2hlRGVsZXRlO1xuIiwidmFyIGFzc29jSW5kZXhPZiA9IHJlcXVpcmUoJy4vX2Fzc29jSW5kZXhPZicpO1xuXG4vKipcbiAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBMaXN0Q2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICovXG5mdW5jdGlvbiBsaXN0Q2FjaGVHZXQoa2V5KSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgcmV0dXJuIGluZGV4IDwgMCA/IHVuZGVmaW5lZCA6IGRhdGFbaW5kZXhdWzFdO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGxpc3RDYWNoZUdldDtcbiIsInZhciBhc3NvY0luZGV4T2YgPSByZXF1aXJlKCcuL19hc3NvY0luZGV4T2YnKTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYSBsaXN0IGNhY2hlIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIExpc3RDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgcmV0dXJuIGFzc29jSW5kZXhPZih0aGlzLl9fZGF0YV9fLCBrZXkpID4gLTE7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENhY2hlSGFzO1xuIiwidmFyIGFzc29jSW5kZXhPZiA9IHJlcXVpcmUoJy4vX2Fzc29jSW5kZXhPZicpO1xuXG4vKipcbiAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGxpc3QgY2FjaGUgaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgIGluZGV4ID0gYXNzb2NJbmRleE9mKGRhdGEsIGtleSk7XG5cbiAgaWYgKGluZGV4IDwgMCkge1xuICAgICsrdGhpcy5zaXplO1xuICAgIGRhdGEucHVzaChba2V5LCB2YWx1ZV0pO1xuICB9IGVsc2Uge1xuICAgIGRhdGFbaW5kZXhdWzFdID0gdmFsdWU7XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbGlzdENhY2hlU2V0O1xuIiwidmFyIGdldE5hdGl2ZSA9IHJlcXVpcmUoJy4vX2dldE5hdGl2ZScpLFxuICAgIHJvb3QgPSByZXF1aXJlKCcuL19yb290Jyk7XG5cbi8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIHRoYXQgYXJlIHZlcmlmaWVkIHRvIGJlIG5hdGl2ZS4gKi9cbnZhciBNYXAgPSBnZXROYXRpdmUocm9vdCwgJ01hcCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hcDtcbiIsInZhciBnZXRNYXBEYXRhID0gcmVxdWlyZSgnLi9fZ2V0TWFwRGF0YScpO1xuXG4vKipcbiAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBtYXAuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGRlbGV0ZVxuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgZW50cnkgd2FzIHJlbW92ZWQsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVEZWxldGUoa2V5KSB7XG4gIHZhciByZXN1bHQgPSBnZXRNYXBEYXRhKHRoaXMsIGtleSlbJ2RlbGV0ZSddKGtleSk7XG4gIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBtYXBDYWNoZURlbGV0ZTtcbiIsIi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBzdWl0YWJsZSwgZWxzZSBgZmFsc2VgLlxuICovXG5mdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gIHJldHVybiAodHlwZSA9PSAnc3RyaW5nJyB8fCB0eXBlID09ICdudW1iZXInIHx8IHR5cGUgPT0gJ3N5bWJvbCcgfHwgdHlwZSA9PSAnYm9vbGVhbicpXG4gICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgIDogKHZhbHVlID09PSBudWxsKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpc0tleWFibGU7XG4iLCJ2YXIgZ2V0TWFwRGF0YSA9IHJlcXVpcmUoJy4vX2dldE1hcERhdGEnKTtcblxuLyoqXG4gKiBHZXRzIHRoZSBtYXAgdmFsdWUgZm9yIGBrZXlgLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAbmFtZSBnZXRcbiAqIEBtZW1iZXJPZiBNYXBDYWNoZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICByZXR1cm4gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLmdldChrZXkpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcENhY2hlR2V0O1xuIiwidmFyIGdldE1hcERhdGEgPSByZXF1aXJlKCcuL19nZXRNYXBEYXRhJyk7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGEgbWFwIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBuYW1lIGhhc1xuICogQG1lbWJlck9mIE1hcENhY2hlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAqL1xuZnVuY3Rpb24gbWFwQ2FjaGVIYXMoa2V5KSB7XG4gIHJldHVybiBnZXRNYXBEYXRhKHRoaXMsIGtleSkuaGFzKGtleSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbWFwQ2FjaGVIYXM7XG4iLCJ2YXIgZ2V0TWFwRGF0YSA9IHJlcXVpcmUoJy4vX2dldE1hcERhdGEnKTtcblxuLyoqXG4gKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQG5hbWUgc2V0XG4gKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbWFwIGNhY2hlIGluc3RhbmNlLlxuICovXG5mdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gIHZhciBkYXRhID0gZ2V0TWFwRGF0YSh0aGlzLCBrZXkpLFxuICAgICAgc2l6ZSA9IGRhdGEuc2l6ZTtcblxuICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgdGhpcy5zaXplICs9IGRhdGEuc2l6ZSA9PSBzaXplID8gMCA6IDE7XG4gIHJldHVybiB0aGlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG1hcENhY2hlU2V0O1xuIiwidmFyIGJhc2VUb1N0cmluZyA9IHJlcXVpcmUoJy4vX2Jhc2VUb1N0cmluZycpO1xuXG4vKipcbiAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBzdHJpbmcuIEFuIGVtcHR5IHN0cmluZyBpcyByZXR1cm5lZCBmb3IgYG51bGxgXG4gKiBhbmQgYHVuZGVmaW5lZGAgdmFsdWVzLiBUaGUgc2lnbiBvZiBgLTBgIGlzIHByZXNlcnZlZC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDQuMC4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8udG9TdHJpbmcobnVsbCk7XG4gKiAvLyA9PiAnJ1xuICpcbiAqIF8udG9TdHJpbmcoLTApO1xuICogLy8gPT4gJy0wJ1xuICpcbiAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAqIC8vID0+ICcxLDIsMydcbiAqL1xuZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09IG51bGwgPyAnJyA6IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gdG9TdHJpbmc7XG4iLCJ2YXIgU3ltYm9sID0gcmVxdWlyZSgnLi9fU3ltYm9sJyksXG4gICAgYXJyYXlNYXAgPSByZXF1aXJlKCcuL19hcnJheU1hcCcpLFxuICAgIGlzQXJyYXkgPSByZXF1aXJlKCcuL2lzQXJyYXknKSxcbiAgICBpc1N5bWJvbCA9IHJlcXVpcmUoJy4vaXNTeW1ib2wnKTtcblxuLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG52YXIgSU5GSU5JVFkgPSAxIC8gMDtcblxuLyoqIFVzZWQgdG8gY29udmVydCBzeW1ib2xzIHRvIHByaW1pdGl2ZXMgYW5kIHN0cmluZ3MuICovXG52YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgIHN5bWJvbFRvU3RyaW5nID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by50b1N0cmluZyA6IHVuZGVmaW5lZDtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b1N0cmluZ2Agd2hpY2ggZG9lc24ndCBjb252ZXJ0IG51bGxpc2hcbiAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RyaW5nLlxuICovXG5mdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgLy8gRXhpdCBlYXJseSBmb3Igc3RyaW5ncyB0byBhdm9pZCBhIHBlcmZvcm1hbmNlIGhpdCBpbiBzb21lIGVudmlyb25tZW50cy5cbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfVxuICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAvLyBSZWN1cnNpdmVseSBjb252ZXJ0IHZhbHVlcyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgIHJldHVybiBhcnJheU1hcCh2YWx1ZSwgYmFzZVRvU3RyaW5nKSArICcnO1xuICB9XG4gIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICByZXR1cm4gc3ltYm9sVG9TdHJpbmcgPyBzeW1ib2xUb1N0cmluZy5jYWxsKHZhbHVlKSA6ICcnO1xuICB9XG4gIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlVG9TdHJpbmc7XG4iLCIvKipcbiAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tYXBgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZVxuICogc2hvcnRoYW5kcy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAqL1xuZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gIHZhciBpbmRleCA9IC0xLFxuICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgcmVzdWx0W2luZGV4XSA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGFycmF5TWFwO1xuIiwidmFyIGJhc2VJc0FyZ3VtZW50cyA9IHJlcXVpcmUoJy4vX2Jhc2VJc0FyZ3VtZW50cycpLFxuICAgIGlzT2JqZWN0TGlrZSA9IHJlcXVpcmUoJy4vaXNPYmplY3RMaWtlJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKiBCdWlsdC1pbiB2YWx1ZSByZWZlcmVuY2VzLiAqL1xudmFyIHByb3BlcnR5SXNFbnVtZXJhYmxlID0gb2JqZWN0UHJvdG8ucHJvcGVydHlJc0VudW1lcmFibGU7XG5cbi8qKlxuICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgbGlrZWx5IGFuIGBhcmd1bWVudHNgIG9iamVjdC5cbiAqXG4gKiBAc3RhdGljXG4gKiBAbWVtYmVyT2YgX1xuICogQHNpbmNlIDAuMS4wXG4gKiBAY2F0ZWdvcnkgTGFuZ1xuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBgYXJndW1lbnRzYCBvYmplY3QsXG4gKiAgZWxzZSBgZmFsc2VgLlxuICogQGV4YW1wbGVcbiAqXG4gKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICogLy8gPT4gdHJ1ZVxuICpcbiAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbnZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGhhc093blByb3BlcnR5LmNhbGwodmFsdWUsICdjYWxsZWUnKSAmJlxuICAgICFwcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHZhbHVlLCAnY2FsbGVlJyk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGlzQXJndW1lbnRzO1xuIiwidmFyIGJhc2VHZXRUYWcgPSByZXF1aXJlKCcuL19iYXNlR2V0VGFnJyksXG4gICAgaXNPYmplY3RMaWtlID0gcmVxdWlyZSgnLi9pc09iamVjdExpa2UnKTtcblxuLyoqIGBPYmplY3QjdG9TdHJpbmdgIHJlc3VsdCByZWZlcmVuY2VzLiAqL1xudmFyIGFyZ3NUYWcgPSAnW29iamVjdCBBcmd1bWVudHNdJztcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FyZ3VtZW50c2AuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICovXG5mdW5jdGlvbiBiYXNlSXNBcmd1bWVudHModmFsdWUpIHtcbiAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlSXNBcmd1bWVudHM7XG4iLCIvKiogVXNlZCBhcyByZWZlcmVuY2VzIGZvciB2YXJpb3VzIGBOdW1iZXJgIGNvbnN0YW50cy4gKi9cbnZhciBNQVhfU0FGRV9JTlRFR0VSID0gOTAwNzE5OTI1NDc0MDk5MTtcblxuLyoqXG4gKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHZhbGlkIGFycmF5LWxpa2UgbGVuZ3RoLlxuICpcbiAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBsb29zZWx5IGJhc2VkIG9uXG4gKiBbYFRvTGVuZ3RoYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtdG9sZW5ndGgpLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgNC4wLjBcbiAqIEBjYXRlZ29yeSBMYW5nXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gKiBAZXhhbXBsZVxuICpcbiAqIF8uaXNMZW5ndGgoMyk7XG4gKiAvLyA9PiB0cnVlXG4gKlxuICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAqIC8vID0+IGZhbHNlXG4gKlxuICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gKiAvLyA9PiBmYWxzZVxuICpcbiAqIF8uaXNMZW5ndGgoJzMnKTtcbiAqIC8vID0+IGZhbHNlXG4gKi9cbmZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsdWUgPT0gJ251bWJlcicgJiZcbiAgICB2YWx1ZSA+IC0xICYmIHZhbHVlICUgMSA9PSAwICYmIHZhbHVlIDw9IE1BWF9TQUZFX0lOVEVHRVI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaXNMZW5ndGg7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSZWFjdCA9IHJlcXVpcmUoJ3JlYWN0Jyk7XG52YXIgZmFjdG9yeSA9IHJlcXVpcmUoJy4vZmFjdG9yeScpO1xuXG5pZiAodHlwZW9mIFJlYWN0ID09PSAndW5kZWZpbmVkJykge1xuICB0aHJvdyBFcnJvcihcbiAgICAnY3JlYXRlLXJlYWN0LWNsYXNzIGNvdWxkIG5vdCBmaW5kIHRoZSBSZWFjdCBvYmplY3QuIElmIHlvdSBhcmUgdXNpbmcgc2NyaXB0IHRhZ3MsICcgK1xuICAgICAgJ21ha2Ugc3VyZSB0aGF0IFJlYWN0IGlzIGJlaW5nIGxvYWRlZCBiZWZvcmUgY3JlYXRlLXJlYWN0LWNsYXNzLidcbiAgKTtcbn1cblxuLy8gSGFjayB0byBncmFiIE5vb3BVcGRhdGVRdWV1ZSBmcm9tIGlzb21vcnBoaWMgUmVhY3RcbnZhciBSZWFjdE5vb3BVcGRhdGVRdWV1ZSA9IG5ldyBSZWFjdC5Db21wb25lbnQoKS51cGRhdGVyO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoXG4gIFJlYWN0LkNvbXBvbmVudCxcbiAgUmVhY3QuaXNWYWxpZEVsZW1lbnQsXG4gIFJlYWN0Tm9vcFVwZGF0ZVF1ZXVlXG4pO1xuIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTMtcHJlc2VudCwgRmFjZWJvb2ssIEluYy5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgX2Fzc2lnbiA9IHJlcXVpcmUoJ29iamVjdC1hc3NpZ24nKTtcblxudmFyIGVtcHR5T2JqZWN0ID0gcmVxdWlyZSgnZmJqcy9saWIvZW1wdHlPYmplY3QnKTtcbnZhciBfaW52YXJpYW50ID0gcmVxdWlyZSgnZmJqcy9saWIvaW52YXJpYW50Jyk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhciB3YXJuaW5nID0gcmVxdWlyZSgnZmJqcy9saWIvd2FybmluZycpO1xufVxuXG52YXIgTUlYSU5TX0tFWSA9ICdtaXhpbnMnO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gYWxsb3cgdGhlIGNyZWF0aW9uIG9mIGFub255bW91cyBmdW5jdGlvbnMgd2hpY2ggZG8gbm90XG4vLyBoYXZlIC5uYW1lIHNldCB0byB0aGUgbmFtZSBvZiB0aGUgdmFyaWFibGUgYmVpbmcgYXNzaWduZWQgdG8uXG5mdW5jdGlvbiBpZGVudGl0eShmbikge1xuICByZXR1cm4gZm47XG59XG5cbnZhciBSZWFjdFByb3BUeXBlTG9jYXRpb25OYW1lcztcbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0ge1xuICAgIHByb3A6ICdwcm9wJyxcbiAgICBjb250ZXh0OiAnY29udGV4dCcsXG4gICAgY2hpbGRDb250ZXh0OiAnY2hpbGQgY29udGV4dCdcbiAgfTtcbn0gZWxzZSB7XG4gIFJlYWN0UHJvcFR5cGVMb2NhdGlvbk5hbWVzID0ge307XG59XG5cbmZ1bmN0aW9uIGZhY3RvcnkoUmVhY3RDb21wb25lbnQsIGlzVmFsaWRFbGVtZW50LCBSZWFjdE5vb3BVcGRhdGVRdWV1ZSkge1xuICAvKipcbiAgICogUG9saWNpZXMgdGhhdCBkZXNjcmliZSBtZXRob2RzIGluIGBSZWFjdENsYXNzSW50ZXJmYWNlYC5cbiAgICovXG5cbiAgdmFyIGluamVjdGVkTWl4aW5zID0gW107XG5cbiAgLyoqXG4gICAqIENvbXBvc2l0ZSBjb21wb25lbnRzIGFyZSBoaWdoZXItbGV2ZWwgY29tcG9uZW50cyB0aGF0IGNvbXBvc2Ugb3RoZXIgY29tcG9zaXRlXG4gICAqIG9yIGhvc3QgY29tcG9uZW50cy5cbiAgICpcbiAgICogVG8gY3JlYXRlIGEgbmV3IHR5cGUgb2YgYFJlYWN0Q2xhc3NgLCBwYXNzIGEgc3BlY2lmaWNhdGlvbiBvZlxuICAgKiB5b3VyIG5ldyBjbGFzcyB0byBgUmVhY3QuY3JlYXRlQ2xhc3NgLiBUaGUgb25seSByZXF1aXJlbWVudCBvZiB5b3VyIGNsYXNzXG4gICAqIHNwZWNpZmljYXRpb24gaXMgdGhhdCB5b3UgaW1wbGVtZW50IGEgYHJlbmRlcmAgbWV0aG9kLlxuICAgKlxuICAgKiAgIHZhciBNeUNvbXBvbmVudCA9IFJlYWN0LmNyZWF0ZUNsYXNzKHtcbiAgICogICAgIHJlbmRlcjogZnVuY3Rpb24oKSB7XG4gICAqICAgICAgIHJldHVybiA8ZGl2PkhlbGxvIFdvcmxkPC9kaXY+O1xuICAgKiAgICAgfVxuICAgKiAgIH0pO1xuICAgKlxuICAgKiBUaGUgY2xhc3Mgc3BlY2lmaWNhdGlvbiBzdXBwb3J0cyBhIHNwZWNpZmljIHByb3RvY29sIG9mIG1ldGhvZHMgdGhhdCBoYXZlXG4gICAqIHNwZWNpYWwgbWVhbmluZyAoZS5nLiBgcmVuZGVyYCkuIFNlZSBgUmVhY3RDbGFzc0ludGVyZmFjZWAgZm9yXG4gICAqIG1vcmUgdGhlIGNvbXByZWhlbnNpdmUgcHJvdG9jb2wuIEFueSBvdGhlciBwcm9wZXJ0aWVzIGFuZCBtZXRob2RzIGluIHRoZVxuICAgKiBjbGFzcyBzcGVjaWZpY2F0aW9uIHdpbGwgYmUgYXZhaWxhYmxlIG9uIHRoZSBwcm90b3R5cGUuXG4gICAqXG4gICAqIEBpbnRlcmZhY2UgUmVhY3RDbGFzc0ludGVyZmFjZVxuICAgKiBAaW50ZXJuYWxcbiAgICovXG4gIHZhciBSZWFjdENsYXNzSW50ZXJmYWNlID0ge1xuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIE1peGluIG9iamVjdHMgdG8gaW5jbHVkZSB3aGVuIGRlZmluaW5nIHlvdXIgY29tcG9uZW50LlxuICAgICAqXG4gICAgICogQHR5cGUge2FycmF5fVxuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIG1peGluczogJ0RFRklORV9NQU5ZJyxcblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCBjb250YWluaW5nIHByb3BlcnRpZXMgYW5kIG1ldGhvZHMgdGhhdCBzaG91bGQgYmUgZGVmaW5lZCBvblxuICAgICAqIHRoZSBjb21wb25lbnQncyBjb25zdHJ1Y3RvciBpbnN0ZWFkIG9mIGl0cyBwcm90b3R5cGUgKHN0YXRpYyBtZXRob2RzKS5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtvYmplY3R9XG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgc3RhdGljczogJ0RFRklORV9NQU5ZJyxcblxuICAgIC8qKlxuICAgICAqIERlZmluaXRpb24gb2YgcHJvcCB0eXBlcyBmb3IgdGhpcyBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIHByb3BUeXBlczogJ0RFRklORV9NQU5ZJyxcblxuICAgIC8qKlxuICAgICAqIERlZmluaXRpb24gb2YgY29udGV4dCB0eXBlcyBmb3IgdGhpcyBjb21wb25lbnQuXG4gICAgICpcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIGNvbnRleHRUeXBlczogJ0RFRklORV9NQU5ZJyxcblxuICAgIC8qKlxuICAgICAqIERlZmluaXRpb24gb2YgY29udGV4dCB0eXBlcyB0aGlzIGNvbXBvbmVudCBzZXRzIGZvciBpdHMgY2hpbGRyZW4uXG4gICAgICpcbiAgICAgKiBAdHlwZSB7b2JqZWN0fVxuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIGNoaWxkQ29udGV4dFR5cGVzOiAnREVGSU5FX01BTlknLFxuXG4gICAgLy8gPT09PSBEZWZpbml0aW9uIG1ldGhvZHMgPT09PVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZC4gVmFsdWVzIGluIHRoZSBtYXBwaW5nIHdpbGwgYmUgc2V0IG9uXG4gICAgICogYHRoaXMucHJvcHNgIGlmIHRoYXQgcHJvcCBpcyBub3Qgc3BlY2lmaWVkIChpLmUuIHVzaW5nIGFuIGBpbmAgY2hlY2spLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgaXMgaW52b2tlZCBiZWZvcmUgYGdldEluaXRpYWxTdGF0ZWAgYW5kIHRoZXJlZm9yZSBjYW5ub3QgcmVseVxuICAgICAqIG9uIGB0aGlzLnN0YXRlYCBvciB1c2UgYHRoaXMuc2V0U3RhdGVgLlxuICAgICAqXG4gICAgICogQHJldHVybiB7b2JqZWN0fVxuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIGdldERlZmF1bHRQcm9wczogJ0RFRklORV9NQU5ZX01FUkdFRCcsXG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIG9uY2UgYmVmb3JlIHRoZSBjb21wb25lbnQgaXMgbW91bnRlZC4gVGhlIHJldHVybiB2YWx1ZSB3aWxsIGJlIHVzZWRcbiAgICAgKiBhcyB0aGUgaW5pdGlhbCB2YWx1ZSBvZiBgdGhpcy5zdGF0ZWAuXG4gICAgICpcbiAgICAgKiAgIGdldEluaXRpYWxTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICogICAgIHJldHVybiB7XG4gICAgICogICAgICAgaXNPbjogZmFsc2UsXG4gICAgICogICAgICAgZm9vQmF6OiBuZXcgQmF6Rm9vKClcbiAgICAgKiAgICAgfVxuICAgICAqICAgfVxuICAgICAqXG4gICAgICogQHJldHVybiB7b2JqZWN0fVxuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIGdldEluaXRpYWxTdGF0ZTogJ0RFRklORV9NQU5ZX01FUkdFRCcsXG5cbiAgICAvKipcbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9XG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgZ2V0Q2hpbGRDb250ZXh0OiAnREVGSU5FX01BTllfTUVSR0VEJyxcblxuICAgIC8qKlxuICAgICAqIFVzZXMgcHJvcHMgZnJvbSBgdGhpcy5wcm9wc2AgYW5kIHN0YXRlIGZyb20gYHRoaXMuc3RhdGVgIHRvIHJlbmRlciB0aGVcbiAgICAgKiBzdHJ1Y3R1cmUgb2YgdGhlIGNvbXBvbmVudC5cbiAgICAgKlxuICAgICAqIE5vIGd1YXJhbnRlZXMgYXJlIG1hZGUgYWJvdXQgd2hlbiBvciBob3cgb2Z0ZW4gdGhpcyBtZXRob2QgaXMgaW52b2tlZCwgc29cbiAgICAgKiBpdCBtdXN0IG5vdCBoYXZlIHNpZGUgZWZmZWN0cy5cbiAgICAgKlxuICAgICAqICAgcmVuZGVyOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgdmFyIG5hbWUgPSB0aGlzLnByb3BzLm5hbWU7XG4gICAgICogICAgIHJldHVybiA8ZGl2PkhlbGxvLCB7bmFtZX0hPC9kaXY+O1xuICAgICAqICAgfVxuICAgICAqXG4gICAgICogQHJldHVybiB7UmVhY3RDb21wb25lbnR9XG4gICAgICogQHJlcXVpcmVkXG4gICAgICovXG4gICAgcmVuZGVyOiAnREVGSU5FX09OQ0UnLFxuXG4gICAgLy8gPT09PSBEZWxlZ2F0ZSBtZXRob2RzID09PT1cblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGluaXRpYWxseSBjcmVhdGVkIGFuZCBhYm91dCB0byBiZSBtb3VudGVkLlxuICAgICAqIFRoaXMgbWF5IGhhdmUgc2lkZSBlZmZlY3RzLCBidXQgYW55IGV4dGVybmFsIHN1YnNjcmlwdGlvbnMgb3IgZGF0YSBjcmVhdGVkXG4gICAgICogYnkgdGhpcyBtZXRob2QgbXVzdCBiZSBjbGVhbmVkIHVwIGluIGBjb21wb25lbnRXaWxsVW5tb3VudGAuXG4gICAgICpcbiAgICAgKiBAb3B0aW9uYWxcbiAgICAgKi9cbiAgICBjb21wb25lbnRXaWxsTW91bnQ6ICdERUZJTkVfTUFOWScsXG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBoYXMgYmVlbiBtb3VudGVkIGFuZCBoYXMgYSBET00gcmVwcmVzZW50YXRpb24uXG4gICAgICogSG93ZXZlciwgdGhlcmUgaXMgbm8gZ3VhcmFudGVlIHRoYXQgdGhlIERPTSBub2RlIGlzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIGFzIGFuIG9wcG9ydHVuaXR5IHRvIG9wZXJhdGUgb24gdGhlIERPTSB3aGVuIHRoZSBjb21wb25lbnQgaGFzXG4gICAgICogYmVlbiBtb3VudGVkIChpbml0aWFsaXplZCBhbmQgcmVuZGVyZWQpIGZvciB0aGUgZmlyc3QgdGltZS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7RE9NRWxlbWVudH0gcm9vdE5vZGUgRE9NIGVsZW1lbnQgcmVwcmVzZW50aW5nIHRoZSBjb21wb25lbnQuXG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgY29tcG9uZW50RGlkTW91bnQ6ICdERUZJTkVfTUFOWScsXG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIGJlZm9yZSB0aGUgY29tcG9uZW50IHJlY2VpdmVzIG5ldyBwcm9wcy5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIGFzIGFuIG9wcG9ydHVuaXR5IHRvIHJlYWN0IHRvIGEgcHJvcCB0cmFuc2l0aW9uIGJ5IHVwZGF0aW5nIHRoZVxuICAgICAqIHN0YXRlIHVzaW5nIGB0aGlzLnNldFN0YXRlYC4gQ3VycmVudCBwcm9wcyBhcmUgYWNjZXNzZWQgdmlhIGB0aGlzLnByb3BzYC5cbiAgICAgKlxuICAgICAqICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24obmV4dFByb3BzLCBuZXh0Q29udGV4dCkge1xuICAgICAqICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgKiAgICAgICBsaWtlc0luY3JlYXNpbmc6IG5leHRQcm9wcy5saWtlQ291bnQgPiB0aGlzLnByb3BzLmxpa2VDb3VudFxuICAgICAqICAgICB9KTtcbiAgICAgKiAgIH1cbiAgICAgKlxuICAgICAqIE5PVEU6IFRoZXJlIGlzIG5vIGVxdWl2YWxlbnQgYGNvbXBvbmVudFdpbGxSZWNlaXZlU3RhdGVgLiBBbiBpbmNvbWluZyBwcm9wXG4gICAgICogdHJhbnNpdGlvbiBtYXkgY2F1c2UgYSBzdGF0ZSBjaGFuZ2UsIGJ1dCB0aGUgb3Bwb3NpdGUgaXMgbm90IHRydWUuIElmIHlvdVxuICAgICAqIG5lZWQgaXQsIHlvdSBhcmUgcHJvYmFibHkgbG9va2luZyBmb3IgYGNvbXBvbmVudFdpbGxVcGRhdGVgLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG5leHRQcm9wc1xuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHM6ICdERUZJTkVfTUFOWScsXG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoaWxlIGRlY2lkaW5nIGlmIHRoZSBjb21wb25lbnQgc2hvdWxkIGJlIHVwZGF0ZWQgYXMgYSByZXN1bHQgb2ZcbiAgICAgKiByZWNlaXZpbmcgbmV3IHByb3BzLCBzdGF0ZSBhbmQvb3IgY29udGV4dC5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIGFzIGFuIG9wcG9ydHVuaXR5IHRvIGByZXR1cm4gZmFsc2VgIHdoZW4geW91J3JlIGNlcnRhaW4gdGhhdCB0aGVcbiAgICAgKiB0cmFuc2l0aW9uIHRvIHRoZSBuZXcgcHJvcHMvc3RhdGUvY29udGV4dCB3aWxsIG5vdCByZXF1aXJlIGEgY29tcG9uZW50XG4gICAgICogdXBkYXRlLlxuICAgICAqXG4gICAgICogICBzaG91bGRDb21wb25lbnRVcGRhdGU6IGZ1bmN0aW9uKG5leHRQcm9wcywgbmV4dFN0YXRlLCBuZXh0Q29udGV4dCkge1xuICAgICAqICAgICByZXR1cm4gIWVxdWFsKG5leHRQcm9wcywgdGhpcy5wcm9wcykgfHxcbiAgICAgKiAgICAgICAhZXF1YWwobmV4dFN0YXRlLCB0aGlzLnN0YXRlKSB8fFxuICAgICAqICAgICAgICFlcXVhbChuZXh0Q29udGV4dCwgdGhpcy5jb250ZXh0KTtcbiAgICAgKiAgIH1cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBuZXh0UHJvcHNcbiAgICAgKiBAcGFyYW0gez9vYmplY3R9IG5leHRTdGF0ZVxuICAgICAqIEBwYXJhbSB7P29iamVjdH0gbmV4dENvbnRleHRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBjb21wb25lbnQgc2hvdWxkIHVwZGF0ZS5cbiAgICAgKiBAb3B0aW9uYWxcbiAgICAgKi9cbiAgICBzaG91bGRDb21wb25lbnRVcGRhdGU6ICdERUZJTkVfT05DRScsXG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBhYm91dCB0byB1cGRhdGUgZHVlIHRvIGEgdHJhbnNpdGlvbiBmcm9tXG4gICAgICogYHRoaXMucHJvcHNgLCBgdGhpcy5zdGF0ZWAgYW5kIGB0aGlzLmNvbnRleHRgIHRvIGBuZXh0UHJvcHNgLCBgbmV4dFN0YXRlYFxuICAgICAqIGFuZCBgbmV4dENvbnRleHRgLlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgYXMgYW4gb3Bwb3J0dW5pdHkgdG8gcGVyZm9ybSBwcmVwYXJhdGlvbiBiZWZvcmUgYW4gdXBkYXRlIG9jY3Vycy5cbiAgICAgKlxuICAgICAqIE5PVEU6IFlvdSAqKmNhbm5vdCoqIHVzZSBgdGhpcy5zZXRTdGF0ZSgpYCBpbiB0aGlzIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBuZXh0UHJvcHNcbiAgICAgKiBAcGFyYW0gez9vYmplY3R9IG5leHRTdGF0ZVxuICAgICAqIEBwYXJhbSB7P29iamVjdH0gbmV4dENvbnRleHRcbiAgICAgKiBAcGFyYW0ge1JlYWN0UmVjb25jaWxlVHJhbnNhY3Rpb259IHRyYW5zYWN0aW9uXG4gICAgICogQG9wdGlvbmFsXG4gICAgICovXG4gICAgY29tcG9uZW50V2lsbFVwZGF0ZTogJ0RFRklORV9NQU5ZJyxcblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50J3MgRE9NIHJlcHJlc2VudGF0aW9uIGhhcyBiZWVuIHVwZGF0ZWQuXG4gICAgICpcbiAgICAgKiBVc2UgdGhpcyBhcyBhbiBvcHBvcnR1bml0eSB0byBvcGVyYXRlIG9uIHRoZSBET00gd2hlbiB0aGUgY29tcG9uZW50IGhhc1xuICAgICAqIGJlZW4gdXBkYXRlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBwcmV2UHJvcHNcbiAgICAgKiBAcGFyYW0gez9vYmplY3R9IHByZXZTdGF0ZVxuICAgICAqIEBwYXJhbSB7P29iamVjdH0gcHJldkNvbnRleHRcbiAgICAgKiBAcGFyYW0ge0RPTUVsZW1lbnR9IHJvb3ROb2RlIERPTSBlbGVtZW50IHJlcHJlc2VudGluZyB0aGUgY29tcG9uZW50LlxuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIGNvbXBvbmVudERpZFVwZGF0ZTogJ0RFRklORV9NQU5ZJyxcblxuICAgIC8qKlxuICAgICAqIEludm9rZWQgd2hlbiB0aGUgY29tcG9uZW50IGlzIGFib3V0IHRvIGJlIHJlbW92ZWQgZnJvbSBpdHMgcGFyZW50IGFuZCBoYXZlXG4gICAgICogaXRzIERPTSByZXByZXNlbnRhdGlvbiBkZXN0cm95ZWQuXG4gICAgICpcbiAgICAgKiBVc2UgdGhpcyBhcyBhbiBvcHBvcnR1bml0eSB0byBkZWFsbG9jYXRlIGFueSBleHRlcm5hbCByZXNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBOT1RFOiBUaGVyZSBpcyBubyBgY29tcG9uZW50RGlkVW5tb3VudGAgc2luY2UgeW91ciBjb21wb25lbnQgd2lsbCBoYXZlIGJlZW5cbiAgICAgKiBkZXN0cm95ZWQgYnkgdGhhdCBwb2ludC5cbiAgICAgKlxuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50OiAnREVGSU5FX01BTlknLFxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZW1lbnQgZm9yIChkZXByZWNhdGVkKSBgY29tcG9uZW50V2lsbE1vdW50YC5cbiAgICAgKlxuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIFVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQ6ICdERUZJTkVfTUFOWScsXG5cbiAgICAvKipcbiAgICAgKiBSZXBsYWNlbWVudCBmb3IgKGRlcHJlY2F0ZWQpIGBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzYC5cbiAgICAgKlxuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIFVOU0FGRV9jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzOiAnREVGSU5FX01BTlknLFxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZW1lbnQgZm9yIChkZXByZWNhdGVkKSBgY29tcG9uZW50V2lsbFVwZGF0ZWAuXG4gICAgICpcbiAgICAgKiBAb3B0aW9uYWxcbiAgICAgKi9cbiAgICBVTlNBRkVfY29tcG9uZW50V2lsbFVwZGF0ZTogJ0RFRklORV9NQU5ZJyxcblxuICAgIC8vID09PT0gQWR2YW5jZWQgbWV0aG9kcyA9PT09XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHRoZSBjb21wb25lbnQncyBjdXJyZW50bHkgbW91bnRlZCBET00gcmVwcmVzZW50YXRpb24uXG4gICAgICpcbiAgICAgKiBCeSBkZWZhdWx0LCB0aGlzIGltcGxlbWVudHMgUmVhY3QncyByZW5kZXJpbmcgYW5kIHJlY29uY2lsaWF0aW9uIGFsZ29yaXRobS5cbiAgICAgKiBTb3BoaXN0aWNhdGVkIGNsaWVudHMgbWF5IHdpc2ggdG8gb3ZlcnJpZGUgdGhpcy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7UmVhY3RSZWNvbmNpbGVUcmFuc2FjdGlvbn0gdHJhbnNhY3Rpb25cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKiBAb3ZlcnJpZGFibGVcbiAgICAgKi9cbiAgICB1cGRhdGVDb21wb25lbnQ6ICdPVkVSUklERV9CQVNFJ1xuICB9O1xuXG4gIC8qKlxuICAgKiBTaW1pbGFyIHRvIFJlYWN0Q2xhc3NJbnRlcmZhY2UgYnV0IGZvciBzdGF0aWMgbWV0aG9kcy5cbiAgICovXG4gIHZhciBSZWFjdENsYXNzU3RhdGljSW50ZXJmYWNlID0ge1xuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGludm9rZWQgYWZ0ZXIgYSBjb21wb25lbnQgaXMgaW5zdGFudGlhdGVkIGFuZCB3aGVuIGl0XG4gICAgICogcmVjZWl2ZXMgbmV3IHByb3BzLiBSZXR1cm4gYW4gb2JqZWN0IHRvIHVwZGF0ZSBzdGF0ZSBpbiByZXNwb25zZSB0b1xuICAgICAqIHByb3AgY2hhbmdlcy4gUmV0dXJuIG51bGwgdG8gaW5kaWNhdGUgbm8gY2hhbmdlIHRvIHN0YXRlLlxuICAgICAqXG4gICAgICogSWYgYW4gb2JqZWN0IGlzIHJldHVybmVkLCBpdHMga2V5cyB3aWxsIGJlIG1lcmdlZCBpbnRvIHRoZSBleGlzdGluZyBzdGF0ZS5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge29iamVjdCB8fCBudWxsfVxuICAgICAqIEBvcHRpb25hbFxuICAgICAqL1xuICAgIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wczogJ0RFRklORV9NQU5ZX01FUkdFRCdcbiAgfTtcblxuICAvKipcbiAgICogTWFwcGluZyBmcm9tIGNsYXNzIHNwZWNpZmljYXRpb24ga2V5cyB0byBzcGVjaWFsIHByb2Nlc3NpbmcgZnVuY3Rpb25zLlxuICAgKlxuICAgKiBBbHRob3VnaCB0aGVzZSBhcmUgZGVjbGFyZWQgbGlrZSBpbnN0YW5jZSBwcm9wZXJ0aWVzIGluIHRoZSBzcGVjaWZpY2F0aW9uXG4gICAqIHdoZW4gZGVmaW5pbmcgY2xhc3NlcyB1c2luZyBgUmVhY3QuY3JlYXRlQ2xhc3NgLCB0aGV5IGFyZSBhY3R1YWxseSBzdGF0aWNcbiAgICogYW5kIGFyZSBhY2Nlc3NpYmxlIG9uIHRoZSBjb25zdHJ1Y3RvciBpbnN0ZWFkIG9mIHRoZSBwcm90b3R5cGUuIERlc3BpdGVcbiAgICogYmVpbmcgc3RhdGljLCB0aGV5IG11c3QgYmUgZGVmaW5lZCBvdXRzaWRlIG9mIHRoZSBcInN0YXRpY3NcIiBrZXkgdW5kZXJcbiAgICogd2hpY2ggYWxsIG90aGVyIHN0YXRpYyBtZXRob2RzIGFyZSBkZWZpbmVkLlxuICAgKi9cbiAgdmFyIFJFU0VSVkVEX1NQRUNfS0VZUyA9IHtcbiAgICBkaXNwbGF5TmFtZTogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGRpc3BsYXlOYW1lKSB7XG4gICAgICBDb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSA9IGRpc3BsYXlOYW1lO1xuICAgIH0sXG4gICAgbWl4aW5zOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgbWl4aW5zKSB7XG4gICAgICBpZiAobWl4aW5zKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWl4aW5zLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIG1peGluc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNoaWxkQ29udGV4dFR5cGVzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgY2hpbGRDb250ZXh0VHlwZXMpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgY2hpbGRDb250ZXh0VHlwZXMsICdjaGlsZENvbnRleHQnKTtcbiAgICAgIH1cbiAgICAgIENvbnN0cnVjdG9yLmNoaWxkQ29udGV4dFR5cGVzID0gX2Fzc2lnbihcbiAgICAgICAge30sXG4gICAgICAgIENvbnN0cnVjdG9yLmNoaWxkQ29udGV4dFR5cGVzLFxuICAgICAgICBjaGlsZENvbnRleHRUeXBlc1xuICAgICAgKTtcbiAgICB9LFxuICAgIGNvbnRleHRUeXBlczogZnVuY3Rpb24oQ29uc3RydWN0b3IsIGNvbnRleHRUeXBlcykge1xuICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgdmFsaWRhdGVUeXBlRGVmKENvbnN0cnVjdG9yLCBjb250ZXh0VHlwZXMsICdjb250ZXh0Jyk7XG4gICAgICB9XG4gICAgICBDb25zdHJ1Y3Rvci5jb250ZXh0VHlwZXMgPSBfYXNzaWduKFxuICAgICAgICB7fSxcbiAgICAgICAgQ29uc3RydWN0b3IuY29udGV4dFR5cGVzLFxuICAgICAgICBjb250ZXh0VHlwZXNcbiAgICAgICk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBTcGVjaWFsIGNhc2UgZ2V0RGVmYXVsdFByb3BzIHdoaWNoIHNob3VsZCBtb3ZlIGludG8gc3RhdGljcyBidXQgcmVxdWlyZXNcbiAgICAgKiBhdXRvbWF0aWMgbWVyZ2luZy5cbiAgICAgKi9cbiAgICBnZXREZWZhdWx0UHJvcHM6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBnZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgIGlmIChDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMpIHtcbiAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzID0gY3JlYXRlTWVyZ2VkUmVzdWx0RnVuY3Rpb24oXG4gICAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzLFxuICAgICAgICAgIGdldERlZmF1bHRQcm9wc1xuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzID0gZ2V0RGVmYXVsdFByb3BzO1xuICAgICAgfVxuICAgIH0sXG4gICAgcHJvcFR5cGVzOiBmdW5jdGlvbihDb25zdHJ1Y3RvciwgcHJvcFR5cGVzKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICB2YWxpZGF0ZVR5cGVEZWYoQ29uc3RydWN0b3IsIHByb3BUeXBlcywgJ3Byb3AnKTtcbiAgICAgIH1cbiAgICAgIENvbnN0cnVjdG9yLnByb3BUeXBlcyA9IF9hc3NpZ24oe30sIENvbnN0cnVjdG9yLnByb3BUeXBlcywgcHJvcFR5cGVzKTtcbiAgICB9LFxuICAgIHN0YXRpY3M6IGZ1bmN0aW9uKENvbnN0cnVjdG9yLCBzdGF0aWNzKSB7XG4gICAgICBtaXhTdGF0aWNTcGVjSW50b0NvbXBvbmVudChDb25zdHJ1Y3Rvciwgc3RhdGljcyk7XG4gICAgfSxcbiAgICBhdXRvYmluZDogZnVuY3Rpb24oKSB7fVxuICB9O1xuXG4gIGZ1bmN0aW9uIHZhbGlkYXRlVHlwZURlZihDb25zdHJ1Y3RvciwgdHlwZURlZiwgbG9jYXRpb24pIHtcbiAgICBmb3IgKHZhciBwcm9wTmFtZSBpbiB0eXBlRGVmKSB7XG4gICAgICBpZiAodHlwZURlZi5oYXNPd25Qcm9wZXJ0eShwcm9wTmFtZSkpIHtcbiAgICAgICAgLy8gdXNlIGEgd2FybmluZyBpbnN0ZWFkIG9mIGFuIF9pbnZhcmlhbnQgc28gY29tcG9uZW50c1xuICAgICAgICAvLyBkb24ndCBzaG93IHVwIGluIHByb2QgYnV0IG9ubHkgaW4gX19ERVZfX1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgICB0eXBlb2YgdHlwZURlZltwcm9wTmFtZV0gPT09ICdmdW5jdGlvbicsXG4gICAgICAgICAgICAnJXM6ICVzIHR5cGUgYCVzYCBpcyBpbnZhbGlkOyBpdCBtdXN0IGJlIGEgZnVuY3Rpb24sIHVzdWFsbHkgZnJvbSAnICtcbiAgICAgICAgICAgICAgJ1JlYWN0LlByb3BUeXBlcy4nLFxuICAgICAgICAgICAgQ29uc3RydWN0b3IuZGlzcGxheU5hbWUgfHwgJ1JlYWN0Q2xhc3MnLFxuICAgICAgICAgICAgUmVhY3RQcm9wVHlwZUxvY2F0aW9uTmFtZXNbbG9jYXRpb25dLFxuICAgICAgICAgICAgcHJvcE5hbWVcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdmFsaWRhdGVNZXRob2RPdmVycmlkZShpc0FscmVhZHlEZWZpbmVkLCBuYW1lKSB7XG4gICAgdmFyIHNwZWNQb2xpY3kgPSBSZWFjdENsYXNzSW50ZXJmYWNlLmhhc093blByb3BlcnR5KG5hbWUpXG4gICAgICA/IFJlYWN0Q2xhc3NJbnRlcmZhY2VbbmFtZV1cbiAgICAgIDogbnVsbDtcblxuICAgIC8vIERpc2FsbG93IG92ZXJyaWRpbmcgb2YgYmFzZSBjbGFzcyBtZXRob2RzIHVubGVzcyBleHBsaWNpdGx5IGFsbG93ZWQuXG4gICAgaWYgKFJlYWN0Q2xhc3NNaXhpbi5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgX2ludmFyaWFudChcbiAgICAgICAgc3BlY1BvbGljeSA9PT0gJ09WRVJSSURFX0JBU0UnLFxuICAgICAgICAnUmVhY3RDbGFzc0ludGVyZmFjZTogWW91IGFyZSBhdHRlbXB0aW5nIHRvIG92ZXJyaWRlICcgK1xuICAgICAgICAgICdgJXNgIGZyb20geW91ciBjbGFzcyBzcGVjaWZpY2F0aW9uLiBFbnN1cmUgdGhhdCB5b3VyIG1ldGhvZCBuYW1lcyAnICtcbiAgICAgICAgICAnZG8gbm90IG92ZXJsYXAgd2l0aCBSZWFjdCBtZXRob2RzLicsXG4gICAgICAgIG5hbWVcbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gRGlzYWxsb3cgZGVmaW5pbmcgbWV0aG9kcyBtb3JlIHRoYW4gb25jZSB1bmxlc3MgZXhwbGljaXRseSBhbGxvd2VkLlxuICAgIGlmIChpc0FscmVhZHlEZWZpbmVkKSB7XG4gICAgICBfaW52YXJpYW50KFxuICAgICAgICBzcGVjUG9saWN5ID09PSAnREVGSU5FX01BTlknIHx8IHNwZWNQb2xpY3kgPT09ICdERUZJTkVfTUFOWV9NRVJHRUQnLFxuICAgICAgICAnUmVhY3RDbGFzc0ludGVyZmFjZTogWW91IGFyZSBhdHRlbXB0aW5nIHRvIGRlZmluZSAnICtcbiAgICAgICAgICAnYCVzYCBvbiB5b3VyIGNvbXBvbmVudCBtb3JlIHRoYW4gb25jZS4gVGhpcyBjb25mbGljdCBtYXkgYmUgZHVlICcgK1xuICAgICAgICAgICd0byBhIG1peGluLicsXG4gICAgICAgIG5hbWVcbiAgICAgICk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIE1peGluIGhlbHBlciB3aGljaCBoYW5kbGVzIHBvbGljeSB2YWxpZGF0aW9uIGFuZCByZXNlcnZlZFxuICAgKiBzcGVjaWZpY2F0aW9uIGtleXMgd2hlbiBidWlsZGluZyBSZWFjdCBjbGFzc2VzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHNwZWMpIHtcbiAgICBpZiAoIXNwZWMpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHZhciB0eXBlb2ZTcGVjID0gdHlwZW9mIHNwZWM7XG4gICAgICAgIHZhciBpc01peGluVmFsaWQgPSB0eXBlb2ZTcGVjID09PSAnb2JqZWN0JyAmJiBzcGVjICE9PSBudWxsO1xuXG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgd2FybmluZyhcbiAgICAgICAgICAgIGlzTWl4aW5WYWxpZCxcbiAgICAgICAgICAgIFwiJXM6IFlvdSdyZSBhdHRlbXB0aW5nIHRvIGluY2x1ZGUgYSBtaXhpbiB0aGF0IGlzIGVpdGhlciBudWxsIFwiICtcbiAgICAgICAgICAgICAgJ29yIG5vdCBhbiBvYmplY3QuIENoZWNrIHRoZSBtaXhpbnMgaW5jbHVkZWQgYnkgdGhlIGNvbXBvbmVudCwgJyArXG4gICAgICAgICAgICAgICdhcyB3ZWxsIGFzIGFueSBtaXhpbnMgdGhleSBpbmNsdWRlIHRoZW1zZWx2ZXMuICcgK1xuICAgICAgICAgICAgICAnRXhwZWN0ZWQgb2JqZWN0IGJ1dCBnb3QgJXMuJyxcbiAgICAgICAgICAgIENvbnN0cnVjdG9yLmRpc3BsYXlOYW1lIHx8ICdSZWFjdENsYXNzJyxcbiAgICAgICAgICAgIHNwZWMgPT09IG51bGwgPyBudWxsIDogdHlwZW9mU3BlY1xuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIF9pbnZhcmlhbnQoXG4gICAgICB0eXBlb2Ygc3BlYyAhPT0gJ2Z1bmN0aW9uJyxcbiAgICAgIFwiUmVhY3RDbGFzczogWW91J3JlIGF0dGVtcHRpbmcgdG8gXCIgK1xuICAgICAgICAndXNlIGEgY29tcG9uZW50IGNsYXNzIG9yIGZ1bmN0aW9uIGFzIGEgbWl4aW4uIEluc3RlYWQsIGp1c3QgdXNlIGEgJyArXG4gICAgICAgICdyZWd1bGFyIG9iamVjdC4nXG4gICAgKTtcbiAgICBfaW52YXJpYW50KFxuICAgICAgIWlzVmFsaWRFbGVtZW50KHNwZWMpLFxuICAgICAgXCJSZWFjdENsYXNzOiBZb3UncmUgYXR0ZW1wdGluZyB0byBcIiArXG4gICAgICAgICd1c2UgYSBjb21wb25lbnQgYXMgYSBtaXhpbi4gSW5zdGVhZCwganVzdCB1c2UgYSByZWd1bGFyIG9iamVjdC4nXG4gICAgKTtcblxuICAgIHZhciBwcm90byA9IENvbnN0cnVjdG9yLnByb3RvdHlwZTtcbiAgICB2YXIgYXV0b0JpbmRQYWlycyA9IHByb3RvLl9fcmVhY3RBdXRvQmluZFBhaXJzO1xuXG4gICAgLy8gQnkgaGFuZGxpbmcgbWl4aW5zIGJlZm9yZSBhbnkgb3RoZXIgcHJvcGVydGllcywgd2UgZW5zdXJlIHRoZSBzYW1lXG4gICAgLy8gY2hhaW5pbmcgb3JkZXIgaXMgYXBwbGllZCB0byBtZXRob2RzIHdpdGggREVGSU5FX01BTlkgcG9saWN5LCB3aGV0aGVyXG4gICAgLy8gbWl4aW5zIGFyZSBsaXN0ZWQgYmVmb3JlIG9yIGFmdGVyIHRoZXNlIG1ldGhvZHMgaW4gdGhlIHNwZWMuXG4gICAgaWYgKHNwZWMuaGFzT3duUHJvcGVydHkoTUlYSU5TX0tFWSkpIHtcbiAgICAgIFJFU0VSVkVEX1NQRUNfS0VZUy5taXhpbnMoQ29uc3RydWN0b3IsIHNwZWMubWl4aW5zKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBuYW1lIGluIHNwZWMpIHtcbiAgICAgIGlmICghc3BlYy5oYXNPd25Qcm9wZXJ0eShuYW1lKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKG5hbWUgPT09IE1JWElOU19LRVkpIHtcbiAgICAgICAgLy8gV2UgaGF2ZSBhbHJlYWR5IGhhbmRsZWQgbWl4aW5zIGluIGEgc3BlY2lhbCBjYXNlIGFib3ZlLlxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb3BlcnR5ID0gc3BlY1tuYW1lXTtcbiAgICAgIHZhciBpc0FscmVhZHlEZWZpbmVkID0gcHJvdG8uaGFzT3duUHJvcGVydHkobmFtZSk7XG4gICAgICB2YWxpZGF0ZU1ldGhvZE92ZXJyaWRlKGlzQWxyZWFkeURlZmluZWQsIG5hbWUpO1xuXG4gICAgICBpZiAoUkVTRVJWRURfU1BFQ19LRVlTLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIFJFU0VSVkVEX1NQRUNfS0VZU1tuYW1lXShDb25zdHJ1Y3RvciwgcHJvcGVydHkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gU2V0dXAgbWV0aG9kcyBvbiBwcm90b3R5cGU6XG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgbWVtYmVyIG1ldGhvZHMgc2hvdWxkIG5vdCBiZSBhdXRvbWF0aWNhbGx5IGJvdW5kOlxuICAgICAgICAvLyAxLiBFeHBlY3RlZCBSZWFjdENsYXNzIG1ldGhvZHMgKGluIHRoZSBcImludGVyZmFjZVwiKS5cbiAgICAgICAgLy8gMi4gT3ZlcnJpZGRlbiBtZXRob2RzICh0aGF0IHdlcmUgbWl4ZWQgaW4pLlxuICAgICAgICB2YXIgaXNSZWFjdENsYXNzTWV0aG9kID0gUmVhY3RDbGFzc0ludGVyZmFjZS5oYXNPd25Qcm9wZXJ0eShuYW1lKTtcbiAgICAgICAgdmFyIGlzRnVuY3Rpb24gPSB0eXBlb2YgcHJvcGVydHkgPT09ICdmdW5jdGlvbic7XG4gICAgICAgIHZhciBzaG91bGRBdXRvQmluZCA9XG4gICAgICAgICAgaXNGdW5jdGlvbiAmJlxuICAgICAgICAgICFpc1JlYWN0Q2xhc3NNZXRob2QgJiZcbiAgICAgICAgICAhaXNBbHJlYWR5RGVmaW5lZCAmJlxuICAgICAgICAgIHNwZWMuYXV0b2JpbmQgIT09IGZhbHNlO1xuXG4gICAgICAgIGlmIChzaG91bGRBdXRvQmluZCkge1xuICAgICAgICAgIGF1dG9CaW5kUGFpcnMucHVzaChuYW1lLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgcHJvdG9bbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAoaXNBbHJlYWR5RGVmaW5lZCkge1xuICAgICAgICAgICAgdmFyIHNwZWNQb2xpY3kgPSBSZWFjdENsYXNzSW50ZXJmYWNlW25hbWVdO1xuXG4gICAgICAgICAgICAvLyBUaGVzZSBjYXNlcyBzaG91bGQgYWxyZWFkeSBiZSBjYXVnaHQgYnkgdmFsaWRhdGVNZXRob2RPdmVycmlkZS5cbiAgICAgICAgICAgIF9pbnZhcmlhbnQoXG4gICAgICAgICAgICAgIGlzUmVhY3RDbGFzc01ldGhvZCAmJlxuICAgICAgICAgICAgICAgIChzcGVjUG9saWN5ID09PSAnREVGSU5FX01BTllfTUVSR0VEJyB8fFxuICAgICAgICAgICAgICAgICAgc3BlY1BvbGljeSA9PT0gJ0RFRklORV9NQU5ZJyksXG4gICAgICAgICAgICAgICdSZWFjdENsYXNzOiBVbmV4cGVjdGVkIHNwZWMgcG9saWN5ICVzIGZvciBrZXkgJXMgJyArXG4gICAgICAgICAgICAgICAgJ3doZW4gbWl4aW5nIGluIGNvbXBvbmVudCBzcGVjcy4nLFxuICAgICAgICAgICAgICBzcGVjUG9saWN5LFxuICAgICAgICAgICAgICBuYW1lXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAvLyBGb3IgbWV0aG9kcyB3aGljaCBhcmUgZGVmaW5lZCBtb3JlIHRoYW4gb25jZSwgY2FsbCB0aGUgZXhpc3RpbmdcbiAgICAgICAgICAgIC8vIG1ldGhvZHMgYmVmb3JlIGNhbGxpbmcgdGhlIG5ldyBwcm9wZXJ0eSwgbWVyZ2luZyBpZiBhcHByb3ByaWF0ZS5cbiAgICAgICAgICAgIGlmIChzcGVjUG9saWN5ID09PSAnREVGSU5FX01BTllfTUVSR0VEJykge1xuICAgICAgICAgICAgICBwcm90b1tuYW1lXSA9IGNyZWF0ZU1lcmdlZFJlc3VsdEZ1bmN0aW9uKHByb3RvW25hbWVdLCBwcm9wZXJ0eSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHNwZWNQb2xpY3kgPT09ICdERUZJTkVfTUFOWScpIHtcbiAgICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBjcmVhdGVDaGFpbmVkRnVuY3Rpb24ocHJvdG9bbmFtZV0sIHByb3BlcnR5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvdG9bbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICAgIC8vIEFkZCB2ZXJib3NlIGRpc3BsYXlOYW1lIHRvIHRoZSBmdW5jdGlvbiwgd2hpY2ggaGVscHMgd2hlbiBsb29raW5nXG4gICAgICAgICAgICAgIC8vIGF0IHByb2ZpbGluZyB0b29scy5cbiAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wZXJ0eSA9PT0gJ2Z1bmN0aW9uJyAmJiBzcGVjLmRpc3BsYXlOYW1lKSB7XG4gICAgICAgICAgICAgICAgcHJvdG9bbmFtZV0uZGlzcGxheU5hbWUgPSBzcGVjLmRpc3BsYXlOYW1lICsgJ18nICsgbmFtZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG1peFN0YXRpY1NwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBzdGF0aWNzKSB7XG4gICAgaWYgKCFzdGF0aWNzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZm9yICh2YXIgbmFtZSBpbiBzdGF0aWNzKSB7XG4gICAgICB2YXIgcHJvcGVydHkgPSBzdGF0aWNzW25hbWVdO1xuICAgICAgaWYgKCFzdGF0aWNzLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgaXNSZXNlcnZlZCA9IG5hbWUgaW4gUkVTRVJWRURfU1BFQ19LRVlTO1xuICAgICAgX2ludmFyaWFudChcbiAgICAgICAgIWlzUmVzZXJ2ZWQsXG4gICAgICAgICdSZWFjdENsYXNzOiBZb3UgYXJlIGF0dGVtcHRpbmcgdG8gZGVmaW5lIGEgcmVzZXJ2ZWQgJyArXG4gICAgICAgICAgJ3Byb3BlcnR5LCBgJXNgLCB0aGF0IHNob3VsZG5cXCd0IGJlIG9uIHRoZSBcInN0YXRpY3NcIiBrZXkuIERlZmluZSBpdCAnICtcbiAgICAgICAgICAnYXMgYW4gaW5zdGFuY2UgcHJvcGVydHkgaW5zdGVhZDsgaXQgd2lsbCBzdGlsbCBiZSBhY2Nlc3NpYmxlIG9uIHRoZSAnICtcbiAgICAgICAgICAnY29uc3RydWN0b3IuJyxcbiAgICAgICAgbmFtZVxuICAgICAgKTtcblxuICAgICAgdmFyIGlzQWxyZWFkeURlZmluZWQgPSBuYW1lIGluIENvbnN0cnVjdG9yO1xuICAgICAgaWYgKGlzQWxyZWFkeURlZmluZWQpIHtcbiAgICAgICAgdmFyIHNwZWNQb2xpY3kgPSBSZWFjdENsYXNzU3RhdGljSW50ZXJmYWNlLmhhc093blByb3BlcnR5KG5hbWUpXG4gICAgICAgICAgPyBSZWFjdENsYXNzU3RhdGljSW50ZXJmYWNlW25hbWVdXG4gICAgICAgICAgOiBudWxsO1xuXG4gICAgICAgIF9pbnZhcmlhbnQoXG4gICAgICAgICAgc3BlY1BvbGljeSA9PT0gJ0RFRklORV9NQU5ZX01FUkdFRCcsXG4gICAgICAgICAgJ1JlYWN0Q2xhc3M6IFlvdSBhcmUgYXR0ZW1wdGluZyB0byBkZWZpbmUgJyArXG4gICAgICAgICAgICAnYCVzYCBvbiB5b3VyIGNvbXBvbmVudCBtb3JlIHRoYW4gb25jZS4gVGhpcyBjb25mbGljdCBtYXkgYmUgJyArXG4gICAgICAgICAgICAnZHVlIHRvIGEgbWl4aW4uJyxcbiAgICAgICAgICBuYW1lXG4gICAgICAgICk7XG5cbiAgICAgICAgQ29uc3RydWN0b3JbbmFtZV0gPSBjcmVhdGVNZXJnZWRSZXN1bHRGdW5jdGlvbihDb25zdHJ1Y3RvcltuYW1lXSwgcHJvcGVydHkpO1xuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgQ29uc3RydWN0b3JbbmFtZV0gPSBwcm9wZXJ0eTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogTWVyZ2UgdHdvIG9iamVjdHMsIGJ1dCB0aHJvdyBpZiBib3RoIGNvbnRhaW4gdGhlIHNhbWUga2V5LlxuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gb25lIFRoZSBmaXJzdCBvYmplY3QsIHdoaWNoIGlzIG11dGF0ZWQuXG4gICAqIEBwYXJhbSB7b2JqZWN0fSB0d28gVGhlIHNlY29uZCBvYmplY3RcbiAgICogQHJldHVybiB7b2JqZWN0fSBvbmUgYWZ0ZXIgaXQgaGFzIGJlZW4gbXV0YXRlZCB0byBjb250YWluIGV2ZXJ5dGhpbmcgaW4gdHdvLlxuICAgKi9cbiAgZnVuY3Rpb24gbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cyhvbmUsIHR3bykge1xuICAgIF9pbnZhcmlhbnQoXG4gICAgICBvbmUgJiYgdHdvICYmIHR5cGVvZiBvbmUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB0d28gPT09ICdvYmplY3QnLFxuICAgICAgJ21lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoKTogQ2Fubm90IG1lcmdlIG5vbi1vYmplY3RzLidcbiAgICApO1xuXG4gICAgZm9yICh2YXIga2V5IGluIHR3bykge1xuICAgICAgaWYgKHR3by5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIF9pbnZhcmlhbnQoXG4gICAgICAgICAgb25lW2tleV0gPT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAnbWVyZ2VJbnRvV2l0aE5vRHVwbGljYXRlS2V5cygpOiAnICtcbiAgICAgICAgICAgICdUcmllZCB0byBtZXJnZSB0d28gb2JqZWN0cyB3aXRoIHRoZSBzYW1lIGtleTogYCVzYC4gVGhpcyBjb25mbGljdCAnICtcbiAgICAgICAgICAgICdtYXkgYmUgZHVlIHRvIGEgbWl4aW47IGluIHBhcnRpY3VsYXIsIHRoaXMgbWF5IGJlIGNhdXNlZCBieSB0d28gJyArXG4gICAgICAgICAgICAnZ2V0SW5pdGlhbFN0YXRlKCkgb3IgZ2V0RGVmYXVsdFByb3BzKCkgbWV0aG9kcyByZXR1cm5pbmcgb2JqZWN0cyAnICtcbiAgICAgICAgICAgICd3aXRoIGNsYXNoaW5nIGtleXMuJyxcbiAgICAgICAgICBrZXlcbiAgICAgICAgKTtcbiAgICAgICAgb25lW2tleV0gPSB0d29ba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9uZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHR3byBmdW5jdGlvbnMgYW5kIG1lcmdlcyB0aGVpciByZXR1cm4gdmFsdWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvbmUgRnVuY3Rpb24gdG8gaW52b2tlIGZpcnN0LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSB0d28gRnVuY3Rpb24gdG8gaW52b2tlIHNlY29uZC5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgdHdvIGFyZ3VtZW50IGZ1bmN0aW9ucy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZU1lcmdlZFJlc3VsdEZ1bmN0aW9uKG9uZSwgdHdvKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIG1lcmdlZFJlc3VsdCgpIHtcbiAgICAgIHZhciBhID0gb25lLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICB2YXIgYiA9IHR3by5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgaWYgKGEgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gYjtcbiAgICAgIH0gZWxzZSBpZiAoYiA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBhO1xuICAgICAgfVxuICAgICAgdmFyIGMgPSB7fTtcbiAgICAgIG1lcmdlSW50b1dpdGhOb0R1cGxpY2F0ZUtleXMoYywgYSk7XG4gICAgICBtZXJnZUludG9XaXRoTm9EdXBsaWNhdGVLZXlzKGMsIGIpO1xuICAgICAgcmV0dXJuIGM7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIHR3byBmdW5jdGlvbnMgYW5kIGlnbm9yZXMgdGhlaXIgcmV0dXJuIHZhbGVzLlxuICAgKlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBvbmUgRnVuY3Rpb24gdG8gaW52b2tlIGZpcnN0LlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSB0d28gRnVuY3Rpb24gdG8gaW52b2tlIHNlY29uZC5cbiAgICogQHJldHVybiB7ZnVuY3Rpb259IEZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgdHdvIGFyZ3VtZW50IGZ1bmN0aW9ucy5cbiAgICogQHByaXZhdGVcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZUNoYWluZWRGdW5jdGlvbihvbmUsIHR3bykge1xuICAgIHJldHVybiBmdW5jdGlvbiBjaGFpbmVkRnVuY3Rpb24oKSB7XG4gICAgICBvbmUuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHR3by5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQmluZHMgYSBtZXRob2QgdG8gdGhlIGNvbXBvbmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbXBvbmVudCBDb21wb25lbnQgd2hvc2UgbWV0aG9kIGlzIGdvaW5nIHRvIGJlIGJvdW5kLlxuICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBtZXRob2QgTWV0aG9kIHRvIGJlIGJvdW5kLlxuICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIGJvdW5kIG1ldGhvZC5cbiAgICovXG4gIGZ1bmN0aW9uIGJpbmRBdXRvQmluZE1ldGhvZChjb21wb25lbnQsIG1ldGhvZCkge1xuICAgIHZhciBib3VuZE1ldGhvZCA9IG1ldGhvZC5iaW5kKGNvbXBvbmVudCk7XG4gICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgIGJvdW5kTWV0aG9kLl9fcmVhY3RCb3VuZENvbnRleHQgPSBjb21wb25lbnQ7XG4gICAgICBib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRNZXRob2QgPSBtZXRob2Q7XG4gICAgICBib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRBcmd1bWVudHMgPSBudWxsO1xuICAgICAgdmFyIGNvbXBvbmVudE5hbWUgPSBjb21wb25lbnQuY29uc3RydWN0b3IuZGlzcGxheU5hbWU7XG4gICAgICB2YXIgX2JpbmQgPSBib3VuZE1ldGhvZC5iaW5kO1xuICAgICAgYm91bmRNZXRob2QuYmluZCA9IGZ1bmN0aW9uKG5ld1RoaXMpIHtcbiAgICAgICAgZm9yIChcbiAgICAgICAgICB2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkoX2xlbiA+IDEgPyBfbGVuIC0gMSA6IDApLFxuICAgICAgICAgICAgX2tleSA9IDE7XG4gICAgICAgICAgX2tleSA8IF9sZW47XG4gICAgICAgICAgX2tleSsrXG4gICAgICAgICkge1xuICAgICAgICAgIGFyZ3NbX2tleSAtIDFdID0gYXJndW1lbnRzW19rZXldO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXNlciBpcyB0cnlpbmcgdG8gYmluZCgpIGFuIGF1dG9ib3VuZCBtZXRob2Q7IHdlIGVmZmVjdGl2ZWx5IHdpbGxcbiAgICAgICAgLy8gaWdub3JlIHRoZSB2YWx1ZSBvZiBcInRoaXNcIiB0aGF0IHRoZSB1c2VyIGlzIHRyeWluZyB0byB1c2UsIHNvXG4gICAgICAgIC8vIGxldCdzIHdhcm4uXG4gICAgICAgIGlmIChuZXdUaGlzICE9PSBjb21wb25lbnQgJiYgbmV3VGhpcyAhPT0gbnVsbCkge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgJ2JpbmQoKTogUmVhY3QgY29tcG9uZW50IG1ldGhvZHMgbWF5IG9ubHkgYmUgYm91bmQgdG8gdGhlICcgK1xuICAgICAgICAgICAgICAgICdjb21wb25lbnQgaW5zdGFuY2UuIFNlZSAlcycsXG4gICAgICAgICAgICAgIGNvbXBvbmVudE5hbWVcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgICB3YXJuaW5nKFxuICAgICAgICAgICAgICBmYWxzZSxcbiAgICAgICAgICAgICAgJ2JpbmQoKTogWW91IGFyZSBiaW5kaW5nIGEgY29tcG9uZW50IG1ldGhvZCB0byB0aGUgY29tcG9uZW50LiAnICtcbiAgICAgICAgICAgICAgICAnUmVhY3QgZG9lcyB0aGlzIGZvciB5b3UgYXV0b21hdGljYWxseSBpbiBhIGhpZ2gtcGVyZm9ybWFuY2UgJyArXG4gICAgICAgICAgICAgICAgJ3dheSwgc28geW91IGNhbiBzYWZlbHkgcmVtb3ZlIHRoaXMgY2FsbC4gU2VlICVzJyxcbiAgICAgICAgICAgICAgY29tcG9uZW50TmFtZVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGJvdW5kTWV0aG9kO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZWJvdW5kTWV0aG9kID0gX2JpbmQuYXBwbHkoYm91bmRNZXRob2QsIGFyZ3VtZW50cyk7XG4gICAgICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQ29udGV4dCA9IGNvbXBvbmVudDtcbiAgICAgICAgcmVib3VuZE1ldGhvZC5fX3JlYWN0Qm91bmRNZXRob2QgPSBtZXRob2Q7XG4gICAgICAgIHJlYm91bmRNZXRob2QuX19yZWFjdEJvdW5kQXJndW1lbnRzID0gYXJncztcbiAgICAgICAgcmV0dXJuIHJlYm91bmRNZXRob2Q7XG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gYm91bmRNZXRob2Q7XG4gIH1cblxuICAvKipcbiAgICogQmluZHMgYWxsIGF1dG8tYm91bmQgbWV0aG9kcyBpbiBhIGNvbXBvbmVudC5cbiAgICpcbiAgICogQHBhcmFtIHtvYmplY3R9IGNvbXBvbmVudCBDb21wb25lbnQgd2hvc2UgbWV0aG9kIGlzIGdvaW5nIHRvIGJlIGJvdW5kLlxuICAgKi9cbiAgZnVuY3Rpb24gYmluZEF1dG9CaW5kTWV0aG9kcyhjb21wb25lbnQpIHtcbiAgICB2YXIgcGFpcnMgPSBjb21wb25lbnQuX19yZWFjdEF1dG9CaW5kUGFpcnM7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkgKz0gMikge1xuICAgICAgdmFyIGF1dG9CaW5kS2V5ID0gcGFpcnNbaV07XG4gICAgICB2YXIgbWV0aG9kID0gcGFpcnNbaSArIDFdO1xuICAgICAgY29tcG9uZW50W2F1dG9CaW5kS2V5XSA9IGJpbmRBdXRvQmluZE1ldGhvZChjb21wb25lbnQsIG1ldGhvZCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIElzTW91bnRlZFByZU1peGluID0ge1xuICAgIGNvbXBvbmVudERpZE1vdW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX19pc01vdW50ZWQgPSB0cnVlO1xuICAgIH1cbiAgfTtcblxuICB2YXIgSXNNb3VudGVkUG9zdE1peGluID0ge1xuICAgIGNvbXBvbmVudFdpbGxVbm1vdW50OiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX19pc01vdW50ZWQgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgLyoqXG4gICAqIEFkZCBtb3JlIHRvIHRoZSBSZWFjdENsYXNzIGJhc2UgY2xhc3MuIFRoZXNlIGFyZSBhbGwgbGVnYWN5IGZlYXR1cmVzIGFuZFxuICAgKiB0aGVyZWZvcmUgbm90IGFscmVhZHkgcGFydCBvZiB0aGUgbW9kZXJuIFJlYWN0Q29tcG9uZW50LlxuICAgKi9cbiAgdmFyIFJlYWN0Q2xhc3NNaXhpbiA9IHtcbiAgICAvKipcbiAgICAgKiBUT0RPOiBUaGlzIHdpbGwgYmUgZGVwcmVjYXRlZCBiZWNhdXNlIHN0YXRlIHNob3VsZCBhbHdheXMga2VlcCBhIGNvbnNpc3RlbnRcbiAgICAgKiB0eXBlIHNpZ25hdHVyZSBhbmQgdGhlIG9ubHkgdXNlIGNhc2UgZm9yIHRoaXMsIGlzIHRvIGF2b2lkIHRoYXQuXG4gICAgICovXG4gICAgcmVwbGFjZVN0YXRlOiBmdW5jdGlvbihuZXdTdGF0ZSwgY2FsbGJhY2spIHtcbiAgICAgIHRoaXMudXBkYXRlci5lbnF1ZXVlUmVwbGFjZVN0YXRlKHRoaXMsIG5ld1N0YXRlLCBjYWxsYmFjayk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIG9yIG5vdCB0aGlzIGNvbXBvc2l0ZSBjb21wb25lbnQgaXMgbW91bnRlZC5cbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIG1vdW50ZWQsIGZhbHNlIG90aGVyd2lzZS5cbiAgICAgKiBAcHJvdGVjdGVkXG4gICAgICogQGZpbmFsXG4gICAgICovXG4gICAgaXNNb3VudGVkOiBmdW5jdGlvbigpIHtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgdGhpcy5fX2RpZFdhcm5Jc01vdW50ZWQsXG4gICAgICAgICAgJyVzOiBpc01vdW50ZWQgaXMgZGVwcmVjYXRlZC4gSW5zdGVhZCwgbWFrZSBzdXJlIHRvIGNsZWFuIHVwICcgK1xuICAgICAgICAgICAgJ3N1YnNjcmlwdGlvbnMgYW5kIHBlbmRpbmcgcmVxdWVzdHMgaW4gY29tcG9uZW50V2lsbFVubW91bnQgdG8gJyArXG4gICAgICAgICAgICAncHJldmVudCBtZW1vcnkgbGVha3MuJyxcbiAgICAgICAgICAodGhpcy5jb25zdHJ1Y3RvciAmJiB0aGlzLmNvbnN0cnVjdG9yLmRpc3BsYXlOYW1lKSB8fFxuICAgICAgICAgICAgdGhpcy5uYW1lIHx8XG4gICAgICAgICAgICAnQ29tcG9uZW50J1xuICAgICAgICApO1xuICAgICAgICB0aGlzLl9fZGlkV2FybklzTW91bnRlZCA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gISF0aGlzLl9faXNNb3VudGVkO1xuICAgIH1cbiAgfTtcblxuICB2YXIgUmVhY3RDbGFzc0NvbXBvbmVudCA9IGZ1bmN0aW9uKCkge307XG4gIF9hc3NpZ24oXG4gICAgUmVhY3RDbGFzc0NvbXBvbmVudC5wcm90b3R5cGUsXG4gICAgUmVhY3RDb21wb25lbnQucHJvdG90eXBlLFxuICAgIFJlYWN0Q2xhc3NNaXhpblxuICApO1xuXG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgY29tcG9zaXRlIGNvbXBvbmVudCBjbGFzcyBnaXZlbiBhIGNsYXNzIHNwZWNpZmljYXRpb24uXG4gICAqIFNlZSBodHRwczovL2ZhY2Vib29rLmdpdGh1Yi5pby9yZWFjdC9kb2NzL3RvcC1sZXZlbC1hcGkuaHRtbCNyZWFjdC5jcmVhdGVjbGFzc1xuICAgKlxuICAgKiBAcGFyYW0ge29iamVjdH0gc3BlYyBDbGFzcyBzcGVjaWZpY2F0aW9uICh3aGljaCBtdXN0IGRlZmluZSBgcmVuZGVyYCkuXG4gICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBDb21wb25lbnQgY29uc3RydWN0b3IgZnVuY3Rpb24uXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGZ1bmN0aW9uIGNyZWF0ZUNsYXNzKHNwZWMpIHtcbiAgICAvLyBUbyBrZWVwIG91ciB3YXJuaW5ncyBtb3JlIHVuZGVyc3RhbmRhYmxlLCB3ZSdsbCB1c2UgYSBsaXR0bGUgaGFjayBoZXJlIHRvXG4gICAgLy8gZW5zdXJlIHRoYXQgQ29uc3RydWN0b3IubmFtZSAhPT0gJ0NvbnN0cnVjdG9yJy4gVGhpcyBtYWtlcyBzdXJlIHdlIGRvbid0XG4gICAgLy8gdW5uZWNlc3NhcmlseSBpZGVudGlmeSBhIGNsYXNzIHdpdGhvdXQgZGlzcGxheU5hbWUgYXMgJ0NvbnN0cnVjdG9yJy5cbiAgICB2YXIgQ29uc3RydWN0b3IgPSBpZGVudGl0eShmdW5jdGlvbihwcm9wcywgY29udGV4dCwgdXBkYXRlcikge1xuICAgICAgLy8gVGhpcyBjb25zdHJ1Y3RvciBnZXRzIG92ZXJyaWRkZW4gYnkgbW9ja3MuIFRoZSBhcmd1bWVudCBpcyB1c2VkXG4gICAgICAvLyBieSBtb2NrcyB0byBhc3NlcnQgb24gd2hhdCBnZXRzIG1vdW50ZWQuXG5cbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIHdhcm5pbmcoXG4gICAgICAgICAgdGhpcyBpbnN0YW5jZW9mIENvbnN0cnVjdG9yLFxuICAgICAgICAgICdTb21ldGhpbmcgaXMgY2FsbGluZyBhIFJlYWN0IGNvbXBvbmVudCBkaXJlY3RseS4gVXNlIGEgZmFjdG9yeSBvciAnICtcbiAgICAgICAgICAgICdKU1ggaW5zdGVhZC4gU2VlOiBodHRwczovL2ZiLm1lL3JlYWN0LWxlZ2FjeWZhY3RvcnknXG4gICAgICAgICk7XG4gICAgICB9XG5cbiAgICAgIC8vIFdpcmUgdXAgYXV0by1iaW5kaW5nXG4gICAgICBpZiAodGhpcy5fX3JlYWN0QXV0b0JpbmRQYWlycy5sZW5ndGgpIHtcbiAgICAgICAgYmluZEF1dG9CaW5kTWV0aG9kcyh0aGlzKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5wcm9wcyA9IHByb3BzO1xuICAgICAgdGhpcy5jb250ZXh0ID0gY29udGV4dDtcbiAgICAgIHRoaXMucmVmcyA9IGVtcHR5T2JqZWN0O1xuICAgICAgdGhpcy51cGRhdGVyID0gdXBkYXRlciB8fCBSZWFjdE5vb3BVcGRhdGVRdWV1ZTtcblxuICAgICAgdGhpcy5zdGF0ZSA9IG51bGw7XG5cbiAgICAgIC8vIFJlYWN0Q2xhc3NlcyBkb2Vzbid0IGhhdmUgY29uc3RydWN0b3JzLiBJbnN0ZWFkLCB0aGV5IHVzZSB0aGVcbiAgICAgIC8vIGdldEluaXRpYWxTdGF0ZSBhbmQgY29tcG9uZW50V2lsbE1vdW50IG1ldGhvZHMgZm9yIGluaXRpYWxpemF0aW9uLlxuXG4gICAgICB2YXIgaW5pdGlhbFN0YXRlID0gdGhpcy5nZXRJbml0aWFsU3RhdGUgPyB0aGlzLmdldEluaXRpYWxTdGF0ZSgpIDogbnVsbDtcbiAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgIC8vIFdlIGFsbG93IGF1dG8tbW9ja3MgdG8gcHJvY2VlZCBhcyBpZiB0aGV5J3JlIHJldHVybmluZyBudWxsLlxuICAgICAgICBpZiAoXG4gICAgICAgICAgaW5pdGlhbFN0YXRlID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICB0aGlzLmdldEluaXRpYWxTdGF0ZS5faXNNb2NrRnVuY3Rpb25cbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBwcm9iYWJseSBiYWQgcHJhY3RpY2UuIENvbnNpZGVyIHdhcm5pbmcgaGVyZSBhbmRcbiAgICAgICAgICAvLyBkZXByZWNhdGluZyB0aGlzIGNvbnZlbmllbmNlLlxuICAgICAgICAgIGluaXRpYWxTdGF0ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIF9pbnZhcmlhbnQoXG4gICAgICAgIHR5cGVvZiBpbml0aWFsU3RhdGUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KGluaXRpYWxTdGF0ZSksXG4gICAgICAgICclcy5nZXRJbml0aWFsU3RhdGUoKTogbXVzdCByZXR1cm4gYW4gb2JqZWN0IG9yIG51bGwnLFxuICAgICAgICBDb25zdHJ1Y3Rvci5kaXNwbGF5TmFtZSB8fCAnUmVhY3RDb21wb3NpdGVDb21wb25lbnQnXG4gICAgICApO1xuXG4gICAgICB0aGlzLnN0YXRlID0gaW5pdGlhbFN0YXRlO1xuICAgIH0pO1xuICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZSA9IG5ldyBSZWFjdENsYXNzQ29tcG9uZW50KCk7XG4gICAgQ29uc3RydWN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gQ29uc3RydWN0b3I7XG4gICAgQ29uc3RydWN0b3IucHJvdG90eXBlLl9fcmVhY3RBdXRvQmluZFBhaXJzID0gW107XG5cbiAgICBpbmplY3RlZE1peGlucy5mb3JFYWNoKG1peFNwZWNJbnRvQ29tcG9uZW50LmJpbmQobnVsbCwgQ29uc3RydWN0b3IpKTtcblxuICAgIG1peFNwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBJc01vdW50ZWRQcmVNaXhpbik7XG4gICAgbWl4U3BlY0ludG9Db21wb25lbnQoQ29uc3RydWN0b3IsIHNwZWMpO1xuICAgIG1peFNwZWNJbnRvQ29tcG9uZW50KENvbnN0cnVjdG9yLCBJc01vdW50ZWRQb3N0TWl4aW4pO1xuXG4gICAgLy8gSW5pdGlhbGl6ZSB0aGUgZGVmYXVsdFByb3BzIHByb3BlcnR5IGFmdGVyIGFsbCBtaXhpbnMgaGF2ZSBiZWVuIG1lcmdlZC5cbiAgICBpZiAoQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgICBDb25zdHJ1Y3Rvci5kZWZhdWx0UHJvcHMgPSBDb25zdHJ1Y3Rvci5nZXREZWZhdWx0UHJvcHMoKTtcbiAgICB9XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgLy8gVGhpcyBpcyBhIHRhZyB0byBpbmRpY2F0ZSB0aGF0IHRoZSB1c2Ugb2YgdGhlc2UgbWV0aG9kIG5hbWVzIGlzIG9rLFxuICAgICAgLy8gc2luY2UgaXQncyB1c2VkIHdpdGggY3JlYXRlQ2xhc3MuIElmIGl0J3Mgbm90LCB0aGVuIGl0J3MgbGlrZWx5IGFcbiAgICAgIC8vIG1pc3Rha2Ugc28gd2UnbGwgd2FybiB5b3UgdG8gdXNlIHRoZSBzdGF0aWMgcHJvcGVydHksIHByb3BlcnR5XG4gICAgICAvLyBpbml0aWFsaXplciBvciBjb25zdHJ1Y3RvciByZXNwZWN0aXZlbHkuXG4gICAgICBpZiAoQ29uc3RydWN0b3IuZ2V0RGVmYXVsdFByb3BzKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLmdldERlZmF1bHRQcm9wcy5pc1JlYWN0Q2xhc3NBcHByb3ZlZCA9IHt9O1xuICAgICAgfVxuICAgICAgaWYgKENvbnN0cnVjdG9yLnByb3RvdHlwZS5nZXRJbml0aWFsU3RhdGUpIHtcbiAgICAgICAgQ29uc3RydWN0b3IucHJvdG90eXBlLmdldEluaXRpYWxTdGF0ZS5pc1JlYWN0Q2xhc3NBcHByb3ZlZCA9IHt9O1xuICAgICAgfVxuICAgIH1cblxuICAgIF9pbnZhcmlhbnQoXG4gICAgICBDb25zdHJ1Y3Rvci5wcm90b3R5cGUucmVuZGVyLFxuICAgICAgJ2NyZWF0ZUNsYXNzKC4uLik6IENsYXNzIHNwZWNpZmljYXRpb24gbXVzdCBpbXBsZW1lbnQgYSBgcmVuZGVyYCBtZXRob2QuJ1xuICAgICk7XG5cbiAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgd2FybmluZyhcbiAgICAgICAgIUNvbnN0cnVjdG9yLnByb3RvdHlwZS5jb21wb25lbnRTaG91bGRVcGRhdGUsXG4gICAgICAgICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgK1xuICAgICAgICAgICdjb21wb25lbnRTaG91bGRVcGRhdGUoKS4gRGlkIHlvdSBtZWFuIHNob3VsZENvbXBvbmVudFVwZGF0ZSgpPyAnICtcbiAgICAgICAgICAnVGhlIG5hbWUgaXMgcGhyYXNlZCBhcyBhIHF1ZXN0aW9uIGJlY2F1c2UgdGhlIGZ1bmN0aW9uIGlzICcgK1xuICAgICAgICAgICdleHBlY3RlZCB0byByZXR1cm4gYSB2YWx1ZS4nLFxuICAgICAgICBzcGVjLmRpc3BsYXlOYW1lIHx8ICdBIGNvbXBvbmVudCdcbiAgICAgICk7XG4gICAgICB3YXJuaW5nKFxuICAgICAgICAhQ29uc3RydWN0b3IucHJvdG90eXBlLmNvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMsXG4gICAgICAgICclcyBoYXMgYSBtZXRob2QgY2FsbGVkICcgK1xuICAgICAgICAgICdjb21wb25lbnRXaWxsUmVjaWV2ZVByb3BzKCkuIERpZCB5b3UgbWVhbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKCk/JyxcbiAgICAgICAgc3BlYy5kaXNwbGF5TmFtZSB8fCAnQSBjb21wb25lbnQnXG4gICAgICApO1xuICAgICAgd2FybmluZyhcbiAgICAgICAgIUNvbnN0cnVjdG9yLnByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2lldmVQcm9wcyxcbiAgICAgICAgJyVzIGhhcyBhIG1ldGhvZCBjYWxsZWQgVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNpZXZlUHJvcHMoKS4gJyArXG4gICAgICAgICAgJ0RpZCB5b3UgbWVhbiBVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcygpPycsXG4gICAgICAgIHNwZWMuZGlzcGxheU5hbWUgfHwgJ0EgY29tcG9uZW50J1xuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBSZWR1Y2UgdGltZSBzcGVudCBkb2luZyBsb29rdXBzIGJ5IHNldHRpbmcgdGhlc2Ugb24gdGhlIHByb3RvdHlwZS5cbiAgICBmb3IgKHZhciBtZXRob2ROYW1lIGluIFJlYWN0Q2xhc3NJbnRlcmZhY2UpIHtcbiAgICAgIGlmICghQ29uc3RydWN0b3IucHJvdG90eXBlW21ldGhvZE5hbWVdKSB7XG4gICAgICAgIENvbnN0cnVjdG9yLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIENvbnN0cnVjdG9yO1xuICB9XG5cbiAgcmV0dXJuIGNyZWF0ZUNsYXNzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZhY3Rvcnk7XG4iLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBlbXB0eU9iamVjdCA9IHt9O1xuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICBPYmplY3QuZnJlZXplKGVtcHR5T2JqZWN0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBlbXB0eU9iamVjdDsiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMy1wcmVzZW50LCBGYWNlYm9vaywgSW5jLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqL1xuXG4ndXNlIHN0cmljdCc7XG5cbi8qKlxuICogVXNlIGludmFyaWFudCgpIHRvIGFzc2VydCBzdGF0ZSB3aGljaCB5b3VyIHByb2dyYW0gYXNzdW1lcyB0byBiZSB0cnVlLlxuICpcbiAqIFByb3ZpZGUgc3ByaW50Zi1zdHlsZSBmb3JtYXQgKG9ubHkgJXMgaXMgc3VwcG9ydGVkKSBhbmQgYXJndW1lbnRzXG4gKiB0byBwcm92aWRlIGluZm9ybWF0aW9uIGFib3V0IHdoYXQgYnJva2UgYW5kIHdoYXQgeW91IHdlcmVcbiAqIGV4cGVjdGluZy5cbiAqXG4gKiBUaGUgaW52YXJpYW50IG1lc3NhZ2Ugd2lsbCBiZSBzdHJpcHBlZCBpbiBwcm9kdWN0aW9uLCBidXQgdGhlIGludmFyaWFudFxuICogd2lsbCByZW1haW4gdG8gZW5zdXJlIGxvZ2ljIGRvZXMgbm90IGRpZmZlciBpbiBwcm9kdWN0aW9uLlxuICovXG5cbnZhciB2YWxpZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KGZvcm1hdCkge307XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gIHZhbGlkYXRlRm9ybWF0ID0gZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoZm9ybWF0KSB7XG4gICAgaWYgKGZvcm1hdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFyaWFudCByZXF1aXJlcyBhbiBlcnJvciBtZXNzYWdlIGFyZ3VtZW50Jyk7XG4gICAgfVxuICB9O1xufVxuXG5mdW5jdGlvbiBpbnZhcmlhbnQoY29uZGl0aW9uLCBmb3JtYXQsIGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgdmFsaWRhdGVGb3JtYXQoZm9ybWF0KTtcblxuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHZhciBlcnJvcjtcbiAgICBpZiAoZm9ybWF0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKCdNaW5pZmllZCBleGNlcHRpb24gb2NjdXJyZWQ7IHVzZSB0aGUgbm9uLW1pbmlmaWVkIGRldiBlbnZpcm9ubWVudCAnICsgJ2ZvciB0aGUgZnVsbCBlcnJvciBtZXNzYWdlIGFuZCBhZGRpdGlvbmFsIGhlbHBmdWwgd2FybmluZ3MuJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBhcmdzID0gW2EsIGIsIGMsIGQsIGUsIGZdO1xuICAgICAgdmFyIGFyZ0luZGV4ID0gMDtcbiAgICAgIGVycm9yID0gbmV3IEVycm9yKGZvcm1hdC5yZXBsYWNlKC8lcy9nLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBhcmdzW2FyZ0luZGV4KytdO1xuICAgICAgfSkpO1xuICAgICAgZXJyb3IubmFtZSA9ICdJbnZhcmlhbnQgVmlvbGF0aW9uJztcbiAgICB9XG5cbiAgICBlcnJvci5mcmFtZXNUb1BvcCA9IDE7IC8vIHdlIGRvbid0IGNhcmUgYWJvdXQgaW52YXJpYW50J3Mgb3duIGZyYW1lXG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnZhcmlhbnQ7IiwidmFyIGJhc2VHZXQgPSByZXF1aXJlKCcuL19iYXNlR2V0Jyk7XG5cbi8qKlxuICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAqIGB1bmRlZmluZWRgLCB0aGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaW4gaXRzIHBsYWNlLlxuICpcbiAqIEBzdGF0aWNcbiAqIEBtZW1iZXJPZiBfXG4gKiBAc2luY2UgMy43LjBcbiAqIEBjYXRlZ29yeSBPYmplY3RcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICogQGV4YW1wbGVcbiAqXG4gKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICpcbiAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gKiAvLyA9PiAzXG4gKlxuICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gKiAvLyA9PiAzXG4gKlxuICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICogLy8gPT4gJ2RlZmF1bHQnXG4gKi9cbmZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICB2YXIgcmVzdWx0ID0gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBiYXNlR2V0KG9iamVjdCwgcGF0aCk7XG4gIHJldHVybiByZXN1bHQgPT09IHVuZGVmaW5lZCA/IGRlZmF1bHRWYWx1ZSA6IHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXQ7XG4iLCJ2YXIgY2FzdFBhdGggPSByZXF1aXJlKCcuL19jYXN0UGF0aCcpLFxuICAgIHRvS2V5ID0gcmVxdWlyZSgnLi9fdG9LZXknKTtcblxuLyoqXG4gKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5nZXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVmYXVsdCB2YWx1ZXMuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gKi9cbmZ1bmN0aW9uIGJhc2VHZXQob2JqZWN0LCBwYXRoKSB7XG4gIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gIHZhciBpbmRleCA9IDAsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aDtcblxuICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICBvYmplY3QgPSBvYmplY3RbdG9LZXkocGF0aFtpbmRleCsrXSldO1xuICB9XG4gIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBiYXNlR2V0O1xuIiwidmFyIGFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYXNzaWduVmFsdWUnKSxcbiAgICBjYXN0UGF0aCA9IHJlcXVpcmUoJy4vX2Nhc3RQYXRoJyksXG4gICAgaXNJbmRleCA9IHJlcXVpcmUoJy4vX2lzSW5kZXgnKSxcbiAgICBpc09iamVjdCA9IHJlcXVpcmUoJy4vaXNPYmplY3QnKSxcbiAgICB0b0tleSA9IHJlcXVpcmUoJy4vX3RvS2V5Jyk7XG5cbi8qKlxuICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2V0YC5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBwYXRoIGNyZWF0aW9uLlxuICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAqL1xuZnVuY3Rpb24gYmFzZVNldChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cbiAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgdmFyIGluZGV4ID0gLTEsXG4gICAgICBsZW5ndGggPSBwYXRoLmxlbmd0aCxcbiAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICBuZXN0ZWQgPSBvYmplY3Q7XG5cbiAgd2hpbGUgKG5lc3RlZCAhPSBudWxsICYmICsraW5kZXggPCBsZW5ndGgpIHtcbiAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICBuZXdWYWx1ZSA9IHZhbHVlO1xuXG4gICAgaWYgKGluZGV4ICE9IGxhc3RJbmRleCkge1xuICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKG9ialZhbHVlLCBrZXksIG5lc3RlZCkgOiB1bmRlZmluZWQ7XG4gICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgID8gb2JqVmFsdWVcbiAgICAgICAgICA6IChpc0luZGV4KHBhdGhbaW5kZXggKyAxXSkgPyBbXSA6IHt9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgYXNzaWduVmFsdWUobmVzdGVkLCBrZXksIG5ld1ZhbHVlKTtcbiAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqZWN0O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VTZXQ7XG4iLCJ2YXIgYmFzZUFzc2lnblZhbHVlID0gcmVxdWlyZSgnLi9fYmFzZUFzc2lnblZhbHVlJyksXG4gICAgZXEgPSByZXF1aXJlKCcuL2VxJyk7XG5cbi8qKiBVc2VkIGZvciBidWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcy4gKi9cbnZhciBvYmplY3RQcm90byA9IE9iamVjdC5wcm90b3R5cGU7XG5cbi8qKiBVc2VkIHRvIGNoZWNrIG9iamVjdHMgZm9yIG93biBwcm9wZXJ0aWVzLiAqL1xudmFyIGhhc093blByb3BlcnR5ID0gb2JqZWN0UHJvdG8uaGFzT3duUHJvcGVydHk7XG5cbi8qKlxuICogQXNzaWducyBgdmFsdWVgIHRvIGBrZXlgIG9mIGBvYmplY3RgIGlmIHRoZSBleGlzdGluZyB2YWx1ZSBpcyBub3QgZXF1aXZhbGVudFxuICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICovXG5mdW5jdGlvbiBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gIGlmICghKGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpICYmIGVxKG9ialZhbHVlLCB2YWx1ZSkpIHx8XG4gICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gYXNzaWduVmFsdWU7XG4iLCJ2YXIgZGVmaW5lUHJvcGVydHkgPSByZXF1aXJlKCcuL19kZWZpbmVQcm9wZXJ0eScpO1xuXG4vKipcbiAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gKiB2YWx1ZSBjaGVja3MuXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAqL1xuZnVuY3Rpb24gYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICdjb25maWd1cmFibGUnOiB0cnVlLFxuICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgJ3ZhbHVlJzogdmFsdWUsXG4gICAgICAnd3JpdGFibGUnOiB0cnVlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGJhc2VBc3NpZ25WYWx1ZTtcbiIsInZhciBnZXROYXRpdmUgPSByZXF1aXJlKCcuL19nZXROYXRpdmUnKTtcblxudmFyIGRlZmluZVByb3BlcnR5ID0gKGZ1bmN0aW9uKCkge1xuICB0cnkge1xuICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgZnVuYyh7fSwgJycsIHt9KTtcbiAgICByZXR1cm4gZnVuYztcbiAgfSBjYXRjaCAoZSkge31cbn0oKSk7XG5cbm1vZHVsZS5leHBvcnRzID0gZGVmaW5lUHJvcGVydHk7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGludGVyc3BlcnNlO1xuXG5mdW5jdGlvbiBpbnRlcnNwZXJzZShhcnIsIG9iaikge1xuXHRpZiAoIWFyci5sZW5ndGgpIHJldHVybiBbXTtcblx0aWYgKGFyci5sZW5ndGggPT09IDEpIHJldHVybiBhcnIuc2xpY2UoMCk7XG5cblx0dmFyIGl0ZW1zID0gW2FyclswXV07XG5cdGZvciAodmFyIGkgPSAxLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyArK2kpIHtcblx0XHRpdGVtcy5wdXNoKG9iaiwgYXJyW2ldKTtcblx0fVxuXG5cdHJldHVybiBpdGVtcztcbn0iLCJ2YXIgTWVkaWFRdWVyeURpc3BhdGNoID0gcmVxdWlyZSgnLi9NZWRpYVF1ZXJ5RGlzcGF0Y2gnKTtcbm1vZHVsZS5leHBvcnRzID0gbmV3IE1lZGlhUXVlcnlEaXNwYXRjaCgpO1xuIiwidmFyIE1lZGlhUXVlcnkgPSByZXF1aXJlKCcuL01lZGlhUXVlcnknKTtcbnZhciBVdGlsID0gcmVxdWlyZSgnLi9VdGlsJyk7XG52YXIgZWFjaCA9IFV0aWwuZWFjaDtcbnZhciBpc0Z1bmN0aW9uID0gVXRpbC5pc0Z1bmN0aW9uO1xudmFyIGlzQXJyYXkgPSBVdGlsLmlzQXJyYXk7XG5cbi8qKlxuICogQWxsb3dzIGZvciByZWdpc3RyYXRpb24gb2YgcXVlcnkgaGFuZGxlcnMuXG4gKiBNYW5hZ2VzIHRoZSBxdWVyeSBoYW5kbGVyJ3Mgc3RhdGUgYW5kIGlzIHJlc3BvbnNpYmxlIGZvciB3aXJpbmcgdXAgYnJvd3NlciBldmVudHNcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gTWVkaWFRdWVyeURpc3BhdGNoICgpIHtcbiAgICBpZighd2luZG93Lm1hdGNoTWVkaWEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtYXRjaE1lZGlhIG5vdCBwcmVzZW50LCBsZWdhY3kgYnJvd3NlcnMgcmVxdWlyZSBhIHBvbHlmaWxsJyk7XG4gICAgfVxuXG4gICAgdGhpcy5xdWVyaWVzID0ge307XG4gICAgdGhpcy5icm93c2VySXNJbmNhcGFibGUgPSAhd2luZG93Lm1hdGNoTWVkaWEoJ29ubHkgYWxsJykubWF0Y2hlcztcbn1cblxuTWVkaWFRdWVyeURpc3BhdGNoLnByb3RvdHlwZSA9IHtcblxuICAgIGNvbnN0cnVjdG9yIDogTWVkaWFRdWVyeURpc3BhdGNoLFxuXG4gICAgLyoqXG4gICAgICogUmVnaXN0ZXJzIGEgaGFuZGxlciBmb3IgdGhlIGdpdmVuIG1lZGlhIHF1ZXJ5XG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcSB0aGUgbWVkaWEgcXVlcnlcbiAgICAgKiBAcGFyYW0ge29iamVjdCB8fCBBcnJheSB8fCBGdW5jdGlvbn0gb3B0aW9ucyBlaXRoZXIgYSBzaW5nbGUgcXVlcnkgaGFuZGxlciBvYmplY3QsIGEgZnVuY3Rpb24sIG9yIGFuIGFycmF5IG9mIHF1ZXJ5IGhhbmRsZXJzXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gb3B0aW9ucy5tYXRjaCBmaXJlZCB3aGVuIHF1ZXJ5IG1hdGNoZWRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy51bm1hdGNoXSBmaXJlZCB3aGVuIGEgcXVlcnkgaXMgbm8gbG9uZ2VyIG1hdGNoZWRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5zZXR1cF0gZmlyZWQgd2hlbiBoYW5kbGVyIGZpcnN0IHRyaWdnZXJlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMuZGVmZXJTZXR1cD1mYWxzZV0gd2hldGhlciBzZXR1cCBzaG91bGQgYmUgcnVuIGltbWVkaWF0ZWx5IG9yIGRlZmVycmVkIHVudGlsIHF1ZXJ5IGlzIGZpcnN0IG1hdGNoZWRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtzaG91bGREZWdyYWRlPWZhbHNlXSB3aGV0aGVyIHRoaXMgcGFydGljdWxhciBtZWRpYSBxdWVyeSBzaG91bGQgYWx3YXlzIHJ1biBvbiBpbmNhcGFibGUgYnJvd3NlcnNcbiAgICAgKi9cbiAgICByZWdpc3RlciA6IGZ1bmN0aW9uKHEsIG9wdGlvbnMsIHNob3VsZERlZ3JhZGUpIHtcbiAgICAgICAgdmFyIHF1ZXJpZXMgICAgICAgICA9IHRoaXMucXVlcmllcyxcbiAgICAgICAgICAgIGlzVW5jb25kaXRpb25hbCA9IHNob3VsZERlZ3JhZGUgJiYgdGhpcy5icm93c2VySXNJbmNhcGFibGU7XG5cbiAgICAgICAgaWYoIXF1ZXJpZXNbcV0pIHtcbiAgICAgICAgICAgIHF1ZXJpZXNbcV0gPSBuZXcgTWVkaWFRdWVyeShxLCBpc1VuY29uZGl0aW9uYWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy9ub3JtYWxpc2UgdG8gb2JqZWN0IGluIGFuIGFycmF5XG4gICAgICAgIGlmKGlzRnVuY3Rpb24ob3B0aW9ucykpIHtcbiAgICAgICAgICAgIG9wdGlvbnMgPSB7IG1hdGNoIDogb3B0aW9ucyB9O1xuICAgICAgICB9XG4gICAgICAgIGlmKCFpc0FycmF5KG9wdGlvbnMpKSB7XG4gICAgICAgICAgICBvcHRpb25zID0gW29wdGlvbnNdO1xuICAgICAgICB9XG4gICAgICAgIGVhY2gob3B0aW9ucywgZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyID0geyBtYXRjaCA6IGhhbmRsZXIgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHF1ZXJpZXNbcV0uYWRkSGFuZGxlcihoYW5kbGVyKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIHVucmVnaXN0ZXJzIGEgcXVlcnkgYW5kIGFsbCBpdCdzIGhhbmRsZXJzLCBvciBhIHNwZWNpZmljIGhhbmRsZXIgZm9yIGEgcXVlcnlcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBxIHRoZSBtZWRpYSBxdWVyeSB0byB0YXJnZXRcbiAgICAgKiBAcGFyYW0ge29iamVjdCB8fCBmdW5jdGlvbn0gW2hhbmRsZXJdIHNwZWNpZmljIGhhbmRsZXIgdG8gdW5yZWdpc3RlclxuICAgICAqL1xuICAgIHVucmVnaXN0ZXIgOiBmdW5jdGlvbihxLCBoYW5kbGVyKSB7XG4gICAgICAgIHZhciBxdWVyeSA9IHRoaXMucXVlcmllc1txXTtcblxuICAgICAgICBpZihxdWVyeSkge1xuICAgICAgICAgICAgaWYoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHF1ZXJ5LnJlbW92ZUhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBxdWVyeS5jbGVhcigpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnF1ZXJpZXNbcV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1lZGlhUXVlcnlEaXNwYXRjaDtcbiIsInZhciBRdWVyeUhhbmRsZXIgPSByZXF1aXJlKCcuL1F1ZXJ5SGFuZGxlcicpO1xudmFyIGVhY2ggPSByZXF1aXJlKCcuL1V0aWwnKS5lYWNoO1xuXG4vKipcbiAqIFJlcHJlc2VudHMgYSBzaW5nbGUgbWVkaWEgcXVlcnksIG1hbmFnZXMgaXQncyBzdGF0ZSBhbmQgcmVnaXN0ZXJlZCBoYW5kbGVycyBmb3IgdGhpcyBxdWVyeVxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICogQHBhcmFtIHtzdHJpbmd9IHF1ZXJ5IHRoZSBtZWRpYSBxdWVyeSBzdHJpbmdcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzVW5jb25kaXRpb25hbD1mYWxzZV0gd2hldGhlciB0aGUgbWVkaWEgcXVlcnkgc2hvdWxkIHJ1biByZWdhcmRsZXNzIG9mIHdoZXRoZXIgdGhlIGNvbmRpdGlvbnMgYXJlIG1ldC4gUHJpbWFyaWx5IGZvciBoZWxwaW5nIG9sZGVyIGJyb3dzZXJzIGRlYWwgd2l0aCBtb2JpbGUtZmlyc3QgZGVzaWduXG4gKi9cbmZ1bmN0aW9uIE1lZGlhUXVlcnkocXVlcnksIGlzVW5jb25kaXRpb25hbCkge1xuICAgIHRoaXMucXVlcnkgPSBxdWVyeTtcbiAgICB0aGlzLmlzVW5jb25kaXRpb25hbCA9IGlzVW5jb25kaXRpb25hbDtcbiAgICB0aGlzLmhhbmRsZXJzID0gW107XG4gICAgdGhpcy5tcWwgPSB3aW5kb3cubWF0Y2hNZWRpYShxdWVyeSk7XG5cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdGhpcy5saXN0ZW5lciA9IGZ1bmN0aW9uKG1xbCkge1xuICAgICAgICAvLyBDaHJvbWUgcGFzc2VzIGFuIE1lZGlhUXVlcnlMaXN0RXZlbnQgb2JqZWN0LCB3aGlsZSBvdGhlciBicm93c2VycyBwYXNzIE1lZGlhUXVlcnlMaXN0IGRpcmVjdGx5XG4gICAgICAgIHNlbGYubXFsID0gbXFsLmN1cnJlbnRUYXJnZXQgfHwgbXFsO1xuICAgICAgICBzZWxmLmFzc2VzcygpO1xuICAgIH07XG4gICAgdGhpcy5tcWwuYWRkTGlzdGVuZXIodGhpcy5saXN0ZW5lcik7XG59XG5cbk1lZGlhUXVlcnkucHJvdG90eXBlID0ge1xuXG4gICAgY29uc3R1Y3RvciA6IE1lZGlhUXVlcnksXG5cbiAgICAvKipcbiAgICAgKiBhZGQgYSBoYW5kbGVyIGZvciB0aGlzIHF1ZXJ5LCB0cmlnZ2VyaW5nIGlmIGFscmVhZHkgYWN0aXZlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gaGFuZGxlclxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGhhbmRsZXIubWF0Y2ggY2FsbGJhY2sgZm9yIHdoZW4gcXVlcnkgaXMgYWN0aXZhdGVkXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gW2hhbmRsZXIudW5tYXRjaF0gY2FsbGJhY2sgZm9yIHdoZW4gcXVlcnkgaXMgZGVhY3RpdmF0ZWRcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBbaGFuZGxlci5zZXR1cF0gY2FsbGJhY2sgZm9yIGltbWVkaWF0ZSBleGVjdXRpb24gd2hlbiBhIHF1ZXJ5IGhhbmRsZXIgaXMgcmVnaXN0ZXJlZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2hhbmRsZXIuZGVmZXJTZXR1cD1mYWxzZV0gc2hvdWxkIHRoZSBzZXR1cCBjYWxsYmFjayBiZSBkZWZlcnJlZCB1bnRpbCB0aGUgZmlyc3QgdGltZSB0aGUgaGFuZGxlciBpcyBtYXRjaGVkP1xuICAgICAqL1xuICAgIGFkZEhhbmRsZXIgOiBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICAgIHZhciBxaCA9IG5ldyBRdWVyeUhhbmRsZXIoaGFuZGxlcik7XG4gICAgICAgIHRoaXMuaGFuZGxlcnMucHVzaChxaCk7XG5cbiAgICAgICAgdGhpcy5tYXRjaGVzKCkgJiYgcWgub24oKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogcmVtb3ZlcyB0aGUgZ2l2ZW4gaGFuZGxlciBmcm9tIHRoZSBjb2xsZWN0aW9uLCBhbmQgY2FsbHMgaXQncyBkZXN0cm95IG1ldGhvZHNcbiAgICAgKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0IHx8IGZ1bmN0aW9ufSBoYW5kbGVyIHRoZSBoYW5kbGVyIHRvIHJlbW92ZVxuICAgICAqL1xuICAgIHJlbW92ZUhhbmRsZXIgOiBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgICAgIHZhciBoYW5kbGVycyA9IHRoaXMuaGFuZGxlcnM7XG4gICAgICAgIGVhY2goaGFuZGxlcnMsIGZ1bmN0aW9uKGgsIGkpIHtcbiAgICAgICAgICAgIGlmKGguZXF1YWxzKGhhbmRsZXIpKSB7XG4gICAgICAgICAgICAgICAgaC5kZXN0cm95KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFoYW5kbGVycy5zcGxpY2UoaSwxKTsgLy9yZW1vdmUgZnJvbSBhcnJheSBhbmQgZXhpdCBlYWNoIGVhcmx5XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmUgd2hldGhlciB0aGUgbWVkaWEgcXVlcnkgc2hvdWxkIGJlIGNvbnNpZGVyZWQgYSBtYXRjaFxuICAgICAqXG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gdHJ1ZSBpZiBtZWRpYSBxdWVyeSBjYW4gYmUgY29uc2lkZXJlZCBhIG1hdGNoLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBtYXRjaGVzIDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1xbC5tYXRjaGVzIHx8IHRoaXMuaXNVbmNvbmRpdGlvbmFsO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIGhhbmRsZXJzIGFuZCB1bmJpbmRzIGV2ZW50c1xuICAgICAqL1xuICAgIGNsZWFyIDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICAgICAgaGFuZGxlci5kZXN0cm95KCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm1xbC5yZW1vdmVMaXN0ZW5lcih0aGlzLmxpc3RlbmVyKTtcbiAgICAgICAgdGhpcy5oYW5kbGVycy5sZW5ndGggPSAwOyAvL2NsZWFyIGFycmF5XG4gICAgfSxcblxuICAgIC8qXG4gICAgICAgICogQXNzZXNzZXMgdGhlIHF1ZXJ5LCB0dXJuaW5nIG9uIGFsbCBoYW5kbGVycyBpZiBpdCBtYXRjaGVzLCB0dXJuaW5nIHRoZW0gb2ZmIGlmIGl0IGRvZXNuJ3QgbWF0Y2hcbiAgICAgICAgKi9cbiAgICBhc3Nlc3MgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFjdGlvbiA9IHRoaXMubWF0Y2hlcygpID8gJ29uJyA6ICdvZmYnO1xuXG4gICAgICAgIGVhY2godGhpcy5oYW5kbGVycywgZnVuY3Rpb24oaGFuZGxlcikge1xuICAgICAgICAgICAgaGFuZGxlclthY3Rpb25dKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gTWVkaWFRdWVyeTtcbiIsIi8qKlxuICogRGVsZWdhdGUgdG8gaGFuZGxlIGEgbWVkaWEgcXVlcnkgYmVpbmcgbWF0Y2hlZCBhbmQgdW5tYXRjaGVkLlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvcHRpb25zLm1hdGNoIGNhbGxiYWNrIGZvciB3aGVuIHRoZSBtZWRpYSBxdWVyeSBpcyBtYXRjaGVkXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy51bm1hdGNoXSBjYWxsYmFjayBmb3Igd2hlbiB0aGUgbWVkaWEgcXVlcnkgaXMgdW5tYXRjaGVkXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbb3B0aW9ucy5zZXR1cF0gb25lLXRpbWUgY2FsbGJhY2sgdHJpZ2dlcmVkIHRoZSBmaXJzdCB0aW1lIGEgcXVlcnkgaXMgbWF0Y2hlZFxuICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5kZWZlclNldHVwPWZhbHNlXSBzaG91bGQgdGhlIHNldHVwIGNhbGxiYWNrIGJlIHJ1biBpbW1lZGlhdGVseSwgcmF0aGVyIHRoYW4gZmlyc3QgdGltZSBxdWVyeSBpcyBtYXRjaGVkP1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFF1ZXJ5SGFuZGxlcihvcHRpb25zKSB7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICAhb3B0aW9ucy5kZWZlclNldHVwICYmIHRoaXMuc2V0dXAoKTtcbn1cblxuUXVlcnlIYW5kbGVyLnByb3RvdHlwZSA9IHtcblxuICAgIGNvbnN0cnVjdG9yIDogUXVlcnlIYW5kbGVyLFxuXG4gICAgLyoqXG4gICAgICogY29vcmRpbmF0ZXMgc2V0dXAgb2YgdGhlIGhhbmRsZXJcbiAgICAgKlxuICAgICAqIEBmdW5jdGlvblxuICAgICAqL1xuICAgIHNldHVwIDogZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmKHRoaXMub3B0aW9ucy5zZXR1cCkge1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zLnNldHVwKCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbml0aWFsaXNlZCA9IHRydWU7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGNvb3JkaW5hdGVzIHNldHVwIGFuZCB0cmlnZ2VyaW5nIG9mIHRoZSBoYW5kbGVyXG4gICAgICpcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBvbiA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAhdGhpcy5pbml0aWFsaXNlZCAmJiB0aGlzLnNldHVwKCk7XG4gICAgICAgIHRoaXMub3B0aW9ucy5tYXRjaCAmJiB0aGlzLm9wdGlvbnMubWF0Y2goKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY29vcmRpbmF0ZXMgdGhlIHVubWF0Y2ggZXZlbnQgZm9yIHRoZSBoYW5kbGVyXG4gICAgICpcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBvZmYgOiBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5vcHRpb25zLnVubWF0Y2ggJiYgdGhpcy5vcHRpb25zLnVubWF0Y2goKTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICogY2FsbGVkIHdoZW4gYSBoYW5kbGVyIGlzIHRvIGJlIGRlc3Ryb3llZC5cbiAgICAgKiBkZWxlZ2F0ZXMgdG8gdGhlIGRlc3Ryb3kgb3IgdW5tYXRjaCBjYWxsYmFja3MsIGRlcGVuZGluZyBvbiBhdmFpbGFiaWxpdHkuXG4gICAgICpcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKi9cbiAgICBkZXN0cm95IDogZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMub3B0aW9ucy5kZXN0cm95ID8gdGhpcy5vcHRpb25zLmRlc3Ryb3koKSA6IHRoaXMub2ZmKCk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIGRldGVybWluZXMgZXF1YWxpdHkgYnkgcmVmZXJlbmNlLlxuICAgICAqIGlmIG9iamVjdCBpcyBzdXBwbGllZCBjb21wYXJlIG9wdGlvbnMsIGlmIGZ1bmN0aW9uLCBjb21wYXJlIG1hdGNoIGNhbGxiYWNrXG4gICAgICpcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge29iamVjdCB8fCBmdW5jdGlvbn0gW3RhcmdldF0gdGhlIHRhcmdldCBmb3IgY29tcGFyaXNvblxuICAgICAqL1xuICAgIGVxdWFscyA6IGZ1bmN0aW9uKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zID09PSB0YXJnZXQgfHwgdGhpcy5vcHRpb25zLm1hdGNoID09PSB0YXJnZXQ7XG4gICAgfVxuXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFF1ZXJ5SGFuZGxlcjtcbiIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBmaW5kRE9NTm9kZSB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgVHJhbnNpdGlvbkV2ZW50cyBmcm9tICdjc3MtYW5pbWF0aW9uL2VzL0V2ZW50JztcbnZhciBzdHlsZUZvclBlc3VkbyA9IHZvaWQgMDtcblxudmFyIFdhdmUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhXYXZlLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFdhdmUoKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBXYXZlKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoV2F2ZS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFdhdmUpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgICAgICBfdGhpcy5vbkNsaWNrID0gZnVuY3Rpb24gKG5vZGUsIHdhdmVDb2xvcikge1xuICAgICAgICAgICAgaWYgKG5vZGUuY2xhc3NOYW1lLmluZGV4T2YoJy1sZWF2ZScpID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5zZXJ0RXh0cmFOb2RlID0gX3RoaXMucHJvcHMuaW5zZXJ0RXh0cmFOb2RlO1xuXG4gICAgICAgICAgICBfdGhpcy5leHRyYU5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIHZhciBleHRyYU5vZGUgPSBfdGhpcy5leHRyYU5vZGU7XG4gICAgICAgICAgICBleHRyYU5vZGUuY2xhc3NOYW1lID0gJ2FudC1jbGljay1hbmltYXRpbmctbm9kZSc7XG4gICAgICAgICAgICB2YXIgYXR0cmlidXRlTmFtZSA9IF90aGlzLmdldEF0dHJpYnV0ZU5hbWUoKTtcbiAgICAgICAgICAgIG5vZGUucmVtb3ZlQXR0cmlidXRlKGF0dHJpYnV0ZU5hbWUpO1xuICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlTmFtZSwgJ3RydWUnKTtcbiAgICAgICAgICAgIC8vIE5vdCB3aGl0ZSBvciB0cmFuc3Bhcm50IG9yIGdyZXlcbiAgICAgICAgICAgIHN0eWxlRm9yUGVzdWRvID0gc3R5bGVGb3JQZXN1ZG8gfHwgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTtcbiAgICAgICAgICAgIGlmICh3YXZlQ29sb3IgJiYgd2F2ZUNvbG9yICE9PSAnI2ZmZmZmZicgJiYgd2F2ZUNvbG9yICE9PSAncmdiKDI1NSwgMjU1LCAyNTUpJyAmJiBfdGhpcy5pc05vdEdyZXkod2F2ZUNvbG9yKSAmJiAhL3JnYmFcXChcXGQqLCBcXGQqLCBcXGQqLCAwXFwpLy50ZXN0KHdhdmVDb2xvcikgJiYgLy8gYW55IHRyYW5zcGFyZW50IHJnYmEgY29sb3JcbiAgICAgICAgICAgIHdhdmVDb2xvciAhPT0gJ3RyYW5zcGFyZW50Jykge1xuICAgICAgICAgICAgICAgIGV4dHJhTm9kZS5zdHlsZS5ib3JkZXJDb2xvciA9IHdhdmVDb2xvcjtcbiAgICAgICAgICAgICAgICBzdHlsZUZvclBlc3Vkby5pbm5lckhUTUwgPSAnW2FudC1jbGljay1hbmltYXRpbmctd2l0aG91dC1leHRyYS1ub2RlXTphZnRlciB7IGJvcmRlci1jb2xvcjogJyArIHdhdmVDb2xvciArICc7IH0nO1xuICAgICAgICAgICAgICAgIGlmICghZG9jdW1lbnQuYm9keS5jb250YWlucyhzdHlsZUZvclBlc3VkbykpIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdHlsZUZvclBlc3Vkbyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGluc2VydEV4dHJhTm9kZSkge1xuICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQoZXh0cmFOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFRyYW5zaXRpb25FdmVudHMuYWRkRW5kRXZlbnRMaXN0ZW5lcihub2RlLCBfdGhpcy5vblRyYW5zaXRpb25FbmQpO1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5iaW5kQW5pbWF0aW9uRXZlbnQgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICAgICAgaWYgKCFub2RlIHx8ICFub2RlLmdldEF0dHJpYnV0ZSB8fCBub2RlLmdldEF0dHJpYnV0ZSgnZGlzYWJsZWQnKSB8fCBub2RlLmNsYXNzTmFtZS5pbmRleE9mKCdkaXNhYmxlZCcpID49IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgb25DbGljayA9IGZ1bmN0aW9uIG9uQ2xpY2soZSkge1xuICAgICAgICAgICAgICAgIC8vIEZpeCByYWRpbyBidXR0b24gY2xpY2sgdHdpY2VcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudGFnTmFtZSA9PT0gJ0lOUFVUJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF90aGlzLnJlc2V0RWZmZWN0KG5vZGUpO1xuICAgICAgICAgICAgICAgIC8vIEdldCB3YXZlIGNvbG9yIGZyb20gdGFyZ2V0XG4gICAgICAgICAgICAgICAgdmFyIHdhdmVDb2xvciA9IGdldENvbXB1dGVkU3R5bGUobm9kZSkuZ2V0UHJvcGVydHlWYWx1ZSgnYm9yZGVyLXRvcC1jb2xvcicpIHx8IC8vIEZpcmVmb3ggQ29tcGF0aWJsZVxuICAgICAgICAgICAgICAgIGdldENvbXB1dGVkU3R5bGUobm9kZSkuZ2V0UHJvcGVydHlWYWx1ZSgnYm9yZGVyLWNvbG9yJykgfHwgZ2V0Q29tcHV0ZWRTdHlsZShub2RlKS5nZXRQcm9wZXJ0eVZhbHVlKCdiYWNrZ3JvdW5kLWNvbG9yJyk7XG4gICAgICAgICAgICAgICAgX3RoaXMuY2xpY2tXYXZlVGltZW91dElkID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMub25DbGljayhub2RlLCB3YXZlQ29sb3IpO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIG5vZGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrLCB0cnVlKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5vblRyYW5zaXRpb25FbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKCFlIHx8IGUuYW5pbWF0aW9uTmFtZSAhPT0gJ2ZhZGVFZmZlY3QnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMucmVzZXRFZmZlY3QoZS50YXJnZXQpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gX3RoaXM7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUNsYXNzKFdhdmUsIFt7XG4gICAgICAgIGtleTogJ2lzTm90R3JleScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBpc05vdEdyZXkoY29sb3IpIHtcbiAgICAgICAgICAgIHZhciBtYXRjaCA9IChjb2xvciB8fCAnJykubWF0Y2goL3JnYmE/XFwoKFxcZCopLCAoXFxkKiksIChcXGQqKSgsIFtcXC5cXGRdKik/XFwpLyk7XG4gICAgICAgICAgICBpZiAobWF0Y2ggJiYgbWF0Y2hbMV0gJiYgbWF0Y2hbMl0gJiYgbWF0Y2hbM10pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gIShtYXRjaFsxXSA9PT0gbWF0Y2hbMl0gJiYgbWF0Y2hbMl0gPT09IG1hdGNoWzNdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRBdHRyaWJ1dGVOYW1lJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEF0dHJpYnV0ZU5hbWUoKSB7XG4gICAgICAgICAgICB2YXIgaW5zZXJ0RXh0cmFOb2RlID0gdGhpcy5wcm9wcy5pbnNlcnRFeHRyYU5vZGU7XG5cbiAgICAgICAgICAgIHJldHVybiBpbnNlcnRFeHRyYU5vZGUgPyAnYW50LWNsaWNrLWFuaW1hdGluZycgOiAnYW50LWNsaWNrLWFuaW1hdGluZy13aXRob3V0LWV4dHJhLW5vZGUnO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZXNldEVmZmVjdCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZXNldEVmZmVjdChub2RlKSB7XG4gICAgICAgICAgICBpZiAoIW5vZGUgfHwgbm9kZSA9PT0gdGhpcy5leHRyYU5vZGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaW5zZXJ0RXh0cmFOb2RlID0gdGhpcy5wcm9wcy5pbnNlcnRFeHRyYU5vZGU7XG5cbiAgICAgICAgICAgIHZhciBhdHRyaWJ1dGVOYW1lID0gdGhpcy5nZXRBdHRyaWJ1dGVOYW1lKCk7XG4gICAgICAgICAgICBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGVOYW1lKTtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlRXh0cmFTdHlsZU5vZGUoKTtcbiAgICAgICAgICAgIGlmIChpbnNlcnRFeHRyYU5vZGUgJiYgdGhpcy5leHRyYU5vZGUgJiYgbm9kZS5jb250YWlucyh0aGlzLmV4dHJhTm9kZSkpIHtcbiAgICAgICAgICAgICAgICBub2RlLnJlbW92ZUNoaWxkKHRoaXMuZXh0cmFOb2RlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFRyYW5zaXRpb25FdmVudHMucmVtb3ZlRW5kRXZlbnRMaXN0ZW5lcihub2RlLCB0aGlzLm9uVHJhbnNpdGlvbkVuZCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbW92ZUV4dHJhU3R5bGVOb2RlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbW92ZUV4dHJhU3R5bGVOb2RlKCkge1xuICAgICAgICAgICAgaWYgKHN0eWxlRm9yUGVzdWRvKSB7XG4gICAgICAgICAgICAgICAgc3R5bGVGb3JQZXN1ZG8uaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IHRoaXMuYmluZEFuaW1hdGlvbkV2ZW50KGZpbmRET01Ob2RlKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFVubW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pbnN0YW5jZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UuY2FuY2VsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5jbGlja1dhdmVUaW1lb3V0SWQpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5jbGlja1dhdmVUaW1lb3V0SWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMucHJvcHMuY2hpbGRyZW47XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gV2F2ZTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgV2F2ZTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgZmluZERPTU5vZGUgfSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgV2F2ZSBmcm9tICcuLi9fdXRpbC93YXZlJztcbmltcG9ydCBJY29uIGZyb20gJy4uL2ljb24nO1xudmFyIHJ4VHdvQ05DaGFyID0gL15bXFx1NGUwMC1cXHU5ZmE1XXsyfSQvO1xudmFyIGlzVHdvQ05DaGFyID0gcnhUd29DTkNoYXIudGVzdC5iaW5kKHJ4VHdvQ05DaGFyKTtcbmZ1bmN0aW9uIGlzU3RyaW5nKHN0cikge1xuICAgIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJztcbn1cbi8vIEluc2VydCBvbmUgc3BhY2UgYmV0d2VlbiB0d28gY2hpbmVzZSBjaGFyYWN0ZXJzIGF1dG9tYXRpY2FsbHkuXG5mdW5jdGlvbiBpbnNlcnRTcGFjZShjaGlsZCwgbmVlZEluc2VydGVkKSB7XG4gICAgLy8gQ2hlY2sgdGhlIGNoaWxkIGlmIGlzIHVuZGVmaW5lZCBvciBudWxsLlxuICAgIGlmIChjaGlsZCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIFNQQUNFID0gbmVlZEluc2VydGVkID8gJyAnIDogJyc7XG4gICAgLy8gc3RyaWN0TnVsbENoZWNrcyBvb3BzLlxuICAgIGlmICh0eXBlb2YgY2hpbGQgIT09ICdzdHJpbmcnICYmIHR5cGVvZiBjaGlsZCAhPT0gJ251bWJlcicgJiYgaXNTdHJpbmcoY2hpbGQudHlwZSkgJiYgaXNUd29DTkNoYXIoY2hpbGQucHJvcHMuY2hpbGRyZW4pKSB7XG4gICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGQsIHt9LCBjaGlsZC5wcm9wcy5jaGlsZHJlbi5zcGxpdCgnJykuam9pbihTUEFDRSkpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIGNoaWxkID09PSAnc3RyaW5nJykge1xuICAgICAgICBpZiAoaXNUd29DTkNoYXIoY2hpbGQpKSB7XG4gICAgICAgICAgICBjaGlsZCA9IGNoaWxkLnNwbGl0KCcnKS5qb2luKFNQQUNFKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgIG51bGwsXG4gICAgICAgICAgICBjaGlsZFxuICAgICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gY2hpbGQ7XG59XG5cbnZhciBCdXR0b24gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhCdXR0b24sIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gICAgZnVuY3Rpb24gQnV0dG9uKHByb3BzKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBCdXR0b24pO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChCdXR0b24uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihCdXR0b24pKS5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICAgICAgX3RoaXMuaGFuZGxlQ2xpY2sgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIG9uQ2xpY2sgPSBfdGhpcy5wcm9wcy5vbkNsaWNrO1xuXG4gICAgICAgICAgICBpZiAob25DbGljaykge1xuICAgICAgICAgICAgICAgIG9uQ2xpY2soZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgbG9hZGluZzogcHJvcHMubG9hZGluZyxcbiAgICAgICAgICAgIGhhc1R3b0NOQ2hhcjogZmFsc2VcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhCdXR0b24sIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgdGhpcy5maXhUd29DTkNoYXIoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcycsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKG5leHRQcm9wcykge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIHZhciBjdXJyZW50TG9hZGluZyA9IHRoaXMucHJvcHMubG9hZGluZztcbiAgICAgICAgICAgIHZhciBsb2FkaW5nID0gbmV4dFByb3BzLmxvYWRpbmc7XG4gICAgICAgICAgICBpZiAoY3VycmVudExvYWRpbmcpIHtcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5kZWxheVRpbWVvdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBsb2FkaW5nICE9PSAnYm9vbGVhbicgJiYgbG9hZGluZyAmJiBsb2FkaW5nLmRlbGF5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5kZWxheVRpbWVvdXQgPSB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuc2V0U3RhdGUoeyBsb2FkaW5nOiBsb2FkaW5nIH0pO1xuICAgICAgICAgICAgICAgIH0sIGxvYWRpbmcuZGVsYXkpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZzogbG9hZGluZyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkVXBkYXRlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgICAgIHRoaXMuZml4VHdvQ05DaGFyKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZGVsYXlUaW1lb3V0KSB7XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuZGVsYXlUaW1lb3V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZml4VHdvQ05DaGFyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZpeFR3b0NOQ2hhcigpIHtcbiAgICAgICAgICAgIC8vIEZpeCBmb3IgSE9DIHVzYWdlIGxpa2UgPEZvcm1hdE1lc3NhZ2UgLz5cbiAgICAgICAgICAgIHZhciBub2RlID0gZmluZERPTU5vZGUodGhpcyk7XG4gICAgICAgICAgICB2YXIgYnV0dG9uVGV4dCA9IG5vZGUudGV4dENvbnRlbnQgfHwgbm9kZS5pbm5lclRleHQ7XG4gICAgICAgICAgICBpZiAodGhpcy5pc05lZWRJbnNlcnRlZCgpICYmIGlzVHdvQ05DaGFyKGJ1dHRvblRleHQpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLnN0YXRlLmhhc1R3b0NOQ2hhcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc1R3b0NOQ2hhcjogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3RhdGUuaGFzVHdvQ05DaGFyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgIGhhc1R3b0NOQ2hhcjogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnaXNOZWVkSW5zZXJ0ZWQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNOZWVkSW5zZXJ0ZWQoKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBpY29uID0gX3Byb3BzLmljb24sXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5DaGlsZHJlbi5jb3VudChjaGlsZHJlbikgPT09IDEgJiYgIWljb247XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX2NsYXNzTmFtZXMsXG4gICAgICAgICAgICAgICAgX3RoaXMzID0gdGhpcztcblxuICAgICAgICAgICAgdmFyIF9hID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICB0eXBlID0gX2EudHlwZSxcbiAgICAgICAgICAgICAgICBzaGFwZSA9IF9hLnNoYXBlLFxuICAgICAgICAgICAgICAgIHNpemUgPSBfYS5zaXplLFxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZSA9IF9hLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLFxuICAgICAgICAgICAgICAgIGljb24gPSBfYS5pY29uLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBnaG9zdCA9IF9hLmdob3N0LFxuICAgICAgICAgICAgICAgIF9sb2FkaW5nUHJvcCA9IF9hLmxvYWRpbmcsXG4gICAgICAgICAgICAgICAgYmxvY2sgPSBfYS5ibG9jayxcbiAgICAgICAgICAgICAgICByZXN0ID0gX19yZXN0KF9hLCBbXCJ0eXBlXCIsIFwic2hhcGVcIiwgXCJzaXplXCIsIFwiY2xhc3NOYW1lXCIsIFwiY2hpbGRyZW5cIiwgXCJpY29uXCIsIFwicHJlZml4Q2xzXCIsIFwiZ2hvc3RcIiwgXCJsb2FkaW5nXCIsIFwiYmxvY2tcIl0pO3ZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICAgICAgICAgIGxvYWRpbmcgPSBfc3RhdGUubG9hZGluZyxcbiAgICAgICAgICAgICAgICBoYXNUd29DTkNoYXIgPSBfc3RhdGUuaGFzVHdvQ05DaGFyO1xuICAgICAgICAgICAgLy8gbGFyZ2UgPT4gbGdcbiAgICAgICAgICAgIC8vIHNtYWxsID0+IHNtXG5cbiAgICAgICAgICAgIHZhciBzaXplQ2xzID0gJyc7XG4gICAgICAgICAgICBzd2l0Y2ggKHNpemUpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdsYXJnZSc6XG4gICAgICAgICAgICAgICAgICAgIHNpemVDbHMgPSAnbGcnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdzbWFsbCc6XG4gICAgICAgICAgICAgICAgICAgIHNpemVDbHMgPSAnc20nO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICB2YXIgaXNDaHJpc3RtYXMgPSBub3cuZ2V0TW9udGgoKSA9PT0gMTEgJiYgbm93LmdldERhdGUoKSA9PT0gMjU7XG4gICAgICAgICAgICB2YXIgY2xhc3NlcyA9IGNsYXNzTmFtZXMocHJlZml4Q2xzLCBjbGFzc05hbWUsIChfY2xhc3NOYW1lcyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctJyArIHR5cGUsIHR5cGUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctJyArIHNoYXBlLCBzaGFwZSksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy0nICsgc2l6ZUNscywgc2l6ZUNscyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1pY29uLW9ubHknLCAhY2hpbGRyZW4gJiYgaWNvbiksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1sb2FkaW5nJywgbG9hZGluZyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1iYWNrZ3JvdW5kLWdob3N0JywgZ2hvc3QpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctdHdvLWNoaW5lc2UtY2hhcnMnLCBoYXNUd29DTkNoYXIpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctYmxvY2snLCBibG9jayksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgJ2NocmlzdG1hcycsIGlzQ2hyaXN0bWFzKSwgX2NsYXNzTmFtZXMpKTtcbiAgICAgICAgICAgIHZhciBpY29uVHlwZSA9IGxvYWRpbmcgPyAnbG9hZGluZycgOiBpY29uO1xuICAgICAgICAgICAgdmFyIGljb25Ob2RlID0gaWNvblR5cGUgPyBSZWFjdC5jcmVhdGVFbGVtZW50KEljb24sIHsgdHlwZTogaWNvblR5cGUgfSkgOiBudWxsO1xuICAgICAgICAgICAgdmFyIGtpZHMgPSBjaGlsZHJlbiB8fCBjaGlsZHJlbiA9PT0gMCA/IFJlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGluc2VydFNwYWNlKGNoaWxkLCBfdGhpczMuaXNOZWVkSW5zZXJ0ZWQoKSk7XG4gICAgICAgICAgICB9KSA6IG51bGw7XG4gICAgICAgICAgICB2YXIgdGl0bGUgPSBpc0NocmlzdG1hcyA/ICdIbyBIbyBIbyEnIDogcmVzdC50aXRsZTtcbiAgICAgICAgICAgIGlmICgnaHJlZicgaW4gcmVzdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAnYScsXG4gICAgICAgICAgICAgICAgICAgIF9leHRlbmRzKHt9LCByZXN0LCB7IGNsYXNzTmFtZTogY2xhc3Nlcywgb25DbGljazogdGhpcy5oYW5kbGVDbGljaywgdGl0bGU6IHRpdGxlIH0pLFxuICAgICAgICAgICAgICAgICAgICBpY29uTm9kZSxcbiAgICAgICAgICAgICAgICAgICAga2lkc1xuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFJlYWN0IGRvZXMgbm90IHJlY29nbml6ZSB0aGUgYGh0bWxUeXBlYCBwcm9wIG9uIGEgRE9NIGVsZW1lbnQuIEhlcmUgd2UgcGljayBpdCBvdXQgb2YgYHJlc3RgLlxuICAgICAgICAgICAgICAgIHZhciBodG1sVHlwZSA9IHJlc3QuaHRtbFR5cGUsXG4gICAgICAgICAgICAgICAgICAgIG90aGVyUHJvcHMgPSBfX3Jlc3QocmVzdCwgW1wiaHRtbFR5cGVcIl0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICBXYXZlLFxuICAgICAgICAgICAgICAgICAgICBudWxsLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2J1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7fSwgb3RoZXJQcm9wcywgeyB0eXBlOiBodG1sVHlwZSB8fCAnYnV0dG9uJywgY2xhc3NOYW1lOiBjbGFzc2VzLCBvbkNsaWNrOiB0aGlzLmhhbmRsZUNsaWNrLCB0aXRsZTogdGl0bGUgfSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpY29uTm9kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGtpZHNcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gQnV0dG9uO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBCdXR0b247XG5cbkJ1dHRvbi5fX0FOVF9CVVRUT04gPSB0cnVlO1xuQnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbnQtYnRuJyxcbiAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICBnaG9zdDogZmFsc2UsXG4gICAgYmxvY2s6IGZhbHNlXG59O1xuQnV0dG9uLnByb3BUeXBlcyA9IHtcbiAgICB0eXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIHNoYXBlOiBQcm9wVHlwZXMub25lT2YoWydjaXJjbGUnLCAnY2lyY2xlLW91dGxpbmUnXSksXG4gICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mKFsnbGFyZ2UnLCAnZGVmYXVsdCcsICdzbWFsbCddKSxcbiAgICBodG1sVHlwZTogUHJvcFR5cGVzLm9uZU9mKFsnc3VibWl0JywgJ2J1dHRvbicsICdyZXNldCddKSxcbiAgICBvbkNsaWNrOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBsb2FkaW5nOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLm9iamVjdF0pLFxuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBpY29uOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGJsb2NrOiBQcm9wVHlwZXMuYm9vbFxufTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xudmFyIF9fcmVzdCA9IHRoaXMgJiYgdGhpcy5fX3Jlc3QgfHwgZnVuY3Rpb24gKHMsIGUpIHtcbiAgICB2YXIgdCA9IHt9O1xuICAgIGZvciAodmFyIHAgaW4gcykge1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApIHRbcF0gPSBzW3BdO1xuICAgIH1pZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApIHRbcFtpXV0gPSBzW3BbaV1dO1xuICAgIH1yZXR1cm4gdDtcbn07XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbnZhciBCdXR0b25Hcm91cCA9IGZ1bmN0aW9uIEJ1dHRvbkdyb3VwKHByb3BzKSB7XG4gICAgdmFyIF9wcm9wcyRwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wcyRwcmVmaXhDbHMgPT09IHVuZGVmaW5lZCA/ICdhbnQtYnRuLWdyb3VwJyA6IF9wcm9wcyRwcmVmaXhDbHMsXG4gICAgICAgIHNpemUgPSBwcm9wcy5zaXplLFxuICAgICAgICBjbGFzc05hbWUgPSBwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgIG90aGVycyA9IF9fcmVzdChwcm9wcywgW1wicHJlZml4Q2xzXCIsIFwic2l6ZVwiLCBcImNsYXNzTmFtZVwiXSk7XG4gICAgLy8gbGFyZ2UgPT4gbGdcbiAgICAvLyBzbWFsbCA9PiBzbVxuXG5cbiAgICB2YXIgc2l6ZUNscyA9ICcnO1xuICAgIHN3aXRjaCAoc2l6ZSkge1xuICAgICAgICBjYXNlICdsYXJnZSc6XG4gICAgICAgICAgICBzaXplQ2xzID0gJ2xnJztcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdzbWFsbCc6XG4gICAgICAgICAgICBzaXplQ2xzID0gJ3NtJztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICB2YXIgY2xhc3NlcyA9IGNsYXNzTmFtZXMocHJlZml4Q2xzLCBfZGVmaW5lUHJvcGVydHkoe30sIHByZWZpeENscyArICctJyArIHNpemVDbHMsIHNpemVDbHMpLCBjbGFzc05hbWUpO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCdkaXYnLCBfZXh0ZW5kcyh7fSwgb3RoZXJzLCB7IGNsYXNzTmFtZTogY2xhc3NlcyB9KSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgQnV0dG9uR3JvdXA7IiwiaW1wb3J0IEJ1dHRvbiBmcm9tICcuL2J1dHRvbic7XG5pbXBvcnQgQnV0dG9uR3JvdXAgZnJvbSAnLi9idXR0b24tZ3JvdXAnO1xuQnV0dG9uLkdyb3VwID0gQnV0dG9uR3JvdXA7XG5leHBvcnQgZGVmYXVsdCBCdXR0b247IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfdHlwZW9mIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YnO1xudmFyIGZvcm1hdFJlZ0V4cCA9IC8lW3NkaiVdL2c7XG5cbmV4cG9ydCB2YXIgd2FybmluZyA9IGZ1bmN0aW9uIHdhcm5pbmcoKSB7fTtcblxuLy8gZG9uJ3QgcHJpbnQgd2FybmluZyBtZXNzYWdlIHdoZW4gaW4gcHJvZHVjdGlvbiBlbnYgb3Igbm9kZSBydW50aW1lXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gIHdhcm5pbmcgPSBmdW5jdGlvbiB3YXJuaW5nKHR5cGUsIGVycm9ycykge1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgY29uc29sZS53YXJuKSB7XG4gICAgICBpZiAoZXJyb3JzLmV2ZXJ5KGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgZSA9PT0gJ3N0cmluZyc7XG4gICAgICB9KSkge1xuICAgICAgICBjb25zb2xlLndhcm4odHlwZSwgZXJyb3JzKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXQoKSB7XG4gIGZvciAodmFyIF9sZW4gPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbiksIF9rZXkgPSAwOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgYXJnc1tfa2V5XSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgfVxuXG4gIHZhciBpID0gMTtcbiAgdmFyIGYgPSBhcmdzWzBdO1xuICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gIGlmICh0eXBlb2YgZiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBmLmFwcGx5KG51bGwsIGFyZ3Muc2xpY2UoMSkpO1xuICB9XG4gIGlmICh0eXBlb2YgZiA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbiAoeCkge1xuICAgICAgaWYgKHggPT09ICclJScpIHtcbiAgICAgICAgcmV0dXJuICclJztcbiAgICAgIH1cbiAgICAgIGlmIChpID49IGxlbikge1xuICAgICAgICByZXR1cm4geDtcbiAgICAgIH1cbiAgICAgIHN3aXRjaCAoeCkge1xuICAgICAgICBjYXNlICclcyc6XG4gICAgICAgICAgcmV0dXJuIFN0cmluZyhhcmdzW2krK10pO1xuICAgICAgICBjYXNlICclZCc6XG4gICAgICAgICAgcmV0dXJuIE51bWJlcihhcmdzW2krK10pO1xuICAgICAgICBjYXNlICclaic6XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShhcmdzW2krK10pO1xuICAgICAgICAgIH0gY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgIHJldHVybiAnW0NpcmN1bGFyXSc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJldHVybiB4O1xuICAgICAgfVxuICAgIH0pO1xuICAgIGZvciAodmFyIGFyZyA9IGFyZ3NbaV07IGkgPCBsZW47IGFyZyA9IGFyZ3NbKytpXSkge1xuICAgICAgc3RyICs9ICcgJyArIGFyZztcbiAgICB9XG4gICAgcmV0dXJuIHN0cjtcbiAgfVxuICByZXR1cm4gZjtcbn1cblxuZnVuY3Rpb24gaXNOYXRpdmVTdHJpbmdUeXBlKHR5cGUpIHtcbiAgcmV0dXJuIHR5cGUgPT09ICdzdHJpbmcnIHx8IHR5cGUgPT09ICd1cmwnIHx8IHR5cGUgPT09ICdoZXgnIHx8IHR5cGUgPT09ICdlbWFpbCcgfHwgdHlwZSA9PT0gJ3BhdHRlcm4nO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eVZhbHVlKHZhbHVlLCB0eXBlKSB7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgaWYgKHR5cGUgPT09ICdhcnJheScgJiYgQXJyYXkuaXNBcnJheSh2YWx1ZSkgJiYgIXZhbHVlLmxlbmd0aCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmIChpc05hdGl2ZVN0cmluZ1R5cGUodHlwZSkgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAhdmFsdWUpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0VtcHR5T2JqZWN0KG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XG59XG5cbmZ1bmN0aW9uIGFzeW5jUGFyYWxsZWxBcnJheShhcnIsIGZ1bmMsIGNhbGxiYWNrKSB7XG4gIHZhciByZXN1bHRzID0gW107XG4gIHZhciB0b3RhbCA9IDA7XG4gIHZhciBhcnJMZW5ndGggPSBhcnIubGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIGNvdW50KGVycm9ycykge1xuICAgIHJlc3VsdHMucHVzaC5hcHBseShyZXN1bHRzLCBlcnJvcnMpO1xuICAgIHRvdGFsKys7XG4gICAgaWYgKHRvdGFsID09PSBhcnJMZW5ndGgpIHtcbiAgICAgIGNhbGxiYWNrKHJlc3VsdHMpO1xuICAgIH1cbiAgfVxuXG4gIGFyci5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XG4gICAgZnVuYyhhLCBjb3VudCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhc3luY1NlcmlhbEFycmF5KGFyciwgZnVuYywgY2FsbGJhY2spIHtcbiAgdmFyIGluZGV4ID0gMDtcbiAgdmFyIGFyckxlbmd0aCA9IGFyci5sZW5ndGg7XG5cbiAgZnVuY3Rpb24gbmV4dChlcnJvcnMpIHtcbiAgICBpZiAoZXJyb3JzICYmIGVycm9ycy5sZW5ndGgpIHtcbiAgICAgIGNhbGxiYWNrKGVycm9ycyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBvcmlnaW5hbCA9IGluZGV4O1xuICAgIGluZGV4ID0gaW5kZXggKyAxO1xuICAgIGlmIChvcmlnaW5hbCA8IGFyckxlbmd0aCkge1xuICAgICAgZnVuYyhhcnJbb3JpZ2luYWxdLCBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soW10pO1xuICAgIH1cbiAgfVxuXG4gIG5leHQoW10pO1xufVxuXG5mdW5jdGlvbiBmbGF0dGVuT2JqQXJyKG9iakFycikge1xuICB2YXIgcmV0ID0gW107XG4gIE9iamVjdC5rZXlzKG9iakFycikuZm9yRWFjaChmdW5jdGlvbiAoaykge1xuICAgIHJldC5wdXNoLmFwcGx5KHJldCwgb2JqQXJyW2tdKTtcbiAgfSk7XG4gIHJldHVybiByZXQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhc3luY01hcChvYmpBcnIsIG9wdGlvbiwgZnVuYywgY2FsbGJhY2spIHtcbiAgaWYgKG9wdGlvbi5maXJzdCkge1xuICAgIHZhciBmbGF0dGVuQXJyID0gZmxhdHRlbk9iakFycihvYmpBcnIpO1xuICAgIHJldHVybiBhc3luY1NlcmlhbEFycmF5KGZsYXR0ZW5BcnIsIGZ1bmMsIGNhbGxiYWNrKTtcbiAgfVxuICB2YXIgZmlyc3RGaWVsZHMgPSBvcHRpb24uZmlyc3RGaWVsZHMgfHwgW107XG4gIGlmIChmaXJzdEZpZWxkcyA9PT0gdHJ1ZSkge1xuICAgIGZpcnN0RmllbGRzID0gT2JqZWN0LmtleXMob2JqQXJyKTtcbiAgfVxuICB2YXIgb2JqQXJyS2V5cyA9IE9iamVjdC5rZXlzKG9iakFycik7XG4gIHZhciBvYmpBcnJMZW5ndGggPSBvYmpBcnJLZXlzLmxlbmd0aDtcbiAgdmFyIHRvdGFsID0gMDtcbiAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgdmFyIG5leHQgPSBmdW5jdGlvbiBuZXh0KGVycm9ycykge1xuICAgIHJlc3VsdHMucHVzaC5hcHBseShyZXN1bHRzLCBlcnJvcnMpO1xuICAgIHRvdGFsKys7XG4gICAgaWYgKHRvdGFsID09PSBvYmpBcnJMZW5ndGgpIHtcbiAgICAgIGNhbGxiYWNrKHJlc3VsdHMpO1xuICAgIH1cbiAgfTtcbiAgb2JqQXJyS2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgYXJyID0gb2JqQXJyW2tleV07XG4gICAgaWYgKGZpcnN0RmllbGRzLmluZGV4T2Yoa2V5KSAhPT0gLTEpIHtcbiAgICAgIGFzeW5jU2VyaWFsQXJyYXkoYXJyLCBmdW5jLCBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXN5bmNQYXJhbGxlbEFycmF5KGFyciwgZnVuYywgbmV4dCk7XG4gICAgfVxuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbXBsZW1lbnRFcnJvcihydWxlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAob2UpIHtcbiAgICBpZiAob2UgJiYgb2UubWVzc2FnZSkge1xuICAgICAgb2UuZmllbGQgPSBvZS5maWVsZCB8fCBydWxlLmZ1bGxGaWVsZDtcbiAgICAgIHJldHVybiBvZTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIG1lc3NhZ2U6IG9lLFxuICAgICAgZmllbGQ6IG9lLmZpZWxkIHx8IHJ1bGUuZnVsbEZpZWxkXG4gICAgfTtcbiAgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlZXBNZXJnZSh0YXJnZXQsIHNvdXJjZSkge1xuICBpZiAoc291cmNlKSB7XG4gICAgZm9yICh2YXIgcyBpbiBzb3VyY2UpIHtcbiAgICAgIGlmIChzb3VyY2UuaGFzT3duUHJvcGVydHkocykpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gc291cmNlW3NdO1xuICAgICAgICBpZiAoKHR5cGVvZiB2YWx1ZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodmFsdWUpKSA9PT0gJ29iamVjdCcgJiYgX3R5cGVvZih0YXJnZXRbc10pID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgIHRhcmdldFtzXSA9IF9leHRlbmRzKHt9LCB0YXJnZXRbc10sIHZhbHVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0YXJnZXRbc10gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gdGFyZ2V0O1xufSIsImltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbi8qKlxuICogIFJ1bGUgZm9yIHZhbGlkYXRpbmcgcmVxdWlyZWQgZmllbGRzLlxuICpcbiAqICBAcGFyYW0gcnVsZSBUaGUgdmFsaWRhdGlvbiBydWxlLlxuICogIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkIG9uIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBlcnJvcnMgQW4gYXJyYXkgb2YgZXJyb3JzIHRoYXQgdGhpcyBydWxlIG1heSBhZGRcbiAqICB2YWxpZGF0aW9uIGVycm9ycyB0by5cbiAqICBAcGFyYW0gb3B0aW9ucyBUaGUgdmFsaWRhdGlvbiBvcHRpb25zLlxuICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLlxuICovXG5mdW5jdGlvbiByZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMsIHR5cGUpIHtcbiAgaWYgKHJ1bGUucmVxdWlyZWQgJiYgKCFzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCkgfHwgdXRpbC5pc0VtcHR5VmFsdWUodmFsdWUsIHR5cGUgfHwgcnVsZS50eXBlKSkpIHtcbiAgICBlcnJvcnMucHVzaCh1dGlsLmZvcm1hdChvcHRpb25zLm1lc3NhZ2VzLnJlcXVpcmVkLCBydWxlLmZ1bGxGaWVsZCkpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlcXVpcmVkOyIsImltcG9ydCAqIGFzIHV0aWwgZnJvbSAnLi4vdXRpbCc7XG5cbi8qKlxuICogIFJ1bGUgZm9yIHZhbGlkYXRpbmcgd2hpdGVzcGFjZS5cbiAqXG4gKiAgQHBhcmFtIHJ1bGUgVGhlIHZhbGlkYXRpb24gcnVsZS5cbiAqICBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBvbiB0aGUgc291cmNlIG9iamVjdC5cbiAqICBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IGJlaW5nIHZhbGlkYXRlZC5cbiAqICBAcGFyYW0gZXJyb3JzIEFuIGFycmF5IG9mIGVycm9ycyB0aGF0IHRoaXMgcnVsZSBtYXkgYWRkXG4gKiAgdmFsaWRhdGlvbiBlcnJvcnMgdG8uXG4gKiAgQHBhcmFtIG9wdGlvbnMgVGhlIHZhbGlkYXRpb24gb3B0aW9ucy5cbiAqICBAcGFyYW0gb3B0aW9ucy5tZXNzYWdlcyBUaGUgdmFsaWRhdGlvbiBtZXNzYWdlcy5cbiAqL1xuZnVuY3Rpb24gd2hpdGVzcGFjZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpIHtcbiAgaWYgKC9eXFxzKyQvLnRlc3QodmFsdWUpIHx8IHZhbHVlID09PSAnJykge1xuICAgIGVycm9ycy5wdXNoKHV0aWwuZm9ybWF0KG9wdGlvbnMubWVzc2FnZXMud2hpdGVzcGFjZSwgcnVsZS5mdWxsRmllbGQpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB3aGl0ZXNwYWNlOyIsImltcG9ydCBfdHlwZW9mIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YnO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcbmltcG9ydCByZXF1aXJlZCBmcm9tICcuL3JlcXVpcmVkJztcblxuLyogZXNsaW50IG1heC1sZW46MCAqL1xuXG52YXIgcGF0dGVybiA9IHtcbiAgLy8gaHR0cDovL2VtYWlscmVnZXguY29tL1xuICBlbWFpbDogL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC8sXG4gIHVybDogbmV3IFJlZ0V4cCgnXig/IW1haWx0bzopKD86KD86aHR0cHxodHRwc3xmdHApOi8vfC8vKSg/OlxcXFxTKyg/OjpcXFxcUyopP0ApPyg/Oig/Oig/OlsxLTldXFxcXGQ/fDFcXFxcZFxcXFxkfDJbMDFdXFxcXGR8MjJbMC0zXSkoPzpcXFxcLig/OjE/XFxcXGR7MSwyfXwyWzAtNF1cXFxcZHwyNVswLTVdKSl7Mn0oPzpcXFxcLig/OlswLTldXFxcXGQ/fDFcXFxcZFxcXFxkfDJbMC00XVxcXFxkfDI1WzAtNF0pKXwoPzooPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0rLT8pKlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XSspKD86XFxcXC4oPzpbYS16XFxcXHUwMGExLVxcXFx1ZmZmZjAtOV0rLT8pKlthLXpcXFxcdTAwYTEtXFxcXHVmZmZmMC05XSspKig/OlxcXFwuKD86W2EtelxcXFx1MDBhMS1cXFxcdWZmZmZdezIsfSkpKXxsb2NhbGhvc3QpKD86OlxcXFxkezIsNX0pPyg/OigvfFxcXFw/fCMpW15cXFxcc10qKT8kJywgJ2knKSxcbiAgaGV4OiAvXiM/KFthLWYwLTldezZ9fFthLWYwLTldezN9KSQvaVxufTtcblxudmFyIHR5cGVzID0ge1xuICBpbnRlZ2VyOiBmdW5jdGlvbiBpbnRlZ2VyKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVzLm51bWJlcih2YWx1ZSkgJiYgcGFyc2VJbnQodmFsdWUsIDEwKSA9PT0gdmFsdWU7XG4gIH0sXG4gIGZsb2F0OiBmdW5jdGlvbiBmbG9hdCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlcy5udW1iZXIodmFsdWUpICYmICF0eXBlcy5pbnRlZ2VyKHZhbHVlKTtcbiAgfSxcbiAgYXJyYXk6IGZ1bmN0aW9uIGFycmF5KHZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpO1xuICB9LFxuICByZWdleHA6IGZ1bmN0aW9uIHJlZ2V4cCh2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4gISFuZXcgUmVnRXhwKHZhbHVlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBkYXRlOiBmdW5jdGlvbiBkYXRlKHZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZS5nZXRUaW1lID09PSAnZnVuY3Rpb24nICYmIHR5cGVvZiB2YWx1ZS5nZXRNb250aCA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgdmFsdWUuZ2V0WWVhciA9PT0gJ2Z1bmN0aW9uJztcbiAgfSxcbiAgbnVtYmVyOiBmdW5jdGlvbiBudW1iZXIodmFsdWUpIHtcbiAgICBpZiAoaXNOYU4odmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInO1xuICB9LFxuICBvYmplY3Q6IGZ1bmN0aW9uIG9iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiAodHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih2YWx1ZSkpID09PSAnb2JqZWN0JyAmJiAhdHlwZXMuYXJyYXkodmFsdWUpO1xuICB9LFxuICBtZXRob2Q6IGZ1bmN0aW9uIG1ldGhvZCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbic7XG4gIH0sXG4gIGVtYWlsOiBmdW5jdGlvbiBlbWFpbCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmICEhdmFsdWUubWF0Y2gocGF0dGVybi5lbWFpbCkgJiYgdmFsdWUubGVuZ3RoIDwgMjU1O1xuICB9LFxuICB1cmw6IGZ1bmN0aW9uIHVybCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmICEhdmFsdWUubWF0Y2gocGF0dGVybi51cmwpO1xuICB9LFxuICBoZXg6IGZ1bmN0aW9uIGhleCh2YWx1ZSkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmICEhdmFsdWUubWF0Y2gocGF0dGVybi5oZXgpO1xuICB9XG59O1xuXG4vKipcbiAqICBSdWxlIGZvciB2YWxpZGF0aW5nIHRoZSB0eXBlIG9mIGEgdmFsdWUuXG4gKlxuICogIEBwYXJhbSBydWxlIFRoZSB2YWxpZGF0aW9uIHJ1bGUuXG4gKiAgQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgZmllbGQgb24gdGhlIHNvdXJjZSBvYmplY3QuXG4gKiAgQHBhcmFtIHNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBiZWluZyB2YWxpZGF0ZWQuXG4gKiAgQHBhcmFtIGVycm9ycyBBbiBhcnJheSBvZiBlcnJvcnMgdGhhdCB0aGlzIHJ1bGUgbWF5IGFkZFxuICogIHZhbGlkYXRpb24gZXJyb3JzIHRvLlxuICogIEBwYXJhbSBvcHRpb25zIFRoZSB2YWxpZGF0aW9uIG9wdGlvbnMuXG4gKiAgQHBhcmFtIG9wdGlvbnMubWVzc2FnZXMgVGhlIHZhbGlkYXRpb24gbWVzc2FnZXMuXG4gKi9cbmZ1bmN0aW9uIHR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKSB7XG4gIGlmIChydWxlLnJlcXVpcmVkICYmIHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgY3VzdG9tID0gWydpbnRlZ2VyJywgJ2Zsb2F0JywgJ2FycmF5JywgJ3JlZ2V4cCcsICdvYmplY3QnLCAnbWV0aG9kJywgJ2VtYWlsJywgJ251bWJlcicsICdkYXRlJywgJ3VybCcsICdoZXgnXTtcbiAgdmFyIHJ1bGVUeXBlID0gcnVsZS50eXBlO1xuICBpZiAoY3VzdG9tLmluZGV4T2YocnVsZVR5cGUpID4gLTEpIHtcbiAgICBpZiAoIXR5cGVzW3J1bGVUeXBlXSh2YWx1ZSkpIHtcbiAgICAgIGVycm9ycy5wdXNoKHV0aWwuZm9ybWF0KG9wdGlvbnMubWVzc2FnZXMudHlwZXNbcnVsZVR5cGVdLCBydWxlLmZ1bGxGaWVsZCwgcnVsZS50eXBlKSk7XG4gICAgfVxuICAgIC8vIHN0cmFpZ2h0IHR5cGVvZiBjaGVja1xuICB9IGVsc2UgaWYgKHJ1bGVUeXBlICYmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHZhbHVlKSkgIT09IHJ1bGUudHlwZSkge1xuICAgIGVycm9ycy5wdXNoKHV0aWwuZm9ybWF0KG9wdGlvbnMubWVzc2FnZXMudHlwZXNbcnVsZVR5cGVdLCBydWxlLmZ1bGxGaWVsZCwgcnVsZS50eXBlKSk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgdHlwZTsiLCJpbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xuXG4vKipcbiAqICBSdWxlIGZvciB2YWxpZGF0aW5nIG1pbmltdW0gYW5kIG1heGltdW0gYWxsb3dlZCB2YWx1ZXMuXG4gKlxuICogIEBwYXJhbSBydWxlIFRoZSB2YWxpZGF0aW9uIHJ1bGUuXG4gKiAgQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgZmllbGQgb24gdGhlIHNvdXJjZSBvYmplY3QuXG4gKiAgQHBhcmFtIHNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBiZWluZyB2YWxpZGF0ZWQuXG4gKiAgQHBhcmFtIGVycm9ycyBBbiBhcnJheSBvZiBlcnJvcnMgdGhhdCB0aGlzIHJ1bGUgbWF5IGFkZFxuICogIHZhbGlkYXRpb24gZXJyb3JzIHRvLlxuICogIEBwYXJhbSBvcHRpb25zIFRoZSB2YWxpZGF0aW9uIG9wdGlvbnMuXG4gKiAgQHBhcmFtIG9wdGlvbnMubWVzc2FnZXMgVGhlIHZhbGlkYXRpb24gbWVzc2FnZXMuXG4gKi9cbmZ1bmN0aW9uIHJhbmdlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucykge1xuICB2YXIgbGVuID0gdHlwZW9mIHJ1bGUubGVuID09PSAnbnVtYmVyJztcbiAgdmFyIG1pbiA9IHR5cGVvZiBydWxlLm1pbiA9PT0gJ251bWJlcic7XG4gIHZhciBtYXggPSB0eXBlb2YgcnVsZS5tYXggPT09ICdudW1iZXInO1xuICAvLyDmraPliJnljLnphY3noIHngrnojIPlm7Tku45VKzAxMDAwMOS4gOebtOWIsFUrMTBGRkZG55qE5paH5a2X77yI6KGl5YWF5bmz6Z2iU3VwcGxlbWVudGFyeSBQbGFuZe+8iVxuICB2YXIgc3BSZWdleHAgPSAvW1xcdUQ4MDAtXFx1REJGRl1bXFx1REMwMC1cXHVERkZGXS9nO1xuICB2YXIgdmFsID0gdmFsdWU7XG4gIHZhciBrZXkgPSBudWxsO1xuICB2YXIgbnVtID0gdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJztcbiAgdmFyIHN0ciA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZyc7XG4gIHZhciBhcnIgPSBBcnJheS5pc0FycmF5KHZhbHVlKTtcbiAgaWYgKG51bSkge1xuICAgIGtleSA9ICdudW1iZXInO1xuICB9IGVsc2UgaWYgKHN0cikge1xuICAgIGtleSA9ICdzdHJpbmcnO1xuICB9IGVsc2UgaWYgKGFycikge1xuICAgIGtleSA9ICdhcnJheSc7XG4gIH1cbiAgLy8gaWYgdGhlIHZhbHVlIGlzIG5vdCBvZiBhIHN1cHBvcnRlZCB0eXBlIGZvciByYW5nZSB2YWxpZGF0aW9uXG4gIC8vIHRoZSB2YWxpZGF0aW9uIHJ1bGUgcnVsZSBzaG91bGQgdXNlIHRoZVxuICAvLyB0eXBlIHByb3BlcnR5IHRvIGFsc28gdGVzdCBmb3IgYSBwYXJ0aWN1bGFyIHR5cGVcbiAgaWYgKCFrZXkpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgaWYgKGFycikge1xuICAgIHZhbCA9IHZhbHVlLmxlbmd0aDtcbiAgfVxuICBpZiAoc3RyKSB7XG4gICAgLy8g5aSE55CG56CB54K55aSn5LqOVSswMTAwMDDnmoTmloflrZdsZW5ndGjlsZ7mgKfkuI3lh4bnoa7nmoRidWfvvIzlpoJcIvCgrrfwoK638KCut1wiLmxlbmdodCAhPT0gM1xuICAgIHZhbCA9IHZhbHVlLnJlcGxhY2Uoc3BSZWdleHAsICdfJykubGVuZ3RoO1xuICB9XG4gIGlmIChsZW4pIHtcbiAgICBpZiAodmFsICE9PSBydWxlLmxlbikge1xuICAgICAgZXJyb3JzLnB1c2godXRpbC5mb3JtYXQob3B0aW9ucy5tZXNzYWdlc1trZXldLmxlbiwgcnVsZS5mdWxsRmllbGQsIHJ1bGUubGVuKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKG1pbiAmJiAhbWF4ICYmIHZhbCA8IHJ1bGUubWluKSB7XG4gICAgZXJyb3JzLnB1c2godXRpbC5mb3JtYXQob3B0aW9ucy5tZXNzYWdlc1trZXldLm1pbiwgcnVsZS5mdWxsRmllbGQsIHJ1bGUubWluKSk7XG4gIH0gZWxzZSBpZiAobWF4ICYmICFtaW4gJiYgdmFsID4gcnVsZS5tYXgpIHtcbiAgICBlcnJvcnMucHVzaCh1dGlsLmZvcm1hdChvcHRpb25zLm1lc3NhZ2VzW2tleV0ubWF4LCBydWxlLmZ1bGxGaWVsZCwgcnVsZS5tYXgpKTtcbiAgfSBlbHNlIGlmIChtaW4gJiYgbWF4ICYmICh2YWwgPCBydWxlLm1pbiB8fCB2YWwgPiBydWxlLm1heCkpIHtcbiAgICBlcnJvcnMucHVzaCh1dGlsLmZvcm1hdChvcHRpb25zLm1lc3NhZ2VzW2tleV0ucmFuZ2UsIHJ1bGUuZnVsbEZpZWxkLCBydWxlLm1pbiwgcnVsZS5tYXgpKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCByYW5nZTsiLCJpbXBvcnQgKiBhcyB1dGlsIGZyb20gJy4uL3V0aWwnO1xudmFyIEVOVU0gPSAnZW51bSc7XG5cbi8qKlxuICogIFJ1bGUgZm9yIHZhbGlkYXRpbmcgYSB2YWx1ZSBleGlzdHMgaW4gYW4gZW51bWVyYWJsZSBsaXN0LlxuICpcbiAqICBAcGFyYW0gcnVsZSBUaGUgdmFsaWRhdGlvbiBydWxlLlxuICogIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkIG9uIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBlcnJvcnMgQW4gYXJyYXkgb2YgZXJyb3JzIHRoYXQgdGhpcyBydWxlIG1heSBhZGRcbiAqICB2YWxpZGF0aW9uIGVycm9ycyB0by5cbiAqICBAcGFyYW0gb3B0aW9ucyBUaGUgdmFsaWRhdGlvbiBvcHRpb25zLlxuICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLlxuICovXG5mdW5jdGlvbiBlbnVtZXJhYmxlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucykge1xuICBydWxlW0VOVU1dID0gQXJyYXkuaXNBcnJheShydWxlW0VOVU1dKSA/IHJ1bGVbRU5VTV0gOiBbXTtcbiAgaWYgKHJ1bGVbRU5VTV0uaW5kZXhPZih2YWx1ZSkgPT09IC0xKSB7XG4gICAgZXJyb3JzLnB1c2godXRpbC5mb3JtYXQob3B0aW9ucy5tZXNzYWdlc1tFTlVNXSwgcnVsZS5mdWxsRmllbGQsIHJ1bGVbRU5VTV0uam9pbignLCAnKSkpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGVudW1lcmFibGU7IiwiaW1wb3J0ICogYXMgdXRpbCBmcm9tICcuLi91dGlsJztcblxuLyoqXG4gKiAgUnVsZSBmb3IgdmFsaWRhdGluZyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiBwYXR0ZXJuLlxuICpcbiAqICBAcGFyYW0gcnVsZSBUaGUgdmFsaWRhdGlvbiBydWxlLlxuICogIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkIG9uIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBlcnJvcnMgQW4gYXJyYXkgb2YgZXJyb3JzIHRoYXQgdGhpcyBydWxlIG1heSBhZGRcbiAqICB2YWxpZGF0aW9uIGVycm9ycyB0by5cbiAqICBAcGFyYW0gb3B0aW9ucyBUaGUgdmFsaWRhdGlvbiBvcHRpb25zLlxuICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLlxuICovXG5mdW5jdGlvbiBwYXR0ZXJuKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucykge1xuICBpZiAocnVsZS5wYXR0ZXJuKSB7XG4gICAgaWYgKHJ1bGUucGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgLy8gaWYgYSBSZWdFeHAgaW5zdGFuY2UgaXMgcGFzc2VkLCByZXNldCBgbGFzdEluZGV4YCBpbiBjYXNlIGl0cyBgZ2xvYmFsYFxuICAgICAgLy8gZmxhZyBpcyBhY2NpZGVudGFsbHkgc2V0IHRvIGB0cnVlYCwgd2hpY2ggaW4gYSB2YWxpZGF0aW9uIHNjZW5hcmlvXG4gICAgICAvLyBpcyBub3QgbmVjZXNzYXJ5IGFuZCB0aGUgcmVzdWx0IG1pZ2h0IGJlIG1pc2xlYWRpbmdcbiAgICAgIHJ1bGUucGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICAgICAgaWYgKCFydWxlLnBhdHRlcm4udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgZXJyb3JzLnB1c2godXRpbC5mb3JtYXQob3B0aW9ucy5tZXNzYWdlcy5wYXR0ZXJuLm1pc21hdGNoLCBydWxlLmZ1bGxGaWVsZCwgdmFsdWUsIHJ1bGUucGF0dGVybikpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJ1bGUucGF0dGVybiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBfcGF0dGVybiA9IG5ldyBSZWdFeHAocnVsZS5wYXR0ZXJuKTtcbiAgICAgIGlmICghX3BhdHRlcm4udGVzdCh2YWx1ZSkpIHtcbiAgICAgICAgZXJyb3JzLnB1c2godXRpbC5mb3JtYXQob3B0aW9ucy5tZXNzYWdlcy5wYXR0ZXJuLm1pc21hdGNoLCBydWxlLmZ1bGxGaWVsZCwgdmFsdWUsIHJ1bGUucGF0dGVybikpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBwYXR0ZXJuOyIsImltcG9ydCByZXF1aXJlZCBmcm9tICcuL3JlcXVpcmVkJztcbmltcG9ydCB3aGl0ZXNwYWNlIGZyb20gJy4vd2hpdGVzcGFjZSc7XG5pbXBvcnQgdHlwZSBmcm9tICcuL3R5cGUnO1xuaW1wb3J0IHJhbmdlIGZyb20gJy4vcmFuZ2UnO1xuaW1wb3J0IGVudW1SdWxlIGZyb20gJy4vZW51bSc7XG5pbXBvcnQgcGF0dGVybiBmcm9tICcuL3BhdHRlcm4nO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHJlcXVpcmVkOiByZXF1aXJlZCxcbiAgd2hpdGVzcGFjZTogd2hpdGVzcGFjZSxcbiAgdHlwZTogdHlwZSxcbiAgcmFuZ2U6IHJhbmdlLFxuICAnZW51bSc6IGVudW1SdWxlLFxuICBwYXR0ZXJuOiBwYXR0ZXJuXG59OyIsImltcG9ydCBydWxlcyBmcm9tICcuLi9ydWxlLyc7XG5pbXBvcnQgeyBpc0VtcHR5VmFsdWUgfSBmcm9tICcuLi91dGlsJztcblxuLyoqXG4gKiAgVmFsaWRhdGVzIGFuIG9iamVjdC5cbiAqXG4gKiAgQHBhcmFtIHJ1bGUgVGhlIHZhbGlkYXRpb24gcnVsZS5cbiAqICBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBvbiB0aGUgc291cmNlIG9iamVjdC5cbiAqICBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBvcHRpb25zIFRoZSB2YWxpZGF0aW9uIG9wdGlvbnMuXG4gKiAgQHBhcmFtIG9wdGlvbnMubWVzc2FnZXMgVGhlIHZhbGlkYXRpb24gbWVzc2FnZXMuXG4gKi9cbmZ1bmN0aW9uIG9iamVjdChydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB2YWxpZGF0ZSA9IHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgc291cmNlLmhhc093blByb3BlcnR5KHJ1bGUuZmllbGQpO1xuICBpZiAodmFsaWRhdGUpIHtcbiAgICBpZiAoaXNFbXB0eVZhbHVlKHZhbHVlKSAmJiAhcnVsZS5yZXF1aXJlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgb2JqZWN0OyIsImltcG9ydCBydWxlcyBmcm9tICcuLi9ydWxlLyc7XG5pbXBvcnQgeyBpc0VtcHR5VmFsdWUgfSBmcm9tICcuLi91dGlsJztcbnZhciBFTlVNID0gJ2VudW0nO1xuXG4vKipcbiAqICBWYWxpZGF0ZXMgYW4gZW51bWVyYWJsZSBsaXN0LlxuICpcbiAqICBAcGFyYW0gcnVsZSBUaGUgdmFsaWRhdGlvbiBydWxlLlxuICogIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkIG9uIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gKiAgQHBhcmFtIHNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBiZWluZyB2YWxpZGF0ZWQuXG4gKiAgQHBhcmFtIG9wdGlvbnMgVGhlIHZhbGlkYXRpb24gb3B0aW9ucy5cbiAqICBAcGFyYW0gb3B0aW9ucy5tZXNzYWdlcyBUaGUgdmFsaWRhdGlvbiBtZXNzYWdlcy5cbiAqL1xuZnVuY3Rpb24gZW51bWVyYWJsZShydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB2YWxpZGF0ZSA9IHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgc291cmNlLmhhc093blByb3BlcnR5KHJ1bGUuZmllbGQpO1xuICBpZiAodmFsaWRhdGUpIHtcbiAgICBpZiAoaXNFbXB0eVZhbHVlKHZhbHVlKSAmJiAhcnVsZS5yZXF1aXJlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBydWxlc1tFTlVNXShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuICBjYWxsYmFjayhlcnJvcnMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBlbnVtZXJhYmxlOyIsImltcG9ydCBydWxlcyBmcm9tICcuLi9ydWxlLyc7XG5pbXBvcnQgeyBpc0VtcHR5VmFsdWUgfSBmcm9tICcuLi91dGlsJztcblxuZnVuY3Rpb24gdHlwZShydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgcnVsZVR5cGUgPSBydWxlLnR5cGU7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUsIHJ1bGVUeXBlKSAmJiAhcnVsZS5yZXF1aXJlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucywgcnVsZVR5cGUpO1xuICAgIGlmICghaXNFbXB0eVZhbHVlKHZhbHVlLCBydWxlVHlwZSkpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdHlwZTsiLCJpbXBvcnQgc3RyaW5nIGZyb20gJy4vc3RyaW5nJztcbmltcG9ydCBtZXRob2QgZnJvbSAnLi9tZXRob2QnO1xuaW1wb3J0IG51bWJlciBmcm9tICcuL251bWJlcic7XG5pbXBvcnQgYm9vbGVhbiBmcm9tICcuL2Jvb2xlYW4nO1xuaW1wb3J0IHJlZ2V4cCBmcm9tICcuL3JlZ2V4cCc7XG5pbXBvcnQgaW50ZWdlciBmcm9tICcuL2ludGVnZXInO1xuaW1wb3J0IGZsb2F0IGZyb20gJy4vZmxvYXQnO1xuaW1wb3J0IGFycmF5IGZyb20gJy4vYXJyYXknO1xuaW1wb3J0IG9iamVjdCBmcm9tICcuL29iamVjdCc7XG5pbXBvcnQgZW51bVZhbGlkYXRvciBmcm9tICcuL2VudW0nO1xuaW1wb3J0IHBhdHRlcm4gZnJvbSAnLi9wYXR0ZXJuJztcbmltcG9ydCBkYXRlIGZyb20gJy4vZGF0ZSc7XG5pbXBvcnQgcmVxdWlyZWQgZnJvbSAnLi9yZXF1aXJlZCc7XG5pbXBvcnQgdHlwZSBmcm9tICcuL3R5cGUnO1xuXG5leHBvcnQgZGVmYXVsdCB7XG4gIHN0cmluZzogc3RyaW5nLFxuICBtZXRob2Q6IG1ldGhvZCxcbiAgbnVtYmVyOiBudW1iZXIsXG4gIGJvb2xlYW46IGJvb2xlYW4sXG4gIHJlZ2V4cDogcmVnZXhwLFxuICBpbnRlZ2VyOiBpbnRlZ2VyLFxuICBmbG9hdDogZmxvYXQsXG4gIGFycmF5OiBhcnJheSxcbiAgb2JqZWN0OiBvYmplY3QsXG4gICdlbnVtJzogZW51bVZhbGlkYXRvcixcbiAgcGF0dGVybjogcGF0dGVybixcbiAgZGF0ZTogZGF0ZSxcbiAgdXJsOiB0eXBlLFxuICBoZXg6IHR5cGUsXG4gIGVtYWlsOiB0eXBlLFxuICByZXF1aXJlZDogcmVxdWlyZWRcbn07IiwiaW1wb3J0IHJ1bGVzIGZyb20gJy4uL3J1bGUvJztcbmltcG9ydCB7IGlzRW1wdHlWYWx1ZSB9IGZyb20gJy4uL3V0aWwnO1xuXG4vKipcbiAqICBQZXJmb3JtcyB2YWxpZGF0aW9uIGZvciBzdHJpbmcgdHlwZXMuXG4gKlxuICogIEBwYXJhbSBydWxlIFRoZSB2YWxpZGF0aW9uIHJ1bGUuXG4gKiAgQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgZmllbGQgb24gdGhlIHNvdXJjZSBvYmplY3QuXG4gKiAgQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqICBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IGJlaW5nIHZhbGlkYXRlZC5cbiAqICBAcGFyYW0gb3B0aW9ucyBUaGUgdmFsaWRhdGlvbiBvcHRpb25zLlxuICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLlxuICovXG5mdW5jdGlvbiBzdHJpbmcocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGVycm9ycyA9IFtdO1xuICB2YXIgdmFsaWRhdGUgPSBydWxlLnJlcXVpcmVkIHx8ICFydWxlLnJlcXVpcmVkICYmIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShydWxlLmZpZWxkKTtcbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSwgJ3N0cmluZycpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcnVsZXMucmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zLCAnc3RyaW5nJyk7XG4gICAgaWYgKCFpc0VtcHR5VmFsdWUodmFsdWUsICdzdHJpbmcnKSkge1xuICAgICAgcnVsZXMudHlwZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgICAgcnVsZXMucmFuZ2UocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICAgIHJ1bGVzLnBhdHRlcm4ocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICAgIGlmIChydWxlLndoaXRlc3BhY2UgPT09IHRydWUpIHtcbiAgICAgICAgcnVsZXMud2hpdGVzcGFjZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBjYWxsYmFjayhlcnJvcnMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmc7IiwiaW1wb3J0IHJ1bGVzIGZyb20gJy4uL3J1bGUvJztcbmltcG9ydCB7IGlzRW1wdHlWYWx1ZSB9IGZyb20gJy4uL3V0aWwnO1xuXG4vKipcbiAqICBWYWxpZGF0ZXMgYSBmdW5jdGlvbi5cbiAqXG4gKiAgQHBhcmFtIHJ1bGUgVGhlIHZhbGlkYXRpb24gcnVsZS5cbiAqICBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBvbiB0aGUgc291cmNlIG9iamVjdC5cbiAqICBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBvcHRpb25zIFRoZSB2YWxpZGF0aW9uIG9wdGlvbnMuXG4gKiAgQHBhcmFtIG9wdGlvbnMubWVzc2FnZXMgVGhlIHZhbGlkYXRpb24gbWVzc2FnZXMuXG4gKi9cbmZ1bmN0aW9uIG1ldGhvZChydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB2YWxpZGF0ZSA9IHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgc291cmNlLmhhc093blByb3BlcnR5KHJ1bGUuZmllbGQpO1xuICBpZiAodmFsaWRhdGUpIHtcbiAgICBpZiAoaXNFbXB0eVZhbHVlKHZhbHVlKSAmJiAhcnVsZS5yZXF1aXJlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgaWYgKHZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWV0aG9kOyIsImltcG9ydCBydWxlcyBmcm9tICcuLi9ydWxlLyc7XG5pbXBvcnQgeyBpc0VtcHR5VmFsdWUgfSBmcm9tICcuLi91dGlsJztcblxuLyoqXG4gKiAgVmFsaWRhdGVzIGEgbnVtYmVyLlxuICpcbiAqICBAcGFyYW0gcnVsZSBUaGUgdmFsaWRhdGlvbiBydWxlLlxuICogIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkIG9uIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gKiAgQHBhcmFtIHNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBiZWluZyB2YWxpZGF0ZWQuXG4gKiAgQHBhcmFtIG9wdGlvbnMgVGhlIHZhbGlkYXRpb24gb3B0aW9ucy5cbiAqICBAcGFyYW0gb3B0aW9ucy5tZXNzYWdlcyBUaGUgdmFsaWRhdGlvbiBtZXNzYWdlcy5cbiAqL1xuZnVuY3Rpb24gbnVtYmVyKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcnVsZXMucmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcnVsZXMudHlwZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgICAgcnVsZXMucmFuZ2UocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbnVtYmVyOyIsImltcG9ydCB7IGlzRW1wdHlWYWx1ZSB9IGZyb20gJy4uL3V0aWwnO1xuaW1wb3J0IHJ1bGVzIGZyb20gJy4uL3J1bGUvJztcblxuLyoqXG4gKiAgVmFsaWRhdGVzIGEgYm9vbGVhbi5cbiAqXG4gKiAgQHBhcmFtIHJ1bGUgVGhlIHZhbGlkYXRpb24gcnVsZS5cbiAqICBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBvbiB0aGUgc291cmNlIG9iamVjdC5cbiAqICBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBvcHRpb25zIFRoZSB2YWxpZGF0aW9uIG9wdGlvbnMuXG4gKiAgQHBhcmFtIG9wdGlvbnMubWVzc2FnZXMgVGhlIHZhbGlkYXRpb24gbWVzc2FnZXMuXG4gKi9cbmZ1bmN0aW9uIGJvb2xlYW4ocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGVycm9ycyA9IFtdO1xuICB2YXIgdmFsaWRhdGUgPSBydWxlLnJlcXVpcmVkIHx8ICFydWxlLnJlcXVpcmVkICYmIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShydWxlLmZpZWxkKTtcbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSkgJiYgIXJ1bGUucmVxdWlyZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cbiAgICBydWxlcy5yZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBydWxlcy50eXBlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgfVxuICB9XG4gIGNhbGxiYWNrKGVycm9ycyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGJvb2xlYW47IiwiaW1wb3J0IHJ1bGVzIGZyb20gJy4uL3J1bGUvJztcbmltcG9ydCB7IGlzRW1wdHlWYWx1ZSB9IGZyb20gJy4uL3V0aWwnO1xuXG4vKipcbiAqICBWYWxpZGF0ZXMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiB0eXBlLlxuICpcbiAqICBAcGFyYW0gcnVsZSBUaGUgdmFsaWRhdGlvbiBydWxlLlxuICogIEBwYXJhbSB2YWx1ZSBUaGUgdmFsdWUgb2YgdGhlIGZpZWxkIG9uIHRoZSBzb3VyY2Ugb2JqZWN0LlxuICogIEBwYXJhbSBjYWxsYmFjayBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gKiAgQHBhcmFtIHNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBiZWluZyB2YWxpZGF0ZWQuXG4gKiAgQHBhcmFtIG9wdGlvbnMgVGhlIHZhbGlkYXRpb24gb3B0aW9ucy5cbiAqICBAcGFyYW0gb3B0aW9ucy5tZXNzYWdlcyBUaGUgdmFsaWRhdGlvbiBtZXNzYWdlcy5cbiAqL1xuZnVuY3Rpb24gcmVnZXhwKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcnVsZXMucmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICBpZiAoIWlzRW1wdHlWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcmVnZXhwOyIsImltcG9ydCBydWxlcyBmcm9tICcuLi9ydWxlLyc7XG5pbXBvcnQgeyBpc0VtcHR5VmFsdWUgfSBmcm9tICcuLi91dGlsJztcblxuLyoqXG4gKiAgVmFsaWRhdGVzIGEgbnVtYmVyIGlzIGFuIGludGVnZXIuXG4gKlxuICogIEBwYXJhbSBydWxlIFRoZSB2YWxpZGF0aW9uIHJ1bGUuXG4gKiAgQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgZmllbGQgb24gdGhlIHNvdXJjZSBvYmplY3QuXG4gKiAgQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqICBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IGJlaW5nIHZhbGlkYXRlZC5cbiAqICBAcGFyYW0gb3B0aW9ucyBUaGUgdmFsaWRhdGlvbiBvcHRpb25zLlxuICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLlxuICovXG5mdW5jdGlvbiBpbnRlZ2VyKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcnVsZXMucmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcnVsZXMudHlwZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgICAgcnVsZXMucmFuZ2UocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICB9XG4gIH1cbiAgY2FsbGJhY2soZXJyb3JzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgaW50ZWdlcjsiLCJpbXBvcnQgcnVsZXMgZnJvbSAnLi4vcnVsZS8nO1xuaW1wb3J0IHsgaXNFbXB0eVZhbHVlIH0gZnJvbSAnLi4vdXRpbCc7XG5cbi8qKlxuICogIFZhbGlkYXRlcyBhIG51bWJlciBpcyBhIGZsb2F0aW5nIHBvaW50IG51bWJlci5cbiAqXG4gKiAgQHBhcmFtIHJ1bGUgVGhlIHZhbGlkYXRpb24gcnVsZS5cbiAqICBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBvbiB0aGUgc291cmNlIG9iamVjdC5cbiAqICBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBvcHRpb25zIFRoZSB2YWxpZGF0aW9uIG9wdGlvbnMuXG4gKiAgQHBhcmFtIG9wdGlvbnMubWVzc2FnZXMgVGhlIHZhbGlkYXRpb24gbWVzc2FnZXMuXG4gKi9cbmZ1bmN0aW9uIGZsb2F0Rm4ocnVsZSwgdmFsdWUsIGNhbGxiYWNrLCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGVycm9ycyA9IFtdO1xuICB2YXIgdmFsaWRhdGUgPSBydWxlLnJlcXVpcmVkIHx8ICFydWxlLnJlcXVpcmVkICYmIHNvdXJjZS5oYXNPd25Qcm9wZXJ0eShydWxlLmZpZWxkKTtcbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgaWYgKGlzRW1wdHlWYWx1ZSh2YWx1ZSkgJiYgIXJ1bGUucmVxdWlyZWQpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cbiAgICBydWxlcy5yZXF1aXJlZChydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgIGlmICh2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBydWxlcy50eXBlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgICBydWxlcy5yYW5nZShydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuICBjYWxsYmFjayhlcnJvcnMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmbG9hdEZuOyIsImltcG9ydCBydWxlcyBmcm9tICcuLi9ydWxlLyc7XG5pbXBvcnQgeyBpc0VtcHR5VmFsdWUgfSBmcm9tICcuLi91dGlsJztcbi8qKlxuICogIFZhbGlkYXRlcyBhbiBhcnJheS5cbiAqXG4gKiAgQHBhcmFtIHJ1bGUgVGhlIHZhbGlkYXRpb24gcnVsZS5cbiAqICBAcGFyYW0gdmFsdWUgVGhlIHZhbHVlIG9mIHRoZSBmaWVsZCBvbiB0aGUgc291cmNlIG9iamVjdC5cbiAqICBAcGFyYW0gY2FsbGJhY2sgVGhlIGNhbGxiYWNrIGZ1bmN0aW9uLlxuICogIEBwYXJhbSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QgYmVpbmcgdmFsaWRhdGVkLlxuICogIEBwYXJhbSBvcHRpb25zIFRoZSB2YWxpZGF0aW9uIG9wdGlvbnMuXG4gKiAgQHBhcmFtIG9wdGlvbnMubWVzc2FnZXMgVGhlIHZhbGlkYXRpb24gbWVzc2FnZXMuXG4gKi9cbmZ1bmN0aW9uIGFycmF5KHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUsICdhcnJheScpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcnVsZXMucmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zLCAnYXJyYXknKTtcbiAgICBpZiAoIWlzRW1wdHlWYWx1ZSh2YWx1ZSwgJ2FycmF5JykpIHtcbiAgICAgIHJ1bGVzLnR5cGUocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICAgIHJ1bGVzLnJhbmdlKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgfVxuICB9XG4gIGNhbGxiYWNrKGVycm9ycyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGFycmF5OyIsImltcG9ydCBydWxlcyBmcm9tICcuLi9ydWxlLyc7XG5pbXBvcnQgeyBpc0VtcHR5VmFsdWUgfSBmcm9tICcuLi91dGlsJztcblxuLyoqXG4gKiAgVmFsaWRhdGVzIGEgcmVndWxhciBleHByZXNzaW9uIHBhdHRlcm4uXG4gKlxuICogIFBlcmZvcm1zIHZhbGlkYXRpb24gd2hlbiBhIHJ1bGUgb25seSBjb250YWluc1xuICogIGEgcGF0dGVybiBwcm9wZXJ0eSBidXQgaXMgbm90IGRlY2xhcmVkIGFzIGEgc3RyaW5nIHR5cGUuXG4gKlxuICogIEBwYXJhbSBydWxlIFRoZSB2YWxpZGF0aW9uIHJ1bGUuXG4gKiAgQHBhcmFtIHZhbHVlIFRoZSB2YWx1ZSBvZiB0aGUgZmllbGQgb24gdGhlIHNvdXJjZSBvYmplY3QuXG4gKiAgQHBhcmFtIGNhbGxiYWNrIFRoZSBjYWxsYmFjayBmdW5jdGlvbi5cbiAqICBAcGFyYW0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IGJlaW5nIHZhbGlkYXRlZC5cbiAqICBAcGFyYW0gb3B0aW9ucyBUaGUgdmFsaWRhdGlvbiBvcHRpb25zLlxuICogIEBwYXJhbSBvcHRpb25zLm1lc3NhZ2VzIFRoZSB2YWxpZGF0aW9uIG1lc3NhZ2VzLlxuICovXG5mdW5jdGlvbiBwYXR0ZXJuKHJ1bGUsIHZhbHVlLCBjYWxsYmFjaywgc291cmNlLCBvcHRpb25zKSB7XG4gIHZhciBlcnJvcnMgPSBbXTtcbiAgdmFyIHZhbGlkYXRlID0gcnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBzb3VyY2UuaGFzT3duUHJvcGVydHkocnVsZS5maWVsZCk7XG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUsICdzdHJpbmcnKSAmJiAhcnVsZS5yZXF1aXJlZCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgaWYgKCFpc0VtcHR5VmFsdWUodmFsdWUsICdzdHJpbmcnKSkge1xuICAgICAgcnVsZXMucGF0dGVybihydWxlLCB2YWx1ZSwgc291cmNlLCBlcnJvcnMsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuICBjYWxsYmFjayhlcnJvcnMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwYXR0ZXJuOyIsImltcG9ydCBydWxlcyBmcm9tICcuLi9ydWxlLyc7XG5pbXBvcnQgeyBpc0VtcHR5VmFsdWUgfSBmcm9tICcuLi91dGlsJztcblxuZnVuY3Rpb24gZGF0ZShydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICAvLyBjb25zb2xlLmxvZygnaW50ZWdlciBydWxlIGNhbGxlZCAlaicsIHJ1bGUpO1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB2YWxpZGF0ZSA9IHJ1bGUucmVxdWlyZWQgfHwgIXJ1bGUucmVxdWlyZWQgJiYgc291cmNlLmhhc093blByb3BlcnR5KHJ1bGUuZmllbGQpO1xuICAvLyBjb25zb2xlLmxvZygndmFsaWRhdGUgb24gJXMgdmFsdWUnLCB2YWx1ZSk7XG4gIGlmICh2YWxpZGF0ZSkge1xuICAgIGlmIChpc0VtcHR5VmFsdWUodmFsdWUpICYmICFydWxlLnJlcXVpcmVkKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG4gICAgcnVsZXMucmVxdWlyZWQocnVsZSwgdmFsdWUsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICBpZiAoIWlzRW1wdHlWYWx1ZSh2YWx1ZSkpIHtcbiAgICAgIHZhciBkYXRlT2JqZWN0ID0gdm9pZCAwO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJykge1xuICAgICAgICBkYXRlT2JqZWN0ID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGF0ZU9iamVjdCA9IHZhbHVlO1xuICAgICAgfVxuXG4gICAgICBydWxlcy50eXBlKHJ1bGUsIGRhdGVPYmplY3QsIHNvdXJjZSwgZXJyb3JzLCBvcHRpb25zKTtcbiAgICAgIGlmIChkYXRlT2JqZWN0KSB7XG4gICAgICAgIHJ1bGVzLnJhbmdlKHJ1bGUsIGRhdGVPYmplY3QuZ2V0VGltZSgpLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucyk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGNhbGxiYWNrKGVycm9ycyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGRhdGU7IiwiaW1wb3J0IF90eXBlb2YgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZic7XG5pbXBvcnQgcnVsZXMgZnJvbSAnLi4vcnVsZS8nO1xuXG5mdW5jdGlvbiByZXF1aXJlZChydWxlLCB2YWx1ZSwgY2FsbGJhY2ssIHNvdXJjZSwgb3B0aW9ucykge1xuICB2YXIgZXJyb3JzID0gW107XG4gIHZhciB0eXBlID0gQXJyYXkuaXNBcnJheSh2YWx1ZSkgPyAnYXJyYXknIDogdHlwZW9mIHZhbHVlID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZih2YWx1ZSk7XG4gIHJ1bGVzLnJlcXVpcmVkKHJ1bGUsIHZhbHVlLCBzb3VyY2UsIGVycm9ycywgb3B0aW9ucywgdHlwZSk7XG4gIGNhbGxiYWNrKGVycm9ycyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHJlcXVpcmVkOyIsImV4cG9ydCBmdW5jdGlvbiBuZXdNZXNzYWdlcygpIHtcbiAgcmV0dXJuIHtcbiAgICAnZGVmYXVsdCc6ICdWYWxpZGF0aW9uIGVycm9yIG9uIGZpZWxkICVzJyxcbiAgICByZXF1aXJlZDogJyVzIGlzIHJlcXVpcmVkJyxcbiAgICAnZW51bSc6ICclcyBtdXN0IGJlIG9uZSBvZiAlcycsXG4gICAgd2hpdGVzcGFjZTogJyVzIGNhbm5vdCBiZSBlbXB0eScsXG4gICAgZGF0ZToge1xuICAgICAgZm9ybWF0OiAnJXMgZGF0ZSAlcyBpcyBpbnZhbGlkIGZvciBmb3JtYXQgJXMnLFxuICAgICAgcGFyc2U6ICclcyBkYXRlIGNvdWxkIG5vdCBiZSBwYXJzZWQsICVzIGlzIGludmFsaWQgJyxcbiAgICAgIGludmFsaWQ6ICclcyBkYXRlICVzIGlzIGludmFsaWQnXG4gICAgfSxcbiAgICB0eXBlczoge1xuICAgICAgc3RyaW5nOiAnJXMgaXMgbm90IGEgJXMnLFxuICAgICAgbWV0aG9kOiAnJXMgaXMgbm90IGEgJXMgKGZ1bmN0aW9uKScsXG4gICAgICBhcnJheTogJyVzIGlzIG5vdCBhbiAlcycsXG4gICAgICBvYmplY3Q6ICclcyBpcyBub3QgYW4gJXMnLFxuICAgICAgbnVtYmVyOiAnJXMgaXMgbm90IGEgJXMnLFxuICAgICAgZGF0ZTogJyVzIGlzIG5vdCBhICVzJyxcbiAgICAgIGJvb2xlYW46ICclcyBpcyBub3QgYSAlcycsXG4gICAgICBpbnRlZ2VyOiAnJXMgaXMgbm90IGFuICVzJyxcbiAgICAgIGZsb2F0OiAnJXMgaXMgbm90IGEgJXMnLFxuICAgICAgcmVnZXhwOiAnJXMgaXMgbm90IGEgdmFsaWQgJXMnLFxuICAgICAgZW1haWw6ICclcyBpcyBub3QgYSB2YWxpZCAlcycsXG4gICAgICB1cmw6ICclcyBpcyBub3QgYSB2YWxpZCAlcycsXG4gICAgICBoZXg6ICclcyBpcyBub3QgYSB2YWxpZCAlcydcbiAgICB9LFxuICAgIHN0cmluZzoge1xuICAgICAgbGVuOiAnJXMgbXVzdCBiZSBleGFjdGx5ICVzIGNoYXJhY3RlcnMnLFxuICAgICAgbWluOiAnJXMgbXVzdCBiZSBhdCBsZWFzdCAlcyBjaGFyYWN0ZXJzJyxcbiAgICAgIG1heDogJyVzIGNhbm5vdCBiZSBsb25nZXIgdGhhbiAlcyBjaGFyYWN0ZXJzJyxcbiAgICAgIHJhbmdlOiAnJXMgbXVzdCBiZSBiZXR3ZWVuICVzIGFuZCAlcyBjaGFyYWN0ZXJzJ1xuICAgIH0sXG4gICAgbnVtYmVyOiB7XG4gICAgICBsZW46ICclcyBtdXN0IGVxdWFsICVzJyxcbiAgICAgIG1pbjogJyVzIGNhbm5vdCBiZSBsZXNzIHRoYW4gJXMnLFxuICAgICAgbWF4OiAnJXMgY2Fubm90IGJlIGdyZWF0ZXIgdGhhbiAlcycsXG4gICAgICByYW5nZTogJyVzIG11c3QgYmUgYmV0d2VlbiAlcyBhbmQgJXMnXG4gICAgfSxcbiAgICBhcnJheToge1xuICAgICAgbGVuOiAnJXMgbXVzdCBiZSBleGFjdGx5ICVzIGluIGxlbmd0aCcsXG4gICAgICBtaW46ICclcyBjYW5ub3QgYmUgbGVzcyB0aGFuICVzIGluIGxlbmd0aCcsXG4gICAgICBtYXg6ICclcyBjYW5ub3QgYmUgZ3JlYXRlciB0aGFuICVzIGluIGxlbmd0aCcsXG4gICAgICByYW5nZTogJyVzIG11c3QgYmUgYmV0d2VlbiAlcyBhbmQgJXMgaW4gbGVuZ3RoJ1xuICAgIH0sXG4gICAgcGF0dGVybjoge1xuICAgICAgbWlzbWF0Y2g6ICclcyB2YWx1ZSAlcyBkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuICVzJ1xuICAgIH0sXG4gICAgY2xvbmU6IGZ1bmN0aW9uIGNsb25lKCkge1xuICAgICAgdmFyIGNsb25lZCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcykpO1xuICAgICAgY2xvbmVkLmNsb25lID0gdGhpcy5jbG9uZTtcbiAgICAgIHJldHVybiBjbG9uZWQ7XG4gICAgfVxuICB9O1xufVxuXG5leHBvcnQgdmFyIG1lc3NhZ2VzID0gbmV3TWVzc2FnZXMoKTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF90eXBlb2YgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZic7XG5pbXBvcnQgeyBmb3JtYXQsIGNvbXBsZW1lbnRFcnJvciwgYXN5bmNNYXAsIHdhcm5pbmcsIGRlZXBNZXJnZSB9IGZyb20gJy4vdXRpbCc7XG5pbXBvcnQgdmFsaWRhdG9ycyBmcm9tICcuL3ZhbGlkYXRvci8nO1xuaW1wb3J0IHsgbWVzc2FnZXMgYXMgZGVmYXVsdE1lc3NhZ2VzLCBuZXdNZXNzYWdlcyB9IGZyb20gJy4vbWVzc2FnZXMnO1xuXG4vKipcbiAqICBFbmNhcHN1bGF0ZXMgYSB2YWxpZGF0aW9uIHNjaGVtYS5cbiAqXG4gKiAgQHBhcmFtIGRlc2NyaXB0b3IgQW4gb2JqZWN0IGRlY2xhcmluZyB2YWxpZGF0aW9uIHJ1bGVzXG4gKiAgZm9yIHRoaXMgc2NoZW1hLlxuICovXG5mdW5jdGlvbiBTY2hlbWEoZGVzY3JpcHRvcikge1xuICB0aGlzLnJ1bGVzID0gbnVsbDtcbiAgdGhpcy5fbWVzc2FnZXMgPSBkZWZhdWx0TWVzc2FnZXM7XG4gIHRoaXMuZGVmaW5lKGRlc2NyaXB0b3IpO1xufVxuXG5TY2hlbWEucHJvdG90eXBlID0ge1xuICBtZXNzYWdlczogZnVuY3Rpb24gbWVzc2FnZXMoX21lc3NhZ2VzKSB7XG4gICAgaWYgKF9tZXNzYWdlcykge1xuICAgICAgdGhpcy5fbWVzc2FnZXMgPSBkZWVwTWVyZ2UobmV3TWVzc2FnZXMoKSwgX21lc3NhZ2VzKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX21lc3NhZ2VzO1xuICB9LFxuICBkZWZpbmU6IGZ1bmN0aW9uIGRlZmluZShydWxlcykge1xuICAgIGlmICghcnVsZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGNvbmZpZ3VyZSBhIHNjaGVtYSB3aXRoIG5vIHJ1bGVzJyk7XG4gICAgfVxuICAgIGlmICgodHlwZW9mIHJ1bGVzID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihydWxlcykpICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHJ1bGVzKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSdWxlcyBtdXN0IGJlIGFuIG9iamVjdCcpO1xuICAgIH1cbiAgICB0aGlzLnJ1bGVzID0ge307XG4gICAgdmFyIHogPSB2b2lkIDA7XG4gICAgdmFyIGl0ZW0gPSB2b2lkIDA7XG4gICAgZm9yICh6IGluIHJ1bGVzKSB7XG4gICAgICBpZiAocnVsZXMuaGFzT3duUHJvcGVydHkoeikpIHtcbiAgICAgICAgaXRlbSA9IHJ1bGVzW3pdO1xuICAgICAgICB0aGlzLnJ1bGVzW3pdID0gQXJyYXkuaXNBcnJheShpdGVtKSA/IGl0ZW0gOiBbaXRlbV07XG4gICAgICB9XG4gICAgfVxuICB9LFxuICB2YWxpZGF0ZTogZnVuY3Rpb24gdmFsaWRhdGUoc291cmNlXykge1xuICAgIHZhciBfdGhpcyA9IHRoaXM7XG5cbiAgICB2YXIgbyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDoge307XG4gICAgdmFyIG9jID0gYXJndW1lbnRzWzJdO1xuXG4gICAgdmFyIHNvdXJjZSA9IHNvdXJjZV87XG4gICAgdmFyIG9wdGlvbnMgPSBvO1xuICAgIHZhciBjYWxsYmFjayA9IG9jO1xuICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRpb25zO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgIH1cbiAgICBpZiAoIXRoaXMucnVsZXMgfHwgT2JqZWN0LmtleXModGhpcy5ydWxlcykubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZnVuY3Rpb24gY29tcGxldGUocmVzdWx0cykge1xuICAgICAgdmFyIGkgPSB2b2lkIDA7XG4gICAgICB2YXIgZmllbGQgPSB2b2lkIDA7XG4gICAgICB2YXIgZXJyb3JzID0gW107XG4gICAgICB2YXIgZmllbGRzID0ge307XG5cbiAgICAgIGZ1bmN0aW9uIGFkZChlKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KGUpKSB7XG4gICAgICAgICAgZXJyb3JzID0gZXJyb3JzLmNvbmNhdC5hcHBseShlcnJvcnMsIGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVycm9ycy5wdXNoKGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAoaSA9IDA7IGkgPCByZXN1bHRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGFkZChyZXN1bHRzW2ldKTtcbiAgICAgIH1cbiAgICAgIGlmICghZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICBlcnJvcnMgPSBudWxsO1xuICAgICAgICBmaWVsZHMgPSBudWxsO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGVycm9ycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIGZpZWxkID0gZXJyb3JzW2ldLmZpZWxkO1xuICAgICAgICAgIGZpZWxkc1tmaWVsZF0gPSBmaWVsZHNbZmllbGRdIHx8IFtdO1xuICAgICAgICAgIGZpZWxkc1tmaWVsZF0ucHVzaChlcnJvcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhlcnJvcnMsIGZpZWxkcyk7XG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnMubWVzc2FnZXMpIHtcbiAgICAgIHZhciBtZXNzYWdlcyA9IHRoaXMubWVzc2FnZXMoKTtcbiAgICAgIGlmIChtZXNzYWdlcyA9PT0gZGVmYXVsdE1lc3NhZ2VzKSB7XG4gICAgICAgIG1lc3NhZ2VzID0gbmV3TWVzc2FnZXMoKTtcbiAgICAgIH1cbiAgICAgIGRlZXBNZXJnZShtZXNzYWdlcywgb3B0aW9ucy5tZXNzYWdlcyk7XG4gICAgICBvcHRpb25zLm1lc3NhZ2VzID0gbWVzc2FnZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMubWVzc2FnZXMgPSB0aGlzLm1lc3NhZ2VzKCk7XG4gICAgfVxuICAgIHZhciBhcnIgPSB2b2lkIDA7XG4gICAgdmFyIHZhbHVlID0gdm9pZCAwO1xuICAgIHZhciBzZXJpZXMgPSB7fTtcbiAgICB2YXIga2V5cyA9IG9wdGlvbnMua2V5cyB8fCBPYmplY3Qua2V5cyh0aGlzLnJ1bGVzKTtcbiAgICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKHopIHtcbiAgICAgIGFyciA9IF90aGlzLnJ1bGVzW3pdO1xuICAgICAgdmFsdWUgPSBzb3VyY2Vbel07XG4gICAgICBhcnIuZm9yRWFjaChmdW5jdGlvbiAocikge1xuICAgICAgICB2YXIgcnVsZSA9IHI7XG4gICAgICAgIGlmICh0eXBlb2YgcnVsZS50cmFuc2Zvcm0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBpZiAoc291cmNlID09PSBzb3VyY2VfKSB7XG4gICAgICAgICAgICBzb3VyY2UgPSBfZXh0ZW5kcyh7fSwgc291cmNlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFsdWUgPSBzb3VyY2Vbel0gPSBydWxlLnRyYW5zZm9ybSh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBydWxlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcnVsZSA9IHtcbiAgICAgICAgICAgIHZhbGlkYXRvcjogcnVsZVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcnVsZSA9IF9leHRlbmRzKHt9LCBydWxlKTtcbiAgICAgICAgfVxuICAgICAgICBydWxlLnZhbGlkYXRvciA9IF90aGlzLmdldFZhbGlkYXRpb25NZXRob2QocnVsZSk7XG4gICAgICAgIHJ1bGUuZmllbGQgPSB6O1xuICAgICAgICBydWxlLmZ1bGxGaWVsZCA9IHJ1bGUuZnVsbEZpZWxkIHx8IHo7XG4gICAgICAgIHJ1bGUudHlwZSA9IF90aGlzLmdldFR5cGUocnVsZSk7XG4gICAgICAgIGlmICghcnVsZS52YWxpZGF0b3IpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgc2VyaWVzW3pdID0gc2VyaWVzW3pdIHx8IFtdO1xuICAgICAgICBzZXJpZXNbel0ucHVzaCh7XG4gICAgICAgICAgcnVsZTogcnVsZSxcbiAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgc291cmNlOiBzb3VyY2UsXG4gICAgICAgICAgZmllbGQ6IHpcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICB2YXIgZXJyb3JGaWVsZHMgPSB7fTtcbiAgICBhc3luY01hcChzZXJpZXMsIG9wdGlvbnMsIGZ1bmN0aW9uIChkYXRhLCBkb0l0KSB7XG4gICAgICB2YXIgcnVsZSA9IGRhdGEucnVsZTtcbiAgICAgIHZhciBkZWVwID0gKHJ1bGUudHlwZSA9PT0gJ29iamVjdCcgfHwgcnVsZS50eXBlID09PSAnYXJyYXknKSAmJiAoX3R5cGVvZihydWxlLmZpZWxkcykgPT09ICdvYmplY3QnIHx8IF90eXBlb2YocnVsZS5kZWZhdWx0RmllbGQpID09PSAnb2JqZWN0Jyk7XG4gICAgICBkZWVwID0gZGVlcCAmJiAocnVsZS5yZXF1aXJlZCB8fCAhcnVsZS5yZXF1aXJlZCAmJiBkYXRhLnZhbHVlKTtcbiAgICAgIHJ1bGUuZmllbGQgPSBkYXRhLmZpZWxkO1xuICAgICAgZnVuY3Rpb24gYWRkRnVsbGZpZWxkKGtleSwgc2NoZW1hKSB7XG4gICAgICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgc2NoZW1hLCB7XG4gICAgICAgICAgZnVsbEZpZWxkOiBydWxlLmZ1bGxGaWVsZCArICcuJyArIGtleVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2IoKSB7XG4gICAgICAgIHZhciBlID0gYXJndW1lbnRzLmxlbmd0aCA+IDAgJiYgYXJndW1lbnRzWzBdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMF0gOiBbXTtcblxuICAgICAgICB2YXIgZXJyb3JzID0gZTtcbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KGVycm9ycykpIHtcbiAgICAgICAgICBlcnJvcnMgPSBbZXJyb3JzXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICAgIHdhcm5pbmcoJ2FzeW5jLXZhbGlkYXRvcjonLCBlcnJvcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlcnJvcnMubGVuZ3RoICYmIHJ1bGUubWVzc2FnZSkge1xuICAgICAgICAgIGVycm9ycyA9IFtdLmNvbmNhdChydWxlLm1lc3NhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgZXJyb3JzID0gZXJyb3JzLm1hcChjb21wbGVtZW50RXJyb3IocnVsZSkpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmZpcnN0ICYmIGVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICBlcnJvckZpZWxkc1tydWxlLmZpZWxkXSA9IDE7XG4gICAgICAgICAgcmV0dXJuIGRvSXQoZXJyb3JzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlZXApIHtcbiAgICAgICAgICBkb0l0KGVycm9ycyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gaWYgcnVsZSBpcyByZXF1aXJlZCBidXQgdGhlIHRhcmdldCBvYmplY3RcbiAgICAgICAgICAvLyBkb2VzIG5vdCBleGlzdCBmYWlsIGF0IHRoZSBydWxlIGxldmVsIGFuZCBkb24ndFxuICAgICAgICAgIC8vIGdvIGRlZXBlclxuICAgICAgICAgIGlmIChydWxlLnJlcXVpcmVkICYmICFkYXRhLnZhbHVlKSB7XG4gICAgICAgICAgICBpZiAocnVsZS5tZXNzYWdlKSB7XG4gICAgICAgICAgICAgIGVycm9ycyA9IFtdLmNvbmNhdChydWxlLm1lc3NhZ2UpLm1hcChjb21wbGVtZW50RXJyb3IocnVsZSkpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmVycm9yKSB7XG4gICAgICAgICAgICAgIGVycm9ycyA9IFtvcHRpb25zLmVycm9yKHJ1bGUsIGZvcm1hdChvcHRpb25zLm1lc3NhZ2VzLnJlcXVpcmVkLCBydWxlLmZpZWxkKSldO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgZXJyb3JzID0gW107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZG9JdChlcnJvcnMpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBmaWVsZHNTY2hlbWEgPSB7fTtcbiAgICAgICAgICBpZiAocnVsZS5kZWZhdWx0RmllbGQpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGsgaW4gZGF0YS52YWx1ZSkge1xuICAgICAgICAgICAgICBpZiAoZGF0YS52YWx1ZS5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgICAgICAgIGZpZWxkc1NjaGVtYVtrXSA9IHJ1bGUuZGVmYXVsdEZpZWxkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkc1NjaGVtYSA9IF9leHRlbmRzKHt9LCBmaWVsZHNTY2hlbWEsIGRhdGEucnVsZS5maWVsZHMpO1xuICAgICAgICAgIGZvciAodmFyIGYgaW4gZmllbGRzU2NoZW1hKSB7XG4gICAgICAgICAgICBpZiAoZmllbGRzU2NoZW1hLmhhc093blByb3BlcnR5KGYpKSB7XG4gICAgICAgICAgICAgIHZhciBmaWVsZFNjaGVtYSA9IEFycmF5LmlzQXJyYXkoZmllbGRzU2NoZW1hW2ZdKSA/IGZpZWxkc1NjaGVtYVtmXSA6IFtmaWVsZHNTY2hlbWFbZl1dO1xuICAgICAgICAgICAgICBmaWVsZHNTY2hlbWFbZl0gPSBmaWVsZFNjaGVtYS5tYXAoYWRkRnVsbGZpZWxkLmJpbmQobnVsbCwgZikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgc2NoZW1hID0gbmV3IFNjaGVtYShmaWVsZHNTY2hlbWEpO1xuICAgICAgICAgIHNjaGVtYS5tZXNzYWdlcyhvcHRpb25zLm1lc3NhZ2VzKTtcbiAgICAgICAgICBpZiAoZGF0YS5ydWxlLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIGRhdGEucnVsZS5vcHRpb25zLm1lc3NhZ2VzID0gb3B0aW9ucy5tZXNzYWdlcztcbiAgICAgICAgICAgIGRhdGEucnVsZS5vcHRpb25zLmVycm9yID0gb3B0aW9ucy5lcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2NoZW1hLnZhbGlkYXRlKGRhdGEudmFsdWUsIGRhdGEucnVsZS5vcHRpb25zIHx8IG9wdGlvbnMsIGZ1bmN0aW9uIChlcnJzKSB7XG4gICAgICAgICAgICBkb0l0KGVycnMgJiYgZXJycy5sZW5ndGggPyBlcnJvcnMuY29uY2F0KGVycnMpIDogZXJycyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIHJlcyA9IHJ1bGUudmFsaWRhdG9yKHJ1bGUsIGRhdGEudmFsdWUsIGNiLCBkYXRhLnNvdXJjZSwgb3B0aW9ucyk7XG4gICAgICBpZiAocmVzICYmIHJlcy50aGVuKSB7XG4gICAgICAgIHJlcy50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gY2IoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZXR1cm4gY2IoZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0sIGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICBjb21wbGV0ZShyZXN1bHRzKTtcbiAgICB9KTtcbiAgfSxcbiAgZ2V0VHlwZTogZnVuY3Rpb24gZ2V0VHlwZShydWxlKSB7XG4gICAgaWYgKHJ1bGUudHlwZSA9PT0gdW5kZWZpbmVkICYmIHJ1bGUucGF0dGVybiBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgcnVsZS50eXBlID0gJ3BhdHRlcm4nO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHJ1bGUudmFsaWRhdG9yICE9PSAnZnVuY3Rpb24nICYmIHJ1bGUudHlwZSAmJiAhdmFsaWRhdG9ycy5oYXNPd25Qcm9wZXJ0eShydWxlLnR5cGUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZm9ybWF0KCdVbmtub3duIHJ1bGUgdHlwZSAlcycsIHJ1bGUudHlwZSkpO1xuICAgIH1cbiAgICByZXR1cm4gcnVsZS50eXBlIHx8ICdzdHJpbmcnO1xuICB9LFxuICBnZXRWYWxpZGF0aW9uTWV0aG9kOiBmdW5jdGlvbiBnZXRWYWxpZGF0aW9uTWV0aG9kKHJ1bGUpIHtcbiAgICBpZiAodHlwZW9mIHJ1bGUudmFsaWRhdG9yID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gcnVsZS52YWxpZGF0b3I7XG4gICAgfVxuICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocnVsZSk7XG4gICAgdmFyIG1lc3NhZ2VJbmRleCA9IGtleXMuaW5kZXhPZignbWVzc2FnZScpO1xuICAgIGlmIChtZXNzYWdlSW5kZXggIT09IC0xKSB7XG4gICAgICBrZXlzLnNwbGljZShtZXNzYWdlSW5kZXgsIDEpO1xuICAgIH1cbiAgICBpZiAoa2V5cy5sZW5ndGggPT09IDEgJiYga2V5c1swXSA9PT0gJ3JlcXVpcmVkJykge1xuICAgICAgcmV0dXJuIHZhbGlkYXRvcnMucmVxdWlyZWQ7XG4gICAgfVxuICAgIHJldHVybiB2YWxpZGF0b3JzW3RoaXMuZ2V0VHlwZShydWxlKV0gfHwgZmFsc2U7XG4gIH1cbn07XG5cblNjaGVtYS5yZWdpc3RlciA9IGZ1bmN0aW9uIHJlZ2lzdGVyKHR5cGUsIHZhbGlkYXRvcikge1xuICBpZiAodHlwZW9mIHZhbGlkYXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJlZ2lzdGVyIGEgdmFsaWRhdG9yIGJ5IHR5cGUsIHZhbGlkYXRvciBpcyBub3QgYSBmdW5jdGlvbicpO1xuICB9XG4gIHZhbGlkYXRvcnNbdHlwZV0gPSB2YWxpZGF0b3I7XG59O1xuXG5TY2hlbWEubWVzc2FnZXMgPSBkZWZhdWx0TWVzc2FnZXM7XG5cbmV4cG9ydCBkZWZhdWx0IFNjaGVtYTsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSBcImJhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzXCI7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2tcIjtcblxudmFyIEZpZWxkID0gZnVuY3Rpb24gRmllbGQoZmllbGRzKSB7XG4gIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWVsZCk7XG5cbiAgX2V4dGVuZHModGhpcywgZmllbGRzKTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBpc0Zvcm1GaWVsZChvYmopIHtcbiAgcmV0dXJuIG9iaiBpbnN0YW5jZW9mIEZpZWxkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVGb3JtRmllbGQoZmllbGQpIHtcbiAgaWYgKGlzRm9ybUZpZWxkKGZpZWxkKSkge1xuICAgIHJldHVybiBmaWVsZDtcbiAgfVxuICByZXR1cm4gbmV3IEZpZWxkKGZpZWxkKTtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF90eXBlb2YgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZic7XG5pbXBvcnQgaG9pc3RTdGF0aWNzIGZyb20gJ2hvaXN0LW5vbi1yZWFjdC1zdGF0aWNzJztcbmltcG9ydCB3YXJuaW5nIGZyb20gJ3dhcm5pbmcnO1xuXG5mdW5jdGlvbiBnZXREaXNwbGF5TmFtZShXcmFwcGVkQ29tcG9uZW50KSB7XG4gIHJldHVybiBXcmFwcGVkQ29tcG9uZW50LmRpc3BsYXlOYW1lIHx8IFdyYXBwZWRDb21wb25lbnQubmFtZSB8fCAnV3JhcHBlZENvbXBvbmVudCc7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhcmd1bWVudENvbnRhaW5lcihDb250YWluZXIsIFdyYXBwZWRDb21wb25lbnQpIHtcbiAgLyogZXNsaW50IG5vLXBhcmFtLXJlYXNzaWduOjAgKi9cbiAgQ29udGFpbmVyLmRpc3BsYXlOYW1lID0gJ0Zvcm0oJyArIGdldERpc3BsYXlOYW1lKFdyYXBwZWRDb21wb25lbnQpICsgJyknO1xuICBDb250YWluZXIuV3JhcHBlZENvbXBvbmVudCA9IFdyYXBwZWRDb21wb25lbnQ7XG4gIHJldHVybiBob2lzdFN0YXRpY3MoQ29udGFpbmVyLCBXcmFwcGVkQ29tcG9uZW50KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlkZW50aXR5KG9iaikge1xuICByZXR1cm4gb2JqO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmxhdHRlbkFycmF5KGFycikge1xuICByZXR1cm4gQXJyYXkucHJvdG90eXBlLmNvbmNhdC5hcHBseShbXSwgYXJyKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRyZWVUcmF2ZXJzZSgpIHtcbiAgdmFyIHBhdGggPSBhcmd1bWVudHMubGVuZ3RoID4gMCAmJiBhcmd1bWVudHNbMF0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1swXSA6ICcnO1xuICB2YXIgdHJlZSA9IGFyZ3VtZW50c1sxXTtcbiAgdmFyIGlzTGVhZk5vZGUgPSBhcmd1bWVudHNbMl07XG4gIHZhciBlcnJvck1lc3NhZ2UgPSBhcmd1bWVudHNbM107XG4gIHZhciBjYWxsYmFjayA9IGFyZ3VtZW50c1s0XTtcblxuICBpZiAoaXNMZWFmTm9kZShwYXRoLCB0cmVlKSkge1xuICAgIGNhbGxiYWNrKHBhdGgsIHRyZWUpO1xuICB9IGVsc2UgaWYgKHRyZWUgPT09IHVuZGVmaW5lZCB8fCB0cmVlID09PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodHJlZSkpIHtcbiAgICB0cmVlLmZvckVhY2goZnVuY3Rpb24gKHN1YlRyZWUsIGluZGV4KSB7XG4gICAgICByZXR1cm4gdHJlZVRyYXZlcnNlKHBhdGggKyAnWycgKyBpbmRleCArICddJywgc3ViVHJlZSwgaXNMZWFmTm9kZSwgZXJyb3JNZXNzYWdlLCBjYWxsYmFjayk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gSXQncyBvYmplY3QgYW5kIG5vdCBhIGxlYWYgbm9kZVxuICAgIGlmICgodHlwZW9mIHRyZWUgPT09ICd1bmRlZmluZWQnID8gJ3VuZGVmaW5lZCcgOiBfdHlwZW9mKHRyZWUpKSAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHdhcm5pbmcoZmFsc2UsIGVycm9yTWVzc2FnZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIE9iamVjdC5rZXlzKHRyZWUpLmZvckVhY2goZnVuY3Rpb24gKHN1YlRyZWVLZXkpIHtcbiAgICAgIHZhciBzdWJUcmVlID0gdHJlZVtzdWJUcmVlS2V5XTtcbiAgICAgIHRyZWVUcmF2ZXJzZSgnJyArIHBhdGggKyAocGF0aCA/ICcuJyA6ICcnKSArIHN1YlRyZWVLZXksIHN1YlRyZWUsIGlzTGVhZk5vZGUsIGVycm9yTWVzc2FnZSwgY2FsbGJhY2spO1xuICAgIH0pO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmbGF0dGVuRmllbGRzKG1heWJlTmVzdGVkRmllbGRzLCBpc0xlYWZOb2RlLCBlcnJvck1lc3NhZ2UpIHtcbiAgdmFyIGZpZWxkcyA9IHt9O1xuICB0cmVlVHJhdmVyc2UodW5kZWZpbmVkLCBtYXliZU5lc3RlZEZpZWxkcywgaXNMZWFmTm9kZSwgZXJyb3JNZXNzYWdlLCBmdW5jdGlvbiAocGF0aCwgbm9kZSkge1xuICAgIGZpZWxkc1twYXRoXSA9IG5vZGU7XG4gIH0pO1xuICByZXR1cm4gZmllbGRzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbm9ybWFsaXplVmFsaWRhdGVSdWxlcyh2YWxpZGF0ZSwgcnVsZXMsIHZhbGlkYXRlVHJpZ2dlcikge1xuICB2YXIgdmFsaWRhdGVSdWxlcyA9IHZhbGlkYXRlLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgIHZhciBuZXdJdGVtID0gX2V4dGVuZHMoe30sIGl0ZW0sIHtcbiAgICAgIHRyaWdnZXI6IGl0ZW0udHJpZ2dlciB8fCBbXVxuICAgIH0pO1xuICAgIGlmICh0eXBlb2YgbmV3SXRlbS50cmlnZ2VyID09PSAnc3RyaW5nJykge1xuICAgICAgbmV3SXRlbS50cmlnZ2VyID0gW25ld0l0ZW0udHJpZ2dlcl07XG4gICAgfVxuICAgIHJldHVybiBuZXdJdGVtO1xuICB9KTtcbiAgaWYgKHJ1bGVzKSB7XG4gICAgdmFsaWRhdGVSdWxlcy5wdXNoKHtcbiAgICAgIHRyaWdnZXI6IHZhbGlkYXRlVHJpZ2dlciA/IFtdLmNvbmNhdCh2YWxpZGF0ZVRyaWdnZXIpIDogW10sXG4gICAgICBydWxlczogcnVsZXNcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gdmFsaWRhdGVSdWxlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZhbGlkYXRlVHJpZ2dlcnModmFsaWRhdGVSdWxlcykge1xuICByZXR1cm4gdmFsaWRhdGVSdWxlcy5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gISFpdGVtLnJ1bGVzICYmIGl0ZW0ucnVsZXMubGVuZ3RoO1xuICB9KS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICByZXR1cm4gaXRlbS50cmlnZ2VyO1xuICB9KS5yZWR1Y2UoZnVuY3Rpb24gKHByZSwgY3Vycikge1xuICAgIHJldHVybiBwcmUuY29uY2F0KGN1cnIpO1xuICB9LCBbXSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRWYWx1ZUZyb21FdmVudChlKSB7XG4gIC8vIFRvIHN1cHBvcnQgY3VzdG9tIGVsZW1lbnRcbiAgaWYgKCFlIHx8ICFlLnRhcmdldCkge1xuICAgIHJldHVybiBlO1xuICB9XG4gIHZhciB0YXJnZXQgPSBlLnRhcmdldDtcblxuICByZXR1cm4gdGFyZ2V0LnR5cGUgPT09ICdjaGVja2JveCcgPyB0YXJnZXQuY2hlY2tlZCA6IHRhcmdldC52YWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yU3RycyhlcnJvcnMpIHtcbiAgaWYgKGVycm9ycykge1xuICAgIHJldHVybiBlcnJvcnMubWFwKGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoZSAmJiBlLm1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIGUubWVzc2FnZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBlO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBlcnJvcnM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRQYXJhbXMobnMsIG9wdCwgY2IpIHtcbiAgdmFyIG5hbWVzID0gbnM7XG4gIHZhciBvcHRpb25zID0gb3B0O1xuICB2YXIgY2FsbGJhY2sgPSBjYjtcbiAgaWYgKGNiID09PSB1bmRlZmluZWQpIHtcbiAgICBpZiAodHlwZW9mIG5hbWVzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG5hbWVzO1xuICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgbmFtZXMgPSB1bmRlZmluZWQ7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG5hbWVzKSkge1xuICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgICAgb3B0aW9ucyA9IHt9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0aW9ucztcbiAgICAgIG9wdGlvbnMgPSBuYW1lcyB8fCB7fTtcbiAgICAgIG5hbWVzID0gdW5kZWZpbmVkO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge1xuICAgIG5hbWVzOiBuYW1lcyxcbiAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgIGNhbGxiYWNrOiBjYWxsYmFja1xuICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNFbXB0eU9iamVjdChvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzUnVsZXModmFsaWRhdGUpIHtcbiAgaWYgKHZhbGlkYXRlKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRlLnNvbWUoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLnJ1bGVzICYmIGl0ZW0ucnVsZXMubGVuZ3RoO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHN0YXJ0c1dpdGgoc3RyLCBwcmVmaXgpIHtcbiAgcmV0dXJuIHN0ci5sYXN0SW5kZXhPZihwcmVmaXgsIDApID09PSAwO1xufSIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgc2V0IGZyb20gJ2xvZGFzaC9zZXQnO1xuaW1wb3J0IGNyZWF0ZUZvcm1GaWVsZCwgeyBpc0Zvcm1GaWVsZCB9IGZyb20gJy4vY3JlYXRlRm9ybUZpZWxkJztcbmltcG9ydCB7IGZsYXR0ZW5GaWVsZHMgYXMgX2ZsYXR0ZW5GaWVsZHMsIGdldEVycm9yU3Rycywgc3RhcnRzV2l0aCB9IGZyb20gJy4vdXRpbHMnO1xuXG5mdW5jdGlvbiBwYXJ0T2YoYSwgYikge1xuICByZXR1cm4gYi5pbmRleE9mKGEpID09PSAwICYmIFsnLicsICdbJ10uaW5kZXhPZihiW2EubGVuZ3RoXSkgIT09IC0xO1xufVxuXG52YXIgRmllbGRzU3RvcmUgPSBmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIEZpZWxkc1N0b3JlKGZpZWxkcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBGaWVsZHNTdG9yZSk7XG5cbiAgICBfaW5pdGlhbGlzZVByb3BzLmNhbGwodGhpcyk7XG5cbiAgICB0aGlzLmZpZWxkcyA9IHRoaXMuZmxhdHRlbkZpZWxkcyhmaWVsZHMpO1xuICAgIHRoaXMuZmllbGRzTWV0YSA9IHt9O1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEZpZWxkc1N0b3JlLCBbe1xuICAgIGtleTogJ3VwZGF0ZUZpZWxkcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHVwZGF0ZUZpZWxkcyhmaWVsZHMpIHtcbiAgICAgIHRoaXMuZmllbGRzID0gdGhpcy5mbGF0dGVuRmllbGRzKGZpZWxkcyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZmxhdHRlbkZpZWxkcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGZsYXR0ZW5GaWVsZHMoZmllbGRzKSB7XG4gICAgICByZXR1cm4gX2ZsYXR0ZW5GaWVsZHMoZmllbGRzLCBmdW5jdGlvbiAoXywgbm9kZSkge1xuICAgICAgICByZXR1cm4gaXNGb3JtRmllbGQobm9kZSk7XG4gICAgICB9LCAnWW91IG11c3Qgd3JhcCBmaWVsZCBkYXRhIHdpdGggYGNyZWF0ZUZvcm1GaWVsZGAuJyk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZmxhdHRlblJlZ2lzdGVyZWRGaWVsZHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBmbGF0dGVuUmVnaXN0ZXJlZEZpZWxkcyhmaWVsZHMpIHtcbiAgICAgIHZhciB2YWxpZEZpZWxkc05hbWUgPSB0aGlzLmdldEFsbEZpZWxkc05hbWUoKTtcbiAgICAgIHJldHVybiBfZmxhdHRlbkZpZWxkcyhmaWVsZHMsIGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHJldHVybiB2YWxpZEZpZWxkc05hbWUuaW5kZXhPZihwYXRoKSA+PSAwO1xuICAgICAgfSwgJ1lvdSBjYW5ub3Qgc2V0IGEgZm9ybSBmaWVsZCBiZWZvcmUgcmVuZGVyaW5nIGEgZmllbGQgYXNzb2NpYXRlZCB3aXRoIHRoZSB2YWx1ZS4nKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdzZXRGaWVsZHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRGaWVsZHMoZmllbGRzKSB7XG4gICAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgICB2YXIgZmllbGRzTWV0YSA9IHRoaXMuZmllbGRzTWV0YTtcbiAgICAgIHZhciBub3dGaWVsZHMgPSBfZXh0ZW5kcyh7fSwgdGhpcy5maWVsZHMsIGZpZWxkcyk7XG4gICAgICB2YXIgbm93VmFsdWVzID0ge307XG4gICAgICBPYmplY3Qua2V5cyhmaWVsZHNNZXRhKS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHJldHVybiBub3dWYWx1ZXNbZl0gPSBfdGhpcy5nZXRWYWx1ZUZyb21GaWVsZHMoZiwgbm93RmllbGRzKTtcbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmtleXMobm93VmFsdWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG5vd1ZhbHVlc1tmXTtcbiAgICAgICAgdmFyIGZpZWxkTWV0YSA9IF90aGlzLmdldEZpZWxkTWV0YShmKTtcbiAgICAgICAgaWYgKGZpZWxkTWV0YSAmJiBmaWVsZE1ldGEubm9ybWFsaXplKSB7XG4gICAgICAgICAgdmFyIG5vd1ZhbHVlID0gZmllbGRNZXRhLm5vcm1hbGl6ZSh2YWx1ZSwgX3RoaXMuZ2V0VmFsdWVGcm9tRmllbGRzKGYsIF90aGlzLmZpZWxkcyksIG5vd1ZhbHVlcyk7XG4gICAgICAgICAgaWYgKG5vd1ZhbHVlICE9PSB2YWx1ZSkge1xuICAgICAgICAgICAgbm93RmllbGRzW2ZdID0gX2V4dGVuZHMoe30sIG5vd0ZpZWxkc1tmXSwge1xuICAgICAgICAgICAgICB2YWx1ZTogbm93VmFsdWVcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLmZpZWxkcyA9IG5vd0ZpZWxkcztcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZXNldEZpZWxkcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlc2V0RmllbGRzKG5zKSB7XG4gICAgICB2YXIgZmllbGRzID0gdGhpcy5maWVsZHM7XG5cbiAgICAgIHZhciBuYW1lcyA9IG5zID8gdGhpcy5nZXRWYWxpZEZpZWxkc0Z1bGxOYW1lKG5zKSA6IHRoaXMuZ2V0QWxsRmllbGRzTmFtZSgpO1xuICAgICAgcmV0dXJuIG5hbWVzLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBuYW1lKSB7XG4gICAgICAgIHZhciBmaWVsZCA9IGZpZWxkc1tuYW1lXTtcbiAgICAgICAgaWYgKGZpZWxkICYmICd2YWx1ZScgaW4gZmllbGQpIHtcbiAgICAgICAgICBhY2NbbmFtZV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3NldEZpZWxkTWV0YScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHNldEZpZWxkTWV0YShuYW1lLCBtZXRhKSB7XG4gICAgICB0aGlzLmZpZWxkc01ldGFbbmFtZV0gPSBtZXRhO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEZpZWxkTWV0YScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpZWxkTWV0YShuYW1lKSB7XG4gICAgICB0aGlzLmZpZWxkc01ldGFbbmFtZV0gPSB0aGlzLmZpZWxkc01ldGFbbmFtZV0gfHwge307XG4gICAgICByZXR1cm4gdGhpcy5maWVsZHNNZXRhW25hbWVdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldFZhbHVlRnJvbUZpZWxkcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZhbHVlRnJvbUZpZWxkcyhuYW1lLCBmaWVsZHMpIHtcbiAgICAgIHZhciBmaWVsZCA9IGZpZWxkc1tuYW1lXTtcbiAgICAgIGlmIChmaWVsZCAmJiAndmFsdWUnIGluIGZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZC52YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBmaWVsZE1ldGEgPSB0aGlzLmdldEZpZWxkTWV0YShuYW1lKTtcbiAgICAgIHJldHVybiBmaWVsZE1ldGEgJiYgZmllbGRNZXRhLmluaXRpYWxWYWx1ZTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRWYWxpZEZpZWxkc05hbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWYWxpZEZpZWxkc05hbWUoKSB7XG4gICAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgICAgdmFyIGZpZWxkc01ldGEgPSB0aGlzLmZpZWxkc01ldGE7XG5cbiAgICAgIHJldHVybiBmaWVsZHNNZXRhID8gT2JqZWN0LmtleXMoZmllbGRzTWV0YSkuZmlsdGVyKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiAhX3RoaXMyLmdldEZpZWxkTWV0YShuYW1lKS5oaWRkZW47XG4gICAgICB9KSA6IFtdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEFsbEZpZWxkc05hbWUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRBbGxGaWVsZHNOYW1lKCkge1xuICAgICAgdmFyIGZpZWxkc01ldGEgPSB0aGlzLmZpZWxkc01ldGE7XG5cbiAgICAgIHJldHVybiBmaWVsZHNNZXRhID8gT2JqZWN0LmtleXMoZmllbGRzTWV0YSkgOiBbXTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXRWYWxpZEZpZWxkc0Z1bGxOYW1lJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsaWRGaWVsZHNGdWxsTmFtZShtYXliZVBhcnRpYWxOYW1lKSB7XG4gICAgICB2YXIgbWF5YmVQYXJ0aWFsTmFtZXMgPSBBcnJheS5pc0FycmF5KG1heWJlUGFydGlhbE5hbWUpID8gbWF5YmVQYXJ0aWFsTmFtZSA6IFttYXliZVBhcnRpYWxOYW1lXTtcbiAgICAgIHJldHVybiB0aGlzLmdldFZhbGlkRmllbGRzTmFtZSgpLmZpbHRlcihmdW5jdGlvbiAoZnVsbE5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG1heWJlUGFydGlhbE5hbWVzLnNvbWUoZnVuY3Rpb24gKHBhcnRpYWxOYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIGZ1bGxOYW1lID09PSBwYXJ0aWFsTmFtZSB8fCBzdGFydHNXaXRoKGZ1bGxOYW1lLCBwYXJ0aWFsTmFtZSkgJiYgWycuJywgJ1snXS5pbmRleE9mKGZ1bGxOYW1lW3BhcnRpYWxOYW1lLmxlbmd0aF0pID49IDA7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0RmllbGRWYWx1ZVByb3BWYWx1ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldEZpZWxkVmFsdWVQcm9wVmFsdWUoZmllbGRNZXRhKSB7XG4gICAgICB2YXIgbmFtZSA9IGZpZWxkTWV0YS5uYW1lLFxuICAgICAgICAgIGdldFZhbHVlUHJvcHMgPSBmaWVsZE1ldGEuZ2V0VmFsdWVQcm9wcyxcbiAgICAgICAgICB2YWx1ZVByb3BOYW1lID0gZmllbGRNZXRhLnZhbHVlUHJvcE5hbWU7XG5cbiAgICAgIHZhciBmaWVsZCA9IHRoaXMuZ2V0RmllbGQobmFtZSk7XG4gICAgICB2YXIgZmllbGRWYWx1ZSA9ICd2YWx1ZScgaW4gZmllbGQgPyBmaWVsZC52YWx1ZSA6IGZpZWxkTWV0YS5pbml0aWFsVmFsdWU7XG4gICAgICBpZiAoZ2V0VmFsdWVQcm9wcykge1xuICAgICAgICByZXR1cm4gZ2V0VmFsdWVQcm9wcyhmaWVsZFZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe30sIHZhbHVlUHJvcE5hbWUsIGZpZWxkVmFsdWUpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEZpZWxkJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RmllbGQobmFtZSkge1xuICAgICAgcmV0dXJuIF9leHRlbmRzKHt9LCB0aGlzLmZpZWxkc1tuYW1lXSwge1xuICAgICAgICBuYW1lOiBuYW1lXG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXROb3RDb2xsZWN0ZWRGaWVsZHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXROb3RDb2xsZWN0ZWRGaWVsZHMoKSB7XG4gICAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgICAgcmV0dXJuIHRoaXMuZ2V0VmFsaWRGaWVsZHNOYW1lKCkuZmlsdGVyKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIHJldHVybiAhX3RoaXMzLmZpZWxkc1tuYW1lXTtcbiAgICAgIH0pLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgZGlydHk6IGZhbHNlLFxuICAgICAgICAgIHZhbHVlOiBfdGhpczMuZ2V0RmllbGRNZXRhKG5hbWUpLmluaXRpYWxWYWx1ZVxuICAgICAgICB9O1xuICAgICAgfSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGZpZWxkKSB7XG4gICAgICAgIHJldHVybiBzZXQoYWNjLCBmaWVsZC5uYW1lLCBjcmVhdGVGb3JtRmllbGQoZmllbGQpKTtcbiAgICAgIH0sIHt9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdnZXROZXN0ZWRBbGxGaWVsZHMnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXROZXN0ZWRBbGxGaWVsZHMoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuZmllbGRzKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywgbmFtZSkge1xuICAgICAgICByZXR1cm4gc2V0KGFjYywgbmFtZSwgY3JlYXRlRm9ybUZpZWxkKF90aGlzNC5maWVsZHNbbmFtZV0pKTtcbiAgICAgIH0sIHRoaXMuZ2V0Tm90Q29sbGVjdGVkRmllbGRzKCkpO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldEZpZWxkTWVtYmVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RmllbGRNZW1iZXIobmFtZSwgbWVtYmVyKSB7XG4gICAgICByZXR1cm4gdGhpcy5nZXRGaWVsZChuYW1lKVttZW1iZXJdO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2dldE5lc3RlZEZpZWxkcycsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGdldE5lc3RlZEZpZWxkcyhuYW1lcywgZ2V0dGVyKSB7XG4gICAgICB2YXIgZmllbGRzID0gbmFtZXMgfHwgdGhpcy5nZXRWYWxpZEZpZWxkc05hbWUoKTtcbiAgICAgIHJldHVybiBmaWVsZHMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGYpIHtcbiAgICAgICAgcmV0dXJuIHNldChhY2MsIGYsIGdldHRlcihmKSk7XG4gICAgICB9LCB7fSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnZ2V0TmVzdGVkRmllbGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBnZXROZXN0ZWRGaWVsZChuYW1lLCBnZXR0ZXIpIHtcbiAgICAgIHZhciBmdWxsTmFtZXMgPSB0aGlzLmdldFZhbGlkRmllbGRzRnVsbE5hbWUobmFtZSk7XG4gICAgICBpZiAoZnVsbE5hbWVzLmxlbmd0aCA9PT0gMCB8fCAvLyBOb3QgcmVnaXN0ZXJlZFxuICAgICAgZnVsbE5hbWVzLmxlbmd0aCA9PT0gMSAmJiBmdWxsTmFtZXNbMF0gPT09IG5hbWUgLy8gTmFtZSBhbHJlYWR5IGlzIGZ1bGwgbmFtZS5cbiAgICAgICkge1xuICAgICAgICAgIHJldHVybiBnZXR0ZXIobmFtZSk7XG4gICAgICAgIH1cbiAgICAgIHZhciBpc0FycmF5VmFsdWUgPSBmdWxsTmFtZXNbMF1bbmFtZS5sZW5ndGhdID09PSAnWyc7XG4gICAgICB2YXIgc3VmZml4TmFtZVN0YXJ0SW5kZXggPSBpc0FycmF5VmFsdWUgPyBuYW1lLmxlbmd0aCA6IG5hbWUubGVuZ3RoICsgMTtcbiAgICAgIHJldHVybiBmdWxsTmFtZXMucmVkdWNlKGZ1bmN0aW9uIChhY2MsIGZ1bGxOYW1lKSB7XG4gICAgICAgIHJldHVybiBzZXQoYWNjLCBmdWxsTmFtZS5zbGljZShzdWZmaXhOYW1lU3RhcnRJbmRleCksIGdldHRlcihmdWxsTmFtZSkpO1xuICAgICAgfSwgaXNBcnJheVZhbHVlID8gW10gOiB7fSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnaXNWYWxpZE5lc3RlZEZpZWxkTmFtZScsXG5cblxuICAgIC8vIEBwcml2YXRlXG4gICAgLy8gQkc6IGBhYCBhbmQgYGEuYmAgY2Fubm90IGJlIHVzZSBpbiB0aGUgc2FtZSBmb3JtXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzVmFsaWROZXN0ZWRGaWVsZE5hbWUobmFtZSkge1xuICAgICAgdmFyIG5hbWVzID0gdGhpcy5nZXRBbGxGaWVsZHNOYW1lKCk7XG4gICAgICByZXR1cm4gbmFtZXMuZXZlcnkoZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgcmV0dXJuICFwYXJ0T2YobiwgbmFtZSkgJiYgIXBhcnRPZihuYW1lLCBuKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NsZWFyRmllbGQnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjbGVhckZpZWxkKG5hbWUpIHtcbiAgICAgIGRlbGV0ZSB0aGlzLmZpZWxkc1tuYW1lXTtcbiAgICAgIGRlbGV0ZSB0aGlzLmZpZWxkc01ldGFbbmFtZV07XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIEZpZWxkc1N0b3JlO1xufSgpO1xuXG52YXIgX2luaXRpYWxpc2VQcm9wcyA9IGZ1bmN0aW9uIF9pbml0aWFsaXNlUHJvcHMoKSB7XG4gIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gIHRoaXMuc2V0RmllbGRzSW5pdGlhbFZhbHVlID0gZnVuY3Rpb24gKGluaXRpYWxWYWx1ZXMpIHtcbiAgICB2YXIgZmxhdHRlbmVkSW5pdGlhbFZhbHVlcyA9IF90aGlzNS5mbGF0dGVuUmVnaXN0ZXJlZEZpZWxkcyhpbml0aWFsVmFsdWVzKTtcbiAgICB2YXIgZmllbGRzTWV0YSA9IF90aGlzNS5maWVsZHNNZXRhO1xuICAgIE9iamVjdC5rZXlzKGZsYXR0ZW5lZEluaXRpYWxWYWx1ZXMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIGlmIChmaWVsZHNNZXRhW25hbWVdKSB7XG4gICAgICAgIF90aGlzNS5zZXRGaWVsZE1ldGEobmFtZSwgX2V4dGVuZHMoe30sIF90aGlzNS5nZXRGaWVsZE1ldGEobmFtZSksIHtcbiAgICAgICAgICBpbml0aWFsVmFsdWU6IGZsYXR0ZW5lZEluaXRpYWxWYWx1ZXNbbmFtZV1cbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0QWxsVmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBmaWVsZHNNZXRhID0gX3RoaXM1LmZpZWxkc01ldGEsXG4gICAgICAgIGZpZWxkcyA9IF90aGlzNS5maWVsZHM7XG5cbiAgICByZXR1cm4gT2JqZWN0LmtleXMoZmllbGRzTWV0YSkucmVkdWNlKGZ1bmN0aW9uIChhY2MsIG5hbWUpIHtcbiAgICAgIHJldHVybiBzZXQoYWNjLCBuYW1lLCBfdGhpczUuZ2V0VmFsdWVGcm9tRmllbGRzKG5hbWUsIGZpZWxkcykpO1xuICAgIH0sIHt9KTtcbiAgfTtcblxuICB0aGlzLmdldEZpZWxkc1ZhbHVlID0gZnVuY3Rpb24gKG5hbWVzKSB7XG4gICAgcmV0dXJuIF90aGlzNS5nZXROZXN0ZWRGaWVsZHMobmFtZXMsIF90aGlzNS5nZXRGaWVsZFZhbHVlKTtcbiAgfTtcblxuICB0aGlzLmdldEZpZWxkVmFsdWUgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHZhciBmaWVsZHMgPSBfdGhpczUuZmllbGRzO1xuXG4gICAgcmV0dXJuIF90aGlzNS5nZXROZXN0ZWRGaWVsZChuYW1lLCBmdW5jdGlvbiAoZnVsbE5hbWUpIHtcbiAgICAgIHJldHVybiBfdGhpczUuZ2V0VmFsdWVGcm9tRmllbGRzKGZ1bGxOYW1lLCBmaWVsZHMpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuZ2V0RmllbGRzRXJyb3IgPSBmdW5jdGlvbiAobmFtZXMpIHtcbiAgICByZXR1cm4gX3RoaXM1LmdldE5lc3RlZEZpZWxkcyhuYW1lcywgX3RoaXM1LmdldEZpZWxkRXJyb3IpO1xuICB9O1xuXG4gIHRoaXMuZ2V0RmllbGRFcnJvciA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgcmV0dXJuIF90aGlzNS5nZXROZXN0ZWRGaWVsZChuYW1lLCBmdW5jdGlvbiAoZnVsbE5hbWUpIHtcbiAgICAgIHJldHVybiBnZXRFcnJvclN0cnMoX3RoaXM1LmdldEZpZWxkTWVtYmVyKGZ1bGxOYW1lLCAnZXJyb3JzJykpO1xuICAgIH0pO1xuICB9O1xuXG4gIHRoaXMuaXNGaWVsZFZhbGlkYXRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHJldHVybiBfdGhpczUuZ2V0RmllbGRNZW1iZXIobmFtZSwgJ3ZhbGlkYXRpbmcnKTtcbiAgfTtcblxuICB0aGlzLmlzRmllbGRzVmFsaWRhdGluZyA9IGZ1bmN0aW9uIChucykge1xuICAgIHZhciBuYW1lcyA9IG5zIHx8IF90aGlzNS5nZXRWYWxpZEZpZWxkc05hbWUoKTtcbiAgICByZXR1cm4gbmFtZXMuc29tZShmdW5jdGlvbiAobikge1xuICAgICAgcmV0dXJuIF90aGlzNS5pc0ZpZWxkVmFsaWRhdGluZyhuKTtcbiAgICB9KTtcbiAgfTtcblxuICB0aGlzLmlzRmllbGRUb3VjaGVkID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICByZXR1cm4gX3RoaXM1LmdldEZpZWxkTWVtYmVyKG5hbWUsICd0b3VjaGVkJyk7XG4gIH07XG5cbiAgdGhpcy5pc0ZpZWxkc1RvdWNoZWQgPSBmdW5jdGlvbiAobnMpIHtcbiAgICB2YXIgbmFtZXMgPSBucyB8fCBfdGhpczUuZ2V0VmFsaWRGaWVsZHNOYW1lKCk7XG4gICAgcmV0dXJuIG5hbWVzLnNvbWUoZnVuY3Rpb24gKG4pIHtcbiAgICAgIHJldHVybiBfdGhpczUuaXNGaWVsZFRvdWNoZWQobik7XG4gICAgfSk7XG4gIH07XG59O1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBjcmVhdGVGaWVsZHNTdG9yZShmaWVsZHMpIHtcbiAgcmV0dXJuIG5ldyBGaWVsZHNTdG9yZShmaWVsZHMpO1xufSIsImltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJztcbmltcG9ydCBfdHlwZW9mIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfdG9Db25zdW1hYmxlQXJyYXkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3RvQ29uc3VtYWJsZUFycmF5JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY3JlYXRlUmVhY3RDbGFzcyBmcm9tICdjcmVhdGUtcmVhY3QtY2xhc3MnO1xuaW1wb3J0IEFzeW5jVmFsaWRhdG9yIGZyb20gJ2FzeW5jLXZhbGlkYXRvcic7XG5pbXBvcnQgd2FybmluZyBmcm9tICd3YXJuaW5nJztcbmltcG9ydCBnZXQgZnJvbSAnbG9kYXNoL2dldCc7XG5pbXBvcnQgc2V0IGZyb20gJ2xvZGFzaC9zZXQnO1xuaW1wb3J0IGNyZWF0ZUZpZWxkc1N0b3JlIGZyb20gJy4vY3JlYXRlRmllbGRzU3RvcmUnO1xuaW1wb3J0IHsgYXJndW1lbnRDb250YWluZXIsIGlkZW50aXR5LCBub3JtYWxpemVWYWxpZGF0ZVJ1bGVzLCBnZXRWYWxpZGF0ZVRyaWdnZXJzLCBnZXRWYWx1ZUZyb21FdmVudCwgaGFzUnVsZXMsIGdldFBhcmFtcywgaXNFbXB0eU9iamVjdCwgZmxhdHRlbkFycmF5IH0gZnJvbSAnLi91dGlscyc7XG5cbnZhciBERUZBVUxUX1RSSUdHRVIgPSAnb25DaGFuZ2UnO1xuXG5mdW5jdGlvbiBjcmVhdGVCYXNlRm9ybSgpIHtcbiAgdmFyIG9wdGlvbiA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG4gIHZhciBtaXhpbnMgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IFtdO1xuICB2YXIgdmFsaWRhdGVNZXNzYWdlcyA9IG9wdGlvbi52YWxpZGF0ZU1lc3NhZ2VzLFxuICAgICAgb25GaWVsZHNDaGFuZ2UgPSBvcHRpb24ub25GaWVsZHNDaGFuZ2UsXG4gICAgICBvblZhbHVlc0NoYW5nZSA9IG9wdGlvbi5vblZhbHVlc0NoYW5nZSxcbiAgICAgIF9vcHRpb24kbWFwUHJvcHMgPSBvcHRpb24ubWFwUHJvcHMsXG4gICAgICBtYXBQcm9wcyA9IF9vcHRpb24kbWFwUHJvcHMgPT09IHVuZGVmaW5lZCA/IGlkZW50aXR5IDogX29wdGlvbiRtYXBQcm9wcyxcbiAgICAgIG1hcFByb3BzVG9GaWVsZHMgPSBvcHRpb24ubWFwUHJvcHNUb0ZpZWxkcyxcbiAgICAgIGZpZWxkTmFtZVByb3AgPSBvcHRpb24uZmllbGROYW1lUHJvcCxcbiAgICAgIGZpZWxkTWV0YVByb3AgPSBvcHRpb24uZmllbGRNZXRhUHJvcCxcbiAgICAgIGZpZWxkRGF0YVByb3AgPSBvcHRpb24uZmllbGREYXRhUHJvcCxcbiAgICAgIF9vcHRpb24kZm9ybVByb3BOYW1lID0gb3B0aW9uLmZvcm1Qcm9wTmFtZSxcbiAgICAgIGZvcm1Qcm9wTmFtZSA9IF9vcHRpb24kZm9ybVByb3BOYW1lID09PSB1bmRlZmluZWQgPyAnZm9ybScgOiBfb3B0aW9uJGZvcm1Qcm9wTmFtZSxcbiAgICAgIHdpdGhSZWYgPSBvcHRpb24ud2l0aFJlZjtcblxuXG4gIHJldHVybiBmdW5jdGlvbiBkZWNvcmF0ZShXcmFwcGVkQ29tcG9uZW50KSB7XG4gICAgdmFyIEZvcm0gPSBjcmVhdGVSZWFjdENsYXNzKHtcbiAgICAgIGRpc3BsYXlOYW1lOiAnRm9ybScsXG5cbiAgICAgIG1peGluczogbWl4aW5zLFxuXG4gICAgICBnZXRJbml0aWFsU3RhdGU6IGZ1bmN0aW9uIGdldEluaXRpYWxTdGF0ZSgpIHtcbiAgICAgICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgICAgICB2YXIgZmllbGRzID0gbWFwUHJvcHNUb0ZpZWxkcyAmJiBtYXBQcm9wc1RvRmllbGRzKHRoaXMucHJvcHMpO1xuICAgICAgICB0aGlzLmZpZWxkc1N0b3JlID0gY3JlYXRlRmllbGRzU3RvcmUoZmllbGRzIHx8IHt9KTtcblxuICAgICAgICB0aGlzLmluc3RhbmNlcyA9IHt9O1xuICAgICAgICB0aGlzLmNhY2hlZEJpbmQgPSB7fTtcbiAgICAgICAgdGhpcy5jbGVhcmVkRmllbGRNZXRhQ2FjaGUgPSB7fTtcbiAgICAgICAgLy8gSEFDSzogaHR0cHM6Ly9naXRodWIuY29tL2FudC1kZXNpZ24vYW50LWRlc2lnbi9pc3N1ZXMvNjQwNlxuICAgICAgICBbJ2dldEZpZWxkc1ZhbHVlJywgJ2dldEZpZWxkVmFsdWUnLCAnc2V0RmllbGRzSW5pdGlhbFZhbHVlJywgJ2dldEZpZWxkc0Vycm9yJywgJ2dldEZpZWxkRXJyb3InLCAnaXNGaWVsZFZhbGlkYXRpbmcnLCAnaXNGaWVsZHNWYWxpZGF0aW5nJywgJ2lzRmllbGRzVG91Y2hlZCcsICdpc0ZpZWxkVG91Y2hlZCddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIHJldHVybiBfdGhpc1trZXldID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgdmFyIF9maWVsZHNTdG9yZTtcblxuICAgICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgICAgd2FybmluZyhmYWxzZSwgJ3lvdSBzaG91bGQgbm90IHVzZSBgcmVmYCBvbiBlbmhhbmNlZCBmb3JtLCBwbGVhc2UgdXNlIGB3cmFwcGVkQ29tcG9uZW50UmVmYC4gJyArICdTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1jb21wb25lbnQvZm9ybSNub3RlLXVzZS13cmFwcGVkY29tcG9uZW50cmVmLWluc3RlYWQtb2Ytd2l0aHJlZi1hZnRlci1yYy1mb3JtMTQwJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKF9maWVsZHNTdG9yZSA9IF90aGlzLmZpZWxkc1N0b3JlKVtrZXldLmFwcGx5KF9maWVsZHNTdG9yZSwgYXJndW1lbnRzKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHN1Ym1pdHRpbmc6IGZhbHNlXG4gICAgICAgIH07XG4gICAgICB9LFxuICAgICAgY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wczogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgaWYgKG1hcFByb3BzVG9GaWVsZHMpIHtcbiAgICAgICAgICB0aGlzLmZpZWxkc1N0b3JlLnVwZGF0ZUZpZWxkcyhtYXBQcm9wc1RvRmllbGRzKG5leHRQcm9wcykpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgb25Db2xsZWN0Q29tbW9uOiBmdW5jdGlvbiBvbkNvbGxlY3RDb21tb24obmFtZSwgYWN0aW9uLCBhcmdzKSB7XG4gICAgICAgIHZhciBmaWVsZE1ldGEgPSB0aGlzLmZpZWxkc1N0b3JlLmdldEZpZWxkTWV0YShuYW1lKTtcbiAgICAgICAgaWYgKGZpZWxkTWV0YVthY3Rpb25dKSB7XG4gICAgICAgICAgZmllbGRNZXRhW2FjdGlvbl0uYXBwbHkoZmllbGRNZXRhLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpZWxkTWV0YS5vcmlnaW5hbFByb3BzICYmIGZpZWxkTWV0YS5vcmlnaW5hbFByb3BzW2FjdGlvbl0pIHtcbiAgICAgICAgICB2YXIgX2ZpZWxkTWV0YSRvcmlnaW5hbFByO1xuXG4gICAgICAgICAgKF9maWVsZE1ldGEkb3JpZ2luYWxQciA9IGZpZWxkTWV0YS5vcmlnaW5hbFByb3BzKVthY3Rpb25dLmFwcGx5KF9maWVsZE1ldGEkb3JpZ2luYWxQciwgX3RvQ29uc3VtYWJsZUFycmF5KGFyZ3MpKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWUgPSBmaWVsZE1ldGEuZ2V0VmFsdWVGcm9tRXZlbnQgPyBmaWVsZE1ldGEuZ2V0VmFsdWVGcm9tRXZlbnQuYXBwbHkoZmllbGRNZXRhLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpIDogZ2V0VmFsdWVGcm9tRXZlbnQuYXBwbHkodW5kZWZpbmVkLCBfdG9Db25zdW1hYmxlQXJyYXkoYXJncykpO1xuICAgICAgICBpZiAob25WYWx1ZXNDaGFuZ2UgJiYgdmFsdWUgIT09IHRoaXMuZmllbGRzU3RvcmUuZ2V0RmllbGRWYWx1ZShuYW1lKSkge1xuICAgICAgICAgIHZhciB2YWx1ZXNBbGwgPSB0aGlzLmZpZWxkc1N0b3JlLmdldEFsbFZhbHVlcygpO1xuICAgICAgICAgIHZhciB2YWx1ZXNBbGxTZXQgPSB7fTtcbiAgICAgICAgICB2YWx1ZXNBbGxbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgICBPYmplY3Qua2V5cyh2YWx1ZXNBbGwpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgcmV0dXJuIHNldCh2YWx1ZXNBbGxTZXQsIGtleSwgdmFsdWVzQWxsW2tleV0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIG9uVmFsdWVzQ2hhbmdlKHRoaXMucHJvcHMsIHNldCh7fSwgbmFtZSwgdmFsdWUpLCB2YWx1ZXNBbGxTZXQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGRzU3RvcmUuZ2V0RmllbGQobmFtZSk7XG4gICAgICAgIHJldHVybiB7IG5hbWU6IG5hbWUsIGZpZWxkOiBfZXh0ZW5kcyh7fSwgZmllbGQsIHsgdmFsdWU6IHZhbHVlLCB0b3VjaGVkOiB0cnVlIH0pLCBmaWVsZE1ldGE6IGZpZWxkTWV0YSB9O1xuICAgICAgfSxcbiAgICAgIG9uQ29sbGVjdDogZnVuY3Rpb24gb25Db2xsZWN0KG5hbWVfLCBhY3Rpb24pIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbiA9IGFyZ3VtZW50cy5sZW5ndGgsIGFyZ3MgPSBBcnJheShfbGVuID4gMiA/IF9sZW4gLSAyIDogMCksIF9rZXkgPSAyOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICAgICAgYXJnc1tfa2V5IC0gMl0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX29uQ29sbGVjdENvbW1vbiA9IHRoaXMub25Db2xsZWN0Q29tbW9uKG5hbWVfLCBhY3Rpb24sIGFyZ3MpLFxuICAgICAgICAgICAgbmFtZSA9IF9vbkNvbGxlY3RDb21tb24ubmFtZSxcbiAgICAgICAgICAgIGZpZWxkID0gX29uQ29sbGVjdENvbW1vbi5maWVsZCxcbiAgICAgICAgICAgIGZpZWxkTWV0YSA9IF9vbkNvbGxlY3RDb21tb24uZmllbGRNZXRhO1xuXG4gICAgICAgIHZhciB2YWxpZGF0ZSA9IGZpZWxkTWV0YS52YWxpZGF0ZTtcblxuICAgICAgICB2YXIgbmV3RmllbGQgPSBfZXh0ZW5kcyh7fSwgZmllbGQsIHtcbiAgICAgICAgICBkaXJ0eTogaGFzUnVsZXModmFsaWRhdGUpXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnNldEZpZWxkcyhfZGVmaW5lUHJvcGVydHkoe30sIG5hbWUsIG5ld0ZpZWxkKSk7XG4gICAgICB9LFxuICAgICAgb25Db2xsZWN0VmFsaWRhdGU6IGZ1bmN0aW9uIG9uQ29sbGVjdFZhbGlkYXRlKG5hbWVfLCBhY3Rpb24pIHtcbiAgICAgICAgZm9yICh2YXIgX2xlbjIgPSBhcmd1bWVudHMubGVuZ3RoLCBhcmdzID0gQXJyYXkoX2xlbjIgPiAyID8gX2xlbjIgLSAyIDogMCksIF9rZXkyID0gMjsgX2tleTIgPCBfbGVuMjsgX2tleTIrKykge1xuICAgICAgICAgIGFyZ3NbX2tleTIgLSAyXSA9IGFyZ3VtZW50c1tfa2V5Ml07XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgX29uQ29sbGVjdENvbW1vbjIgPSB0aGlzLm9uQ29sbGVjdENvbW1vbihuYW1lXywgYWN0aW9uLCBhcmdzKSxcbiAgICAgICAgICAgIGZpZWxkID0gX29uQ29sbGVjdENvbW1vbjIuZmllbGQsXG4gICAgICAgICAgICBmaWVsZE1ldGEgPSBfb25Db2xsZWN0Q29tbW9uMi5maWVsZE1ldGE7XG5cbiAgICAgICAgdmFyIG5ld0ZpZWxkID0gX2V4dGVuZHMoe30sIGZpZWxkLCB7XG4gICAgICAgICAgZGlydHk6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMudmFsaWRhdGVGaWVsZHNJbnRlcm5hbChbbmV3RmllbGRdLCB7XG4gICAgICAgICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgZmlyc3RGaWVsZHM6ICEhZmllbGRNZXRhLnZhbGlkYXRlRmlyc3RcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIGdldENhY2hlQmluZDogZnVuY3Rpb24gZ2V0Q2FjaGVCaW5kKG5hbWUsIGFjdGlvbiwgZm4pIHtcbiAgICAgICAgaWYgKCF0aGlzLmNhY2hlZEJpbmRbbmFtZV0pIHtcbiAgICAgICAgICB0aGlzLmNhY2hlZEJpbmRbbmFtZV0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgY2FjaGUgPSB0aGlzLmNhY2hlZEJpbmRbbmFtZV07XG4gICAgICAgIGlmICghY2FjaGVbYWN0aW9uXSkge1xuICAgICAgICAgIGNhY2hlW2FjdGlvbl0gPSBmbi5iaW5kKHRoaXMsIG5hbWUsIGFjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhY2hlW2FjdGlvbl07XG4gICAgICB9LFxuICAgICAgcmVjb3ZlckNsZWFyZWRGaWVsZDogZnVuY3Rpb24gcmVjb3ZlckNsZWFyZWRGaWVsZChuYW1lKSB7XG4gICAgICAgIGlmICh0aGlzLmNsZWFyZWRGaWVsZE1ldGFDYWNoZVtuYW1lXSkge1xuICAgICAgICAgIHRoaXMuZmllbGRzU3RvcmUuc2V0RmllbGRzKF9kZWZpbmVQcm9wZXJ0eSh7fSwgbmFtZSwgdGhpcy5jbGVhcmVkRmllbGRNZXRhQ2FjaGVbbmFtZV0uZmllbGQpKTtcbiAgICAgICAgICB0aGlzLmZpZWxkc1N0b3JlLnNldEZpZWxkTWV0YShuYW1lLCB0aGlzLmNsZWFyZWRGaWVsZE1ldGFDYWNoZVtuYW1lXS5tZXRhKTtcbiAgICAgICAgICBkZWxldGUgdGhpcy5jbGVhcmVkRmllbGRNZXRhQ2FjaGVbbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBnZXRGaWVsZERlY29yYXRvcjogZnVuY3Rpb24gZ2V0RmllbGREZWNvcmF0b3IobmFtZSwgZmllbGRPcHRpb24pIHtcbiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHByb3BzID0gdGhpcy5nZXRGaWVsZFByb3BzKG5hbWUsIGZpZWxkT3B0aW9uKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChmaWVsZEVsZW0pIHtcbiAgICAgICAgICB2YXIgZmllbGRNZXRhID0gX3RoaXMyLmZpZWxkc1N0b3JlLmdldEZpZWxkTWV0YShuYW1lKTtcbiAgICAgICAgICB2YXIgb3JpZ2luYWxQcm9wcyA9IGZpZWxkRWxlbS5wcm9wcztcbiAgICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgICAgdmFyIHZhbHVlUHJvcE5hbWUgPSBmaWVsZE1ldGEudmFsdWVQcm9wTmFtZTtcbiAgICAgICAgICAgIHdhcm5pbmcoISh2YWx1ZVByb3BOYW1lIGluIG9yaWdpbmFsUHJvcHMpLCAnYGdldEZpZWxkRGVjb3JhdG9yYCB3aWxsIG92ZXJyaWRlIGAnICsgdmFsdWVQcm9wTmFtZSArICdgLCAnICsgKCdzbyBwbGVhc2UgZG9uXFwndCBzZXQgYCcgKyB2YWx1ZVByb3BOYW1lICsgJ2AgZGlyZWN0bHkgJykgKyAnYW5kIHVzZSBgc2V0RmllbGRzVmFsdWVgIHRvIHNldCBpdC4nKTtcbiAgICAgICAgICAgIHZhciBkZWZhdWx0VmFsdWVQcm9wTmFtZSA9ICdkZWZhdWx0JyArIHZhbHVlUHJvcE5hbWVbMF0udG9VcHBlckNhc2UoKSArIHZhbHVlUHJvcE5hbWUuc2xpY2UoMSk7XG4gICAgICAgICAgICB3YXJuaW5nKCEoZGVmYXVsdFZhbHVlUHJvcE5hbWUgaW4gb3JpZ2luYWxQcm9wcyksICdgJyArIGRlZmF1bHRWYWx1ZVByb3BOYW1lICsgJ2AgaXMgaW52YWxpZCAnICsgKCdmb3IgYGdldEZpZWxkRGVjb3JhdG9yYCB3aWxsIHNldCBgJyArIHZhbHVlUHJvcE5hbWUgKyAnYCwnKSArICcgcGxlYXNlIHVzZSBgb3B0aW9uLmluaXRpYWxWYWx1ZWAgaW5zdGVhZC4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGRNZXRhLm9yaWdpbmFsUHJvcHMgPSBvcmlnaW5hbFByb3BzO1xuICAgICAgICAgIGZpZWxkTWV0YS5yZWYgPSBmaWVsZEVsZW0ucmVmO1xuICAgICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoZmllbGRFbGVtLCBfZXh0ZW5kcyh7fSwgcHJvcHMsIF90aGlzMi5maWVsZHNTdG9yZS5nZXRGaWVsZFZhbHVlUHJvcFZhbHVlKGZpZWxkTWV0YSkpKTtcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICBnZXRGaWVsZFByb3BzOiBmdW5jdGlvbiBnZXRGaWVsZFByb3BzKG5hbWUpIHtcbiAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICAgICAgdmFyIHVzZXJzRmllbGRPcHRpb24gPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IHt9O1xuXG4gICAgICAgIGlmICghbmFtZSkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTXVzdCBjYWxsIGBnZXRGaWVsZFByb3BzYCB3aXRoIHZhbGlkIG5hbWUgc3RyaW5nIScpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgICAgICAgd2FybmluZyh0aGlzLmZpZWxkc1N0b3JlLmlzVmFsaWROZXN0ZWRGaWVsZE5hbWUobmFtZSksICdPbmUgZmllbGQgbmFtZSBjYW5ub3QgYmUgcGFydCBvZiBhbm90aGVyLCBlLmcuIGBhYCBhbmQgYGEuYmAuJyk7XG4gICAgICAgICAgd2FybmluZyghKCdleGNsdXNpdmUnIGluIHVzZXJzRmllbGRPcHRpb24pLCAnYG9wdGlvbi5leGNsdXNpdmVgIG9mIGBnZXRGaWVsZFByb3BzYHxgZ2V0RmllbGREZWNvcmF0b3JgIGhhZCBiZWVuIHJlbW92ZS4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSB0aGlzLmNsZWFyZWRGaWVsZE1ldGFDYWNoZVtuYW1lXTtcblxuICAgICAgICB2YXIgZmllbGRPcHRpb24gPSBfZXh0ZW5kcyh7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICB0cmlnZ2VyOiBERUZBVUxUX1RSSUdHRVIsXG4gICAgICAgICAgdmFsdWVQcm9wTmFtZTogJ3ZhbHVlJyxcbiAgICAgICAgICB2YWxpZGF0ZTogW11cbiAgICAgICAgfSwgdXNlcnNGaWVsZE9wdGlvbik7XG5cbiAgICAgICAgdmFyIHJ1bGVzID0gZmllbGRPcHRpb24ucnVsZXMsXG4gICAgICAgICAgICB0cmlnZ2VyID0gZmllbGRPcHRpb24udHJpZ2dlcixcbiAgICAgICAgICAgIF9maWVsZE9wdGlvbiR2YWxpZGF0ZSA9IGZpZWxkT3B0aW9uLnZhbGlkYXRlVHJpZ2dlcixcbiAgICAgICAgICAgIHZhbGlkYXRlVHJpZ2dlciA9IF9maWVsZE9wdGlvbiR2YWxpZGF0ZSA9PT0gdW5kZWZpbmVkID8gdHJpZ2dlciA6IF9maWVsZE9wdGlvbiR2YWxpZGF0ZSxcbiAgICAgICAgICAgIHZhbGlkYXRlID0gZmllbGRPcHRpb24udmFsaWRhdGU7XG5cblxuICAgICAgICB2YXIgZmllbGRNZXRhID0gdGhpcy5maWVsZHNTdG9yZS5nZXRGaWVsZE1ldGEobmFtZSk7XG4gICAgICAgIGlmICgnaW5pdGlhbFZhbHVlJyBpbiBmaWVsZE9wdGlvbikge1xuICAgICAgICAgIGZpZWxkTWV0YS5pbml0aWFsVmFsdWUgPSBmaWVsZE9wdGlvbi5pbml0aWFsVmFsdWU7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgaW5wdXRQcm9wcyA9IF9leHRlbmRzKHt9LCB0aGlzLmZpZWxkc1N0b3JlLmdldEZpZWxkVmFsdWVQcm9wVmFsdWUoZmllbGRPcHRpb24pLCB7XG4gICAgICAgICAgcmVmOiB0aGlzLmdldENhY2hlQmluZChuYW1lLCBuYW1lICsgJ19fcmVmJywgdGhpcy5zYXZlUmVmKVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZpZWxkTmFtZVByb3ApIHtcbiAgICAgICAgICBpbnB1dFByb3BzW2ZpZWxkTmFtZVByb3BdID0gbmFtZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciB2YWxpZGF0ZVJ1bGVzID0gbm9ybWFsaXplVmFsaWRhdGVSdWxlcyh2YWxpZGF0ZSwgcnVsZXMsIHZhbGlkYXRlVHJpZ2dlcik7XG4gICAgICAgIHZhciB2YWxpZGF0ZVRyaWdnZXJzID0gZ2V0VmFsaWRhdGVUcmlnZ2Vycyh2YWxpZGF0ZVJ1bGVzKTtcbiAgICAgICAgdmFsaWRhdGVUcmlnZ2Vycy5mb3JFYWNoKGZ1bmN0aW9uIChhY3Rpb24pIHtcbiAgICAgICAgICBpZiAoaW5wdXRQcm9wc1thY3Rpb25dKSByZXR1cm47XG4gICAgICAgICAgaW5wdXRQcm9wc1thY3Rpb25dID0gX3RoaXMzLmdldENhY2hlQmluZChuYW1lLCBhY3Rpb24sIF90aGlzMy5vbkNvbGxlY3RWYWxpZGF0ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIG1ha2Ugc3VyZSB0aGF0IHRoZSB2YWx1ZSB3aWxsIGJlIGNvbGxlY3RcbiAgICAgICAgaWYgKHRyaWdnZXIgJiYgdmFsaWRhdGVUcmlnZ2Vycy5pbmRleE9mKHRyaWdnZXIpID09PSAtMSkge1xuICAgICAgICAgIGlucHV0UHJvcHNbdHJpZ2dlcl0gPSB0aGlzLmdldENhY2hlQmluZChuYW1lLCB0cmlnZ2VyLCB0aGlzLm9uQ29sbGVjdCk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWV0YSA9IF9leHRlbmRzKHt9LCBmaWVsZE1ldGEsIGZpZWxkT3B0aW9uLCB7XG4gICAgICAgICAgdmFsaWRhdGU6IHZhbGlkYXRlUnVsZXNcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZmllbGRzU3RvcmUuc2V0RmllbGRNZXRhKG5hbWUsIG1ldGEpO1xuICAgICAgICBpZiAoZmllbGRNZXRhUHJvcCkge1xuICAgICAgICAgIGlucHV0UHJvcHNbZmllbGRNZXRhUHJvcF0gPSBtZXRhO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpZWxkRGF0YVByb3ApIHtcbiAgICAgICAgICBpbnB1dFByb3BzW2ZpZWxkRGF0YVByb3BdID0gdGhpcy5maWVsZHNTdG9yZS5nZXRGaWVsZChuYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBpbnB1dFByb3BzO1xuICAgICAgfSxcbiAgICAgIGdldEZpZWxkSW5zdGFuY2U6IGZ1bmN0aW9uIGdldEZpZWxkSW5zdGFuY2UobmFtZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZXNbbmFtZV07XG4gICAgICB9LFxuICAgICAgZ2V0UnVsZXM6IGZ1bmN0aW9uIGdldFJ1bGVzKGZpZWxkTWV0YSwgYWN0aW9uKSB7XG4gICAgICAgIHZhciBhY3Rpb25SdWxlcyA9IGZpZWxkTWV0YS52YWxpZGF0ZS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICByZXR1cm4gIWFjdGlvbiB8fCBpdGVtLnRyaWdnZXIuaW5kZXhPZihhY3Rpb24pID49IDA7XG4gICAgICAgIH0pLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgIHJldHVybiBpdGVtLnJ1bGVzO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGZsYXR0ZW5BcnJheShhY3Rpb25SdWxlcyk7XG4gICAgICB9LFxuICAgICAgc2V0RmllbGRzOiBmdW5jdGlvbiBzZXRGaWVsZHMobWF5YmVOZXN0ZWRGaWVsZHMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBfdGhpczQgPSB0aGlzO1xuXG4gICAgICAgIHZhciBmaWVsZHMgPSB0aGlzLmZpZWxkc1N0b3JlLmZsYXR0ZW5SZWdpc3RlcmVkRmllbGRzKG1heWJlTmVzdGVkRmllbGRzKTtcbiAgICAgICAgdGhpcy5maWVsZHNTdG9yZS5zZXRGaWVsZHMoZmllbGRzKTtcbiAgICAgICAgaWYgKG9uRmllbGRzQ2hhbmdlKSB7XG4gICAgICAgICAgdmFyIGNoYW5nZWRGaWVsZHMgPSBPYmplY3Qua2V5cyhmaWVsZHMpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gc2V0KGFjYywgbmFtZSwgX3RoaXM0LmZpZWxkc1N0b3JlLmdldEZpZWxkKG5hbWUpKTtcbiAgICAgICAgICB9LCB7fSk7XG4gICAgICAgICAgb25GaWVsZHNDaGFuZ2UodGhpcy5wcm9wcywgY2hhbmdlZEZpZWxkcywgdGhpcy5maWVsZHNTdG9yZS5nZXROZXN0ZWRBbGxGaWVsZHMoKSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mb3JjZVVwZGF0ZShjYWxsYmFjayk7XG4gICAgICB9LFxuICAgICAgcmVzZXRGaWVsZHM6IGZ1bmN0aW9uIHJlc2V0RmllbGRzKG5zKSB7XG4gICAgICAgIHZhciBfdGhpczUgPSB0aGlzO1xuXG4gICAgICAgIHZhciBuZXdGaWVsZHMgPSB0aGlzLmZpZWxkc1N0b3JlLnJlc2V0RmllbGRzKG5zKTtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKG5ld0ZpZWxkcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgIHRoaXMuc2V0RmllbGRzKG5ld0ZpZWxkcyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5zKSB7XG4gICAgICAgICAgdmFyIG5hbWVzID0gQXJyYXkuaXNBcnJheShucykgPyBucyA6IFtuc107XG4gICAgICAgICAgbmFtZXMuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIGRlbGV0ZSBfdGhpczUuY2xlYXJlZEZpZWxkTWV0YUNhY2hlW25hbWVdO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuY2xlYXJlZEZpZWxkTWV0YUNhY2hlID0ge307XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzZXRGaWVsZHNWYWx1ZTogZnVuY3Rpb24gc2V0RmllbGRzVmFsdWUoY2hhbmdlZFZhbHVlcywgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIGZpZWxkc01ldGEgPSB0aGlzLmZpZWxkc1N0b3JlLmZpZWxkc01ldGE7XG5cbiAgICAgICAgdmFyIHZhbHVlcyA9IHRoaXMuZmllbGRzU3RvcmUuZmxhdHRlblJlZ2lzdGVyZWRGaWVsZHMoY2hhbmdlZFZhbHVlcyk7XG4gICAgICAgIHZhciBuZXdGaWVsZHMgPSBPYmplY3Qua2V5cyh2YWx1ZXMpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBuYW1lKSB7XG4gICAgICAgICAgdmFyIGlzUmVnaXN0ZXJlZCA9IGZpZWxkc01ldGFbbmFtZV07XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICAgIHdhcm5pbmcoaXNSZWdpc3RlcmVkLCAnQ2Fubm90IHVzZSBgc2V0RmllbGRzVmFsdWVgIHVudGlsICcgKyAneW91IHVzZSBgZ2V0RmllbGREZWNvcmF0b3JgIG9yIGBnZXRGaWVsZFByb3BzYCB0byByZWdpc3RlciBpdC4nKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzUmVnaXN0ZXJlZCkge1xuICAgICAgICAgICAgdmFyIHZhbHVlID0gdmFsdWVzW25hbWVdO1xuICAgICAgICAgICAgYWNjW25hbWVdID0ge1xuICAgICAgICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgdGhpcy5zZXRGaWVsZHMobmV3RmllbGRzLCBjYWxsYmFjayk7XG4gICAgICAgIGlmIChvblZhbHVlc0NoYW5nZSkge1xuICAgICAgICAgIHZhciBhbGxWYWx1ZXMgPSB0aGlzLmZpZWxkc1N0b3JlLmdldEFsbFZhbHVlcygpO1xuICAgICAgICAgIG9uVmFsdWVzQ2hhbmdlKHRoaXMucHJvcHMsIGNoYW5nZWRWYWx1ZXMsIGFsbFZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBzYXZlUmVmOiBmdW5jdGlvbiBzYXZlUmVmKG5hbWUsIF8sIGNvbXBvbmVudCkge1xuICAgICAgICBpZiAoIWNvbXBvbmVudCkge1xuICAgICAgICAgIC8vIGFmdGVyIGRlc3Ryb3ksIGRlbGV0ZSBkYXRhXG4gICAgICAgICAgdGhpcy5jbGVhcmVkRmllbGRNZXRhQ2FjaGVbbmFtZV0gPSB7XG4gICAgICAgICAgICBmaWVsZDogdGhpcy5maWVsZHNTdG9yZS5nZXRGaWVsZChuYW1lKSxcbiAgICAgICAgICAgIG1ldGE6IHRoaXMuZmllbGRzU3RvcmUuZ2V0RmllbGRNZXRhKG5hbWUpXG4gICAgICAgICAgfTtcbiAgICAgICAgICB0aGlzLmZpZWxkc1N0b3JlLmNsZWFyRmllbGQobmFtZSk7XG4gICAgICAgICAgZGVsZXRlIHRoaXMuaW5zdGFuY2VzW25hbWVdO1xuICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhY2hlZEJpbmRbbmFtZV07XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVjb3ZlckNsZWFyZWRGaWVsZChuYW1lKTtcbiAgICAgICAgdmFyIGZpZWxkTWV0YSA9IHRoaXMuZmllbGRzU3RvcmUuZ2V0RmllbGRNZXRhKG5hbWUpO1xuICAgICAgICBpZiAoZmllbGRNZXRhKSB7XG4gICAgICAgICAgdmFyIHJlZiA9IGZpZWxkTWV0YS5yZWY7XG4gICAgICAgICAgaWYgKHJlZikge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiByZWYgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuIG5vdCBzZXQgcmVmIHN0cmluZyBmb3IgJyArIG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmVmKGNvbXBvbmVudCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5zdGFuY2VzW25hbWVdID0gY29tcG9uZW50O1xuICAgICAgfSxcbiAgICAgIHZhbGlkYXRlRmllbGRzSW50ZXJuYWw6IGZ1bmN0aW9uIHZhbGlkYXRlRmllbGRzSW50ZXJuYWwoZmllbGRzLCBfcmVmLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXM2ID0gdGhpcztcblxuICAgICAgICB2YXIgZmllbGROYW1lcyA9IF9yZWYuZmllbGROYW1lcyxcbiAgICAgICAgICAgIGFjdGlvbiA9IF9yZWYuYWN0aW9uLFxuICAgICAgICAgICAgX3JlZiRvcHRpb25zID0gX3JlZi5vcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9ucyA9IF9yZWYkb3B0aW9ucyA9PT0gdW5kZWZpbmVkID8ge30gOiBfcmVmJG9wdGlvbnM7XG5cbiAgICAgICAgdmFyIGFsbFJ1bGVzID0ge307XG4gICAgICAgIHZhciBhbGxWYWx1ZXMgPSB7fTtcbiAgICAgICAgdmFyIGFsbEZpZWxkcyA9IHt9O1xuICAgICAgICB2YXIgYWxyZWFkeUVycm9ycyA9IHt9O1xuICAgICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgICAgICB2YXIgbmFtZSA9IGZpZWxkLm5hbWU7XG4gICAgICAgICAgaWYgKG9wdGlvbnMuZm9yY2UgIT09IHRydWUgJiYgZmllbGQuZGlydHkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoZmllbGQuZXJyb3JzKSB7XG4gICAgICAgICAgICAgIHNldChhbHJlYWR5RXJyb3JzLCBuYW1lLCB7IGVycm9yczogZmllbGQuZXJyb3JzIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZmllbGRNZXRhID0gX3RoaXM2LmZpZWxkc1N0b3JlLmdldEZpZWxkTWV0YShuYW1lKTtcbiAgICAgICAgICB2YXIgbmV3RmllbGQgPSBfZXh0ZW5kcyh7fSwgZmllbGQpO1xuICAgICAgICAgIG5ld0ZpZWxkLmVycm9ycyA9IHVuZGVmaW5lZDtcbiAgICAgICAgICBuZXdGaWVsZC52YWxpZGF0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBuZXdGaWVsZC5kaXJ0eSA9IHRydWU7XG4gICAgICAgICAgYWxsUnVsZXNbbmFtZV0gPSBfdGhpczYuZ2V0UnVsZXMoZmllbGRNZXRhLCBhY3Rpb24pO1xuICAgICAgICAgIGFsbFZhbHVlc1tuYW1lXSA9IG5ld0ZpZWxkLnZhbHVlO1xuICAgICAgICAgIGFsbEZpZWxkc1tuYW1lXSA9IG5ld0ZpZWxkO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRGaWVsZHMoYWxsRmllbGRzKTtcbiAgICAgICAgLy8gaW4gY2FzZSBub3JtYWxpemVcbiAgICAgICAgT2JqZWN0LmtleXMoYWxsVmFsdWVzKS5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XG4gICAgICAgICAgYWxsVmFsdWVzW2ZdID0gX3RoaXM2LmZpZWxkc1N0b3JlLmdldEZpZWxkVmFsdWUoZik7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY2FsbGJhY2sgJiYgaXNFbXB0eU9iamVjdChhbGxGaWVsZHMpKSB7XG4gICAgICAgICAgY2FsbGJhY2soaXNFbXB0eU9iamVjdChhbHJlYWR5RXJyb3JzKSA/IG51bGwgOiBhbHJlYWR5RXJyb3JzLCB0aGlzLmZpZWxkc1N0b3JlLmdldEZpZWxkc1ZhbHVlKGZpZWxkTmFtZXMpKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbGlkYXRvciA9IG5ldyBBc3luY1ZhbGlkYXRvcihhbGxSdWxlcyk7XG4gICAgICAgIGlmICh2YWxpZGF0ZU1lc3NhZ2VzKSB7XG4gICAgICAgICAgdmFsaWRhdG9yLm1lc3NhZ2VzKHZhbGlkYXRlTWVzc2FnZXMpO1xuICAgICAgICB9XG4gICAgICAgIHZhbGlkYXRvci52YWxpZGF0ZShhbGxWYWx1ZXMsIG9wdGlvbnMsIGZ1bmN0aW9uIChlcnJvcnMpIHtcbiAgICAgICAgICB2YXIgZXJyb3JzR3JvdXAgPSBfZXh0ZW5kcyh7fSwgYWxyZWFkeUVycm9ycyk7XG4gICAgICAgICAgaWYgKGVycm9ycyAmJiBlcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICBlcnJvcnMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICB2YXIgZmllbGROYW1lID0gZS5maWVsZDtcbiAgICAgICAgICAgICAgdmFyIGZpZWxkID0gZ2V0KGVycm9yc0dyb3VwLCBmaWVsZE5hbWUpO1xuICAgICAgICAgICAgICBpZiAoKHR5cGVvZiBmaWVsZCA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YoZmllbGQpKSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShmaWVsZCkpIHtcbiAgICAgICAgICAgICAgICBzZXQoZXJyb3JzR3JvdXAsIGZpZWxkTmFtZSwgeyBlcnJvcnM6IFtdIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHZhciBmaWVsZEVycm9ycyA9IGdldChlcnJvcnNHcm91cCwgZmllbGROYW1lLmNvbmNhdCgnLmVycm9ycycpKTtcbiAgICAgICAgICAgICAgZmllbGRFcnJvcnMucHVzaChlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgZXhwaXJlZCA9IFtdO1xuICAgICAgICAgIHZhciBub3dBbGxGaWVsZHMgPSB7fTtcbiAgICAgICAgICBPYmplY3Qua2V5cyhhbGxSdWxlcykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICAgICAgdmFyIGZpZWxkRXJyb3JzID0gZ2V0KGVycm9yc0dyb3VwLCBuYW1lKTtcbiAgICAgICAgICAgIHZhciBub3dGaWVsZCA9IF90aGlzNi5maWVsZHNTdG9yZS5nZXRGaWVsZChuYW1lKTtcbiAgICAgICAgICAgIC8vIGF2b2lkIGNvbmN1cnJlbmN5IHByb2JsZW1zXG4gICAgICAgICAgICBpZiAobm93RmllbGQudmFsdWUgIT09IGFsbFZhbHVlc1tuYW1lXSkge1xuICAgICAgICAgICAgICBleHBpcmVkLnB1c2goe1xuICAgICAgICAgICAgICAgIG5hbWU6IG5hbWVcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBub3dGaWVsZC5lcnJvcnMgPSBmaWVsZEVycm9ycyAmJiBmaWVsZEVycm9ycy5lcnJvcnM7XG4gICAgICAgICAgICAgIG5vd0ZpZWxkLnZhbHVlID0gYWxsVmFsdWVzW25hbWVdO1xuICAgICAgICAgICAgICBub3dGaWVsZC52YWxpZGF0aW5nID0gZmFsc2U7XG4gICAgICAgICAgICAgIG5vd0ZpZWxkLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgICAgICAgIG5vd0FsbEZpZWxkc1tuYW1lXSA9IG5vd0ZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIF90aGlzNi5zZXRGaWVsZHMobm93QWxsRmllbGRzKTtcbiAgICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGlmIChleHBpcmVkLmxlbmd0aCkge1xuICAgICAgICAgICAgICBleHBpcmVkLmZvckVhY2goZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWUgPSBfcmVmMi5uYW1lO1xuXG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkRXJyb3JzID0gW3tcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG5hbWUgKyAnIG5lZWQgdG8gcmV2YWxpZGF0ZScsXG4gICAgICAgICAgICAgICAgICBmaWVsZDogbmFtZVxuICAgICAgICAgICAgICAgIH1dO1xuICAgICAgICAgICAgICAgIHNldChlcnJvcnNHcm91cCwgbmFtZSwge1xuICAgICAgICAgICAgICAgICAgZXhwaXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgIGVycm9yczogZmllbGRFcnJvcnNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNhbGxiYWNrKGlzRW1wdHlPYmplY3QoZXJyb3JzR3JvdXApID8gbnVsbCA6IGVycm9yc0dyb3VwLCBfdGhpczYuZmllbGRzU3RvcmUuZ2V0RmllbGRzVmFsdWUoZmllbGROYW1lcykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgdmFsaWRhdGVGaWVsZHM6IGZ1bmN0aW9uIHZhbGlkYXRlRmllbGRzKG5zLCBvcHQsIGNiKSB7XG4gICAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuXG4gICAgICAgIHZhciBfZ2V0UGFyYW1zID0gZ2V0UGFyYW1zKG5zLCBvcHQsIGNiKSxcbiAgICAgICAgICAgIG5hbWVzID0gX2dldFBhcmFtcy5uYW1lcyxcbiAgICAgICAgICAgIGNhbGxiYWNrID0gX2dldFBhcmFtcy5jYWxsYmFjayxcbiAgICAgICAgICAgIG9wdGlvbnMgPSBfZ2V0UGFyYW1zLm9wdGlvbnM7XG5cbiAgICAgICAgdmFyIGZpZWxkTmFtZXMgPSBuYW1lcyA/IHRoaXMuZmllbGRzU3RvcmUuZ2V0VmFsaWRGaWVsZHNGdWxsTmFtZShuYW1lcykgOiB0aGlzLmZpZWxkc1N0b3JlLmdldFZhbGlkRmllbGRzTmFtZSgpO1xuICAgICAgICB2YXIgZmllbGRzID0gZmllbGROYW1lcy5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICB2YXIgZmllbGRNZXRhID0gX3RoaXM3LmZpZWxkc1N0b3JlLmdldEZpZWxkTWV0YShuYW1lKTtcbiAgICAgICAgICByZXR1cm4gaGFzUnVsZXMoZmllbGRNZXRhLnZhbGlkYXRlKTtcbiAgICAgICAgfSkubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgdmFyIGZpZWxkID0gX3RoaXM3LmZpZWxkc1N0b3JlLmdldEZpZWxkKG5hbWUpO1xuICAgICAgICAgIGZpZWxkLnZhbHVlID0gX3RoaXM3LmZpZWxkc1N0b3JlLmdldEZpZWxkVmFsdWUobmFtZSk7XG4gICAgICAgICAgcmV0dXJuIGZpZWxkO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFmaWVsZHMubGVuZ3RoKSB7XG4gICAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCB0aGlzLmZpZWxkc1N0b3JlLmdldEZpZWxkc1ZhbHVlKGZpZWxkTmFtZXMpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICghKCdmaXJzdEZpZWxkcycgaW4gb3B0aW9ucykpIHtcbiAgICAgICAgICBvcHRpb25zLmZpcnN0RmllbGRzID0gZmllbGROYW1lcy5maWx0ZXIoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgICAgIHZhciBmaWVsZE1ldGEgPSBfdGhpczcuZmllbGRzU3RvcmUuZ2V0RmllbGRNZXRhKG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuICEhZmllbGRNZXRhLnZhbGlkYXRlRmlyc3Q7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy52YWxpZGF0ZUZpZWxkc0ludGVybmFsKGZpZWxkcywge1xuICAgICAgICAgIGZpZWxkTmFtZXM6IGZpZWxkTmFtZXMsXG4gICAgICAgICAgb3B0aW9uczogb3B0aW9uc1xuICAgICAgICB9LCBjYWxsYmFjayk7XG4gICAgICB9LFxuICAgICAgaXNTdWJtaXR0aW5nOiBmdW5jdGlvbiBpc1N1Ym1pdHRpbmcoKSB7XG4gICAgICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nICYmIHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAndGVzdCcpIHtcbiAgICAgICAgICB3YXJuaW5nKGZhbHNlLCAnYGlzU3VibWl0dGluZ2AgaXMgZGVwcmVjYXRlZC4gJyArICdBY3R1YWxseSwgaXRcXCdzIG1vcmUgY29udmVuaWVudCB0byBoYW5kbGUgc3VibWl0dGluZyBzdGF0dXMgYnkgeW91cnNlbGYuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdGUuc3VibWl0dGluZztcbiAgICAgIH0sXG4gICAgICBzdWJtaXQ6IGZ1bmN0aW9uIHN1Ym1pdChjYWxsYmFjaykge1xuICAgICAgICB2YXIgX3RoaXM4ID0gdGhpcztcblxuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJyAmJiBwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Rlc3QnKSB7XG4gICAgICAgICAgd2FybmluZyhmYWxzZSwgJ2BzdWJtaXRgIGlzIGRlcHJlY2F0ZWQuJyArICdBY3R1YWxseSwgaXRcXCdzIG1vcmUgY29udmVuaWVudCB0byBoYW5kbGUgc3VibWl0dGluZyBzdGF0dXMgYnkgeW91cnNlbGYuJyk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGZuID0gZnVuY3Rpb24gZm4oKSB7XG4gICAgICAgICAgX3RoaXM4LnNldFN0YXRlKHtcbiAgICAgICAgICAgIHN1Ym1pdHRpbmc6IGZhbHNlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICAgIHN1Ym1pdHRpbmc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNhbGxiYWNrKGZuKTtcbiAgICAgIH0sXG4gICAgICByZW5kZXI6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICB3cmFwcGVkQ29tcG9uZW50UmVmID0gX3Byb3BzLndyYXBwZWRDb21wb25lbnRSZWYsXG4gICAgICAgICAgICByZXN0UHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzLCBbJ3dyYXBwZWRDb21wb25lbnRSZWYnXSk7XG5cbiAgICAgICAgdmFyIGZvcm1Qcm9wcyA9IF9kZWZpbmVQcm9wZXJ0eSh7fSwgZm9ybVByb3BOYW1lLCB0aGlzLmdldEZvcm0oKSk7XG4gICAgICAgIGlmICh3aXRoUmVmKSB7XG4gICAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicgJiYgcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICd0ZXN0Jykge1xuICAgICAgICAgICAgd2FybmluZyhmYWxzZSwgJ2B3aXRoUmVmYCBpcyBkZXByZWNhdGVkLCBwbGVhc2UgdXNlIGB3cmFwcGVkQ29tcG9uZW50UmVmYCBpbnN0ZWFkLiAnICsgJ1NlZTogaHR0cHM6Ly9naXRodWIuY29tL3JlYWN0LWNvbXBvbmVudC9mb3JtI25vdGUtdXNlLXdyYXBwZWRjb21wb25lbnRyZWYtaW5zdGVhZC1vZi13aXRocmVmLWFmdGVyLXJjLWZvcm0xNDAnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZm9ybVByb3BzLnJlZiA9ICd3cmFwcGVkQ29tcG9uZW50JztcbiAgICAgICAgfSBlbHNlIGlmICh3cmFwcGVkQ29tcG9uZW50UmVmKSB7XG4gICAgICAgICAgZm9ybVByb3BzLnJlZiA9IHdyYXBwZWRDb21wb25lbnRSZWY7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHByb3BzID0gbWFwUHJvcHMuY2FsbCh0aGlzLCBfZXh0ZW5kcyh7fSwgZm9ybVByb3BzLCByZXN0UHJvcHMpKTtcbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoV3JhcHBlZENvbXBvbmVudCwgcHJvcHMpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGFyZ3VtZW50Q29udGFpbmVyKEZvcm0sIFdyYXBwZWRDb21wb25lbnQpO1xuICB9O1xufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVCYXNlRm9ybTsiLCJpbXBvcnQgY3JlYXRlQmFzZUZvcm0gZnJvbSAnLi9jcmVhdGVCYXNlRm9ybSc7XG5cbmV4cG9ydCB2YXIgbWl4aW4gPSB7XG4gIGdldEZvcm06IGZ1bmN0aW9uIGdldEZvcm0oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGdldEZpZWxkc1ZhbHVlOiB0aGlzLmZpZWxkc1N0b3JlLmdldEZpZWxkc1ZhbHVlLFxuICAgICAgZ2V0RmllbGRWYWx1ZTogdGhpcy5maWVsZHNTdG9yZS5nZXRGaWVsZFZhbHVlLFxuICAgICAgZ2V0RmllbGRJbnN0YW5jZTogdGhpcy5nZXRGaWVsZEluc3RhbmNlLFxuICAgICAgc2V0RmllbGRzVmFsdWU6IHRoaXMuc2V0RmllbGRzVmFsdWUsXG4gICAgICBzZXRGaWVsZHM6IHRoaXMuc2V0RmllbGRzLFxuICAgICAgc2V0RmllbGRzSW5pdGlhbFZhbHVlOiB0aGlzLmZpZWxkc1N0b3JlLnNldEZpZWxkc0luaXRpYWxWYWx1ZSxcbiAgICAgIGdldEZpZWxkRGVjb3JhdG9yOiB0aGlzLmdldEZpZWxkRGVjb3JhdG9yLFxuICAgICAgZ2V0RmllbGRQcm9wczogdGhpcy5nZXRGaWVsZFByb3BzLFxuICAgICAgZ2V0RmllbGRzRXJyb3I6IHRoaXMuZmllbGRzU3RvcmUuZ2V0RmllbGRzRXJyb3IsXG4gICAgICBnZXRGaWVsZEVycm9yOiB0aGlzLmZpZWxkc1N0b3JlLmdldEZpZWxkRXJyb3IsXG4gICAgICBpc0ZpZWxkVmFsaWRhdGluZzogdGhpcy5maWVsZHNTdG9yZS5pc0ZpZWxkVmFsaWRhdGluZyxcbiAgICAgIGlzRmllbGRzVmFsaWRhdGluZzogdGhpcy5maWVsZHNTdG9yZS5pc0ZpZWxkc1ZhbGlkYXRpbmcsXG4gICAgICBpc0ZpZWxkc1RvdWNoZWQ6IHRoaXMuZmllbGRzU3RvcmUuaXNGaWVsZHNUb3VjaGVkLFxuICAgICAgaXNGaWVsZFRvdWNoZWQ6IHRoaXMuZmllbGRzU3RvcmUuaXNGaWVsZFRvdWNoZWQsXG4gICAgICBpc1N1Ym1pdHRpbmc6IHRoaXMuaXNTdWJtaXR0aW5nLFxuICAgICAgc3VibWl0OiB0aGlzLnN1Ym1pdCxcbiAgICAgIHZhbGlkYXRlRmllbGRzOiB0aGlzLnZhbGlkYXRlRmllbGRzLFxuICAgICAgcmVzZXRGaWVsZHM6IHRoaXMucmVzZXRGaWVsZHNcbiAgICB9O1xuICB9XG59O1xuXG5mdW5jdGlvbiBjcmVhdGVGb3JtKG9wdGlvbnMpIHtcbiAgcmV0dXJuIGNyZWF0ZUJhc2VGb3JtKG9wdGlvbnMsIFttaXhpbl0pO1xufVxuXG5leHBvcnQgZGVmYXVsdCBjcmVhdGVGb3JtOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgUmVhY3RET00gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBzY3JvbGxJbnRvVmlldyBmcm9tICdkb20tc2Nyb2xsLWludG8tdmlldyc7XG5pbXBvcnQgaGFzIGZyb20gJ2xvZGFzaC9oYXMnO1xuaW1wb3J0IGNyZWF0ZUJhc2VGb3JtIGZyb20gJy4vY3JlYXRlQmFzZUZvcm0nO1xuaW1wb3J0IHsgbWl4aW4gYXMgZm9ybU1peGluIH0gZnJvbSAnLi9jcmVhdGVGb3JtJztcbmltcG9ydCB7IGdldFBhcmFtcyB9IGZyb20gJy4vdXRpbHMnO1xuXG5mdW5jdGlvbiBjb21wdXRlZFN0eWxlKGVsLCBwcm9wKSB7XG4gIHZhciBnZXRDb21wdXRlZFN0eWxlID0gd2luZG93LmdldENvbXB1dGVkU3R5bGU7XG4gIHZhciBzdHlsZSA9XG4gIC8vIElmIHdlIGhhdmUgZ2V0Q29tcHV0ZWRTdHlsZVxuICBnZXRDb21wdXRlZFN0eWxlID9cbiAgLy8gUXVlcnkgaXRcbiAgLy8gVE9ETzogRnJvbSBDU1MtUXVlcnkgbm90ZXMsIHdlIG1pZ2h0IG5lZWQgKG5vZGUsIG51bGwpIGZvciBGRlxuICBnZXRDb21wdXRlZFN0eWxlKGVsKSA6XG5cbiAgLy8gT3RoZXJ3aXNlLCB3ZSBhcmUgaW4gSUUgYW5kIHVzZSBjdXJyZW50U3R5bGVcbiAgZWwuY3VycmVudFN0eWxlO1xuICBpZiAoc3R5bGUpIHtcbiAgICByZXR1cm4gc3R5bGVbXG4gICAgLy8gU3dpdGNoIHRvIGNhbWVsQ2FzZSBmb3IgQ1NTT01cbiAgICAvLyBERVY6IEdyYWJiZWQgZnJvbSBqUXVlcnlcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9ibG9iLzEuOS1zdGFibGUvc3JjL2Nzcy5qcyNMMTkxLUwxOTRcbiAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vanF1ZXJ5L2pxdWVyeS9ibG9iLzEuOS1zdGFibGUvc3JjL2NvcmUuanMjTDU5My1MNTk3XG4gICAgcHJvcC5yZXBsYWNlKC8tKFxcdykvZ2ksIGZ1bmN0aW9uICh3b3JkLCBsZXR0ZXIpIHtcbiAgICAgIHJldHVybiBsZXR0ZXIudG9VcHBlckNhc2UoKTtcbiAgICB9KV07XG4gIH1cbiAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsYWJsZUNvbnRhaW5lcihuKSB7XG4gIHZhciBub2RlID0gbjtcbiAgdmFyIG5vZGVOYW1lID0gdm9pZCAwO1xuICAvKiBlc2xpbnQgbm8tY29uZC1hc3NpZ246MCAqL1xuICB3aGlsZSAoKG5vZGVOYW1lID0gbm9kZS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpKSAhPT0gJ2JvZHknKSB7XG4gICAgdmFyIG92ZXJmbG93WSA9IGNvbXB1dGVkU3R5bGUobm9kZSwgJ292ZXJmbG93WScpO1xuICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zNjkwMDQwNy8zMDQwNjA1XG4gICAgaWYgKG5vZGUgIT09IG4gJiYgKG92ZXJmbG93WSA9PT0gJ2F1dG8nIHx8IG92ZXJmbG93WSA9PT0gJ3Njcm9sbCcpICYmIG5vZGUuc2Nyb2xsSGVpZ2h0ID4gbm9kZS5jbGllbnRIZWlnaHQpIHtcbiAgICAgIHJldHVybiBub2RlO1xuICAgIH1cbiAgICBub2RlID0gbm9kZS5wYXJlbnROb2RlO1xuICB9XG4gIHJldHVybiBub2RlTmFtZSA9PT0gJ2JvZHknID8gbm9kZS5vd25lckRvY3VtZW50IDogbm9kZTtcbn1cblxudmFyIG1peGluID0ge1xuICBnZXRGb3JtOiBmdW5jdGlvbiBnZXRGb3JtKCkge1xuICAgIHJldHVybiBfZXh0ZW5kcyh7fSwgZm9ybU1peGluLmdldEZvcm0uY2FsbCh0aGlzKSwge1xuICAgICAgdmFsaWRhdGVGaWVsZHNBbmRTY3JvbGw6IHRoaXMudmFsaWRhdGVGaWVsZHNBbmRTY3JvbGxcbiAgICB9KTtcbiAgfSxcbiAgdmFsaWRhdGVGaWVsZHNBbmRTY3JvbGw6IGZ1bmN0aW9uIHZhbGlkYXRlRmllbGRzQW5kU2Nyb2xsKG5zLCBvcHQsIGNiKSB7XG4gICAgdmFyIF90aGlzID0gdGhpcztcblxuICAgIHZhciBfZ2V0UGFyYW1zID0gZ2V0UGFyYW1zKG5zLCBvcHQsIGNiKSxcbiAgICAgICAgbmFtZXMgPSBfZ2V0UGFyYW1zLm5hbWVzLFxuICAgICAgICBjYWxsYmFjayA9IF9nZXRQYXJhbXMuY2FsbGJhY2ssXG4gICAgICAgIG9wdGlvbnMgPSBfZ2V0UGFyYW1zLm9wdGlvbnM7XG5cbiAgICB2YXIgbmV3Q2IgPSBmdW5jdGlvbiBuZXdDYihlcnJvciwgdmFsdWVzKSB7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdmFyIHZhbGlkTmFtZXMgPSBfdGhpcy5maWVsZHNTdG9yZS5nZXRWYWxpZEZpZWxkc05hbWUoKTtcbiAgICAgICAgdmFyIGZpcnN0Tm9kZSA9IHZvaWQgMDtcbiAgICAgICAgdmFyIGZpcnN0VG9wID0gdm9pZCAwO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IHRydWU7XG4gICAgICAgIHZhciBfZGlkSXRlcmF0b3JFcnJvciA9IGZhbHNlO1xuICAgICAgICB2YXIgX2l0ZXJhdG9yRXJyb3IgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBmb3IgKHZhciBfaXRlcmF0b3IgPSB2YWxpZE5hbWVzW1N5bWJvbC5pdGVyYXRvcl0oKSwgX3N0ZXA7ICEoX2l0ZXJhdG9yTm9ybWFsQ29tcGxldGlvbiA9IChfc3RlcCA9IF9pdGVyYXRvci5uZXh0KCkpLmRvbmUpOyBfaXRlcmF0b3JOb3JtYWxDb21wbGV0aW9uID0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBfc3RlcC52YWx1ZTtcblxuICAgICAgICAgICAgaWYgKGhhcyhlcnJvciwgbmFtZSkpIHtcbiAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gX3RoaXMuZ2V0RmllbGRJbnN0YW5jZShuYW1lKTtcbiAgICAgICAgICAgICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vZGUgPSBSZWFjdERPTS5maW5kRE9NTm9kZShpbnN0YW5jZSk7XG4gICAgICAgICAgICAgICAgdmFyIHRvcCA9IG5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wO1xuICAgICAgICAgICAgICAgIGlmIChub2RlLnR5cGUgIT09ICdoaWRkZW4nICYmIChmaXJzdFRvcCA9PT0gdW5kZWZpbmVkIHx8IGZpcnN0VG9wID4gdG9wKSkge1xuICAgICAgICAgICAgICAgICAgZmlyc3RUb3AgPSB0b3A7XG4gICAgICAgICAgICAgICAgICBmaXJzdE5vZGUgPSBub2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgX2RpZEl0ZXJhdG9yRXJyb3IgPSB0cnVlO1xuICAgICAgICAgIF9pdGVyYXRvckVycm9yID0gZXJyO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoIV9pdGVyYXRvck5vcm1hbENvbXBsZXRpb24gJiYgX2l0ZXJhdG9yWydyZXR1cm4nXSkge1xuICAgICAgICAgICAgICBfaXRlcmF0b3JbJ3JldHVybiddKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGlmIChfZGlkSXRlcmF0b3JFcnJvcikge1xuICAgICAgICAgICAgICB0aHJvdyBfaXRlcmF0b3JFcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlyc3ROb2RlKSB7XG4gICAgICAgICAgdmFyIGMgPSBvcHRpb25zLmNvbnRhaW5lciB8fCBnZXRTY3JvbGxhYmxlQ29udGFpbmVyKGZpcnN0Tm9kZSk7XG4gICAgICAgICAgc2Nyb2xsSW50b1ZpZXcoZmlyc3ROb2RlLCBjLCBfZXh0ZW5kcyh7XG4gICAgICAgICAgICBvbmx5U2Nyb2xsSWZOZWVkZWQ6IHRydWVcbiAgICAgICAgICB9LCBvcHRpb25zLnNjcm9sbCkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyb3IsIHZhbHVlcyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIHJldHVybiB0aGlzLnZhbGlkYXRlRmllbGRzKG5hbWVzLCBvcHRpb25zLCBuZXdDYik7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZURPTUZvcm0ob3B0aW9uKSB7XG4gIHJldHVybiBjcmVhdGVCYXNlRm9ybShfZXh0ZW5kcyh7fSwgb3B0aW9uKSwgW21peGluXSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGNyZWF0ZURPTUZvcm07IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfdHlwZW9mIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy90eXBlb2YnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuLy8gbWF0Y2hNZWRpYSBwb2x5ZmlsbCBmb3Jcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9XaWNreU5pbGxpYW1zL2VucXVpcmUuanMvaXNzdWVzLzgyXG52YXIgZW5xdWlyZSA9IHZvaWQgMDtcbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIHZhciBtYXRjaE1lZGlhUG9seWZpbGwgPSBmdW5jdGlvbiBtYXRjaE1lZGlhUG9seWZpbGwobWVkaWFRdWVyeSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbWVkaWE6IG1lZGlhUXVlcnksXG4gICAgICAgICAgICBtYXRjaGVzOiBmYWxzZSxcbiAgICAgICAgICAgIGFkZExpc3RlbmVyOiBmdW5jdGlvbiBhZGRMaXN0ZW5lcigpIHt9LFxuICAgICAgICAgICAgcmVtb3ZlTGlzdGVuZXI6IGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKCkge31cbiAgICAgICAgfTtcbiAgICB9O1xuICAgIHdpbmRvdy5tYXRjaE1lZGlhID0gd2luZG93Lm1hdGNoTWVkaWEgfHwgbWF0Y2hNZWRpYVBvbHlmaWxsO1xuICAgIGVucXVpcmUgPSByZXF1aXJlKCdlbnF1aXJlLmpzJyk7XG59XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBDaGlsZHJlbiwgY2xvbmVFbGVtZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG52YXIgcmVzcG9uc2l2ZUFycmF5ID0gWyd4eGwnLCAneGwnLCAnbGcnLCAnbWQnLCAnc20nLCAneHMnXTtcbnZhciByZXNwb25zaXZlTWFwID0ge1xuICAgIHhzOiAnKG1heC13aWR0aDogNTc1cHgpJyxcbiAgICBzbTogJyhtaW4td2lkdGg6IDU3NnB4KScsXG4gICAgbWQ6ICcobWluLXdpZHRoOiA3NjhweCknLFxuICAgIGxnOiAnKG1pbi13aWR0aDogOTkycHgpJyxcbiAgICB4bDogJyhtaW4td2lkdGg6IDEyMDBweCknLFxuICAgIHh4bDogJyhtaW4td2lkdGg6IDE2MDBweCknXG59O1xuXG52YXIgUm93ID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoUm93LCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFJvdygpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFJvdyk7XG5cbiAgICAgICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKFJvdy5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFJvdykpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzLnN0YXRlID0ge1xuICAgICAgICAgICAgc2NyZWVuczoge31cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhSb3csIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgICAgICAgIE9iamVjdC5rZXlzKHJlc3BvbnNpdmVNYXApLm1hcChmdW5jdGlvbiAoc2NyZWVuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVucXVpcmUucmVnaXN0ZXIocmVzcG9uc2l2ZU1hcFtzY3JlZW5dLCB7XG4gICAgICAgICAgICAgICAgICAgIG1hdGNoOiBmdW5jdGlvbiBtYXRjaCgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdHlwZW9mKF90aGlzMi5wcm9wcy5ndXR0ZXIpICE9PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5zZXRTdGF0ZShmdW5jdGlvbiAocHJldlN0YXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2NyZWVuczogX2V4dGVuZHMoe30sIHByZXZTdGF0ZS5zY3JlZW5zLCBfZGVmaW5lUHJvcGVydHkoe30sIHNjcmVlbiwgdHJ1ZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1bm1hdGNoOiBmdW5jdGlvbiB1bm1hdGNoKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90eXBlb2YoX3RoaXMyLnByb3BzLmd1dHRlcikgIT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnNldFN0YXRlKGZ1bmN0aW9uIChwcmV2U3RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzY3JlZW5zOiBfZXh0ZW5kcyh7fSwgcHJldlN0YXRlLnNjcmVlbnMsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgc2NyZWVuLCBmYWxzZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAvLyBLZWVwIGEgZW1wdHkgZGVzdG9yeSB0byBhdm9pZCB0cmlnZ2VyaW5nIHVubWF0Y2ggd2hlbiB1bnJlZ2lzdGVyXG4gICAgICAgICAgICAgICAgICAgIGRlc3Ryb3k6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7fVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMocmVzcG9uc2l2ZU1hcCkubWFwKGZ1bmN0aW9uIChzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZW5xdWlyZS51bnJlZ2lzdGVyKHJlc3BvbnNpdmVNYXBbc2NyZWVuXSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0R3V0dGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEd1dHRlcigpIHtcbiAgICAgICAgICAgIHZhciBndXR0ZXIgPSB0aGlzLnByb3BzLmd1dHRlcjtcblxuICAgICAgICAgICAgaWYgKCh0eXBlb2YgZ3V0dGVyID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihndXR0ZXIpKSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSByZXNwb25zaXZlQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJyZWFrcG9pbnQgPSByZXNwb25zaXZlQXJyYXlbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlLnNjcmVlbnNbYnJlYWtwb2ludF0gJiYgZ3V0dGVyW2JyZWFrcG9pbnRdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBndXR0ZXJbYnJlYWtwb2ludF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZ3V0dGVyO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9jbGFzc05hbWVzO1xuXG4gICAgICAgICAgICB2YXIgX2EgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHR5cGUgPSBfYS50eXBlLFxuICAgICAgICAgICAgICAgIGp1c3RpZnkgPSBfYS5qdXN0aWZ5LFxuICAgICAgICAgICAgICAgIGFsaWduID0gX2EuYWxpZ24sXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIHN0eWxlID0gX2Euc3R5bGUsXG4gICAgICAgICAgICAgICAgY2hpbGRyZW4gPSBfYS5jaGlsZHJlbixcbiAgICAgICAgICAgICAgICBfYSRwcmVmaXhDbHMgPSBfYS5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgcHJlZml4Q2xzID0gX2EkcHJlZml4Q2xzID09PSB1bmRlZmluZWQgPyAnYW50LXJvdycgOiBfYSRwcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgb3RoZXJzID0gX19yZXN0KF9hLCBbXCJ0eXBlXCIsIFwianVzdGlmeVwiLCBcImFsaWduXCIsIFwiY2xhc3NOYW1lXCIsIFwic3R5bGVcIiwgXCJjaGlsZHJlblwiLCBcInByZWZpeENsc1wiXSk7XG4gICAgICAgICAgICB2YXIgZ3V0dGVyID0gdGhpcy5nZXRHdXR0ZXIoKTtcbiAgICAgICAgICAgIHZhciBjbGFzc2VzID0gY2xhc3NOYW1lcygoX2NsYXNzTmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMsICF0eXBlKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLScgKyB0eXBlLCB0eXBlKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLScgKyB0eXBlICsgJy0nICsganVzdGlmeSwgdHlwZSAmJiBqdXN0aWZ5KSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLScgKyB0eXBlICsgJy0nICsgYWxpZ24sIHR5cGUgJiYgYWxpZ24pLCBfY2xhc3NOYW1lcyksIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB2YXIgcm93U3R5bGUgPSBndXR0ZXIgPiAwID8gX2V4dGVuZHMoeyBtYXJnaW5MZWZ0OiBndXR0ZXIgLyAtMiwgbWFyZ2luUmlnaHQ6IGd1dHRlciAvIC0yIH0sIHN0eWxlKSA6IHN0eWxlO1xuICAgICAgICAgICAgdmFyIGNvbHMgPSBDaGlsZHJlbi5tYXAoY2hpbGRyZW4sIGZ1bmN0aW9uIChjb2wpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNvbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvbC5wcm9wcyAmJiBndXR0ZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjbG9uZUVsZW1lbnQoY29sLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZTogX2V4dGVuZHMoeyBwYWRkaW5nTGVmdDogZ3V0dGVyIC8gMiwgcGFkZGluZ1JpZ2h0OiBndXR0ZXIgLyAyIH0sIGNvbC5wcm9wcy5zdHlsZSlcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBjb2w7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBvdGhlclByb3BzID0gX2V4dGVuZHMoe30sIG90aGVycyk7XG4gICAgICAgICAgICBkZWxldGUgb3RoZXJQcm9wcy5ndXR0ZXI7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7fSwgb3RoZXJQcm9wcywgeyBjbGFzc05hbWU6IGNsYXNzZXMsIHN0eWxlOiByb3dTdHlsZSB9KSxcbiAgICAgICAgICAgICAgICBjb2xzXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIFJvdztcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgUm93O1xuXG5Sb3cuZGVmYXVsdFByb3BzID0ge1xuICAgIGd1dHRlcjogMFxufTtcblJvdy5wcm9wVHlwZXMgPSB7XG4gICAgdHlwZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBhbGlnbjogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBqdXN0aWZ5OiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gICAgZ3V0dGVyOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMub2JqZWN0LCBQcm9wVHlwZXMubnVtYmVyXSksXG4gICAgcHJlZml4Q2xzOiBQcm9wVHlwZXMuc3RyaW5nXG59OyIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX3R5cGVvZiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvdHlwZW9mJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG52YXIgX19yZXN0ID0gdGhpcyAmJiB0aGlzLl9fcmVzdCB8fCBmdW5jdGlvbiAocywgZSkge1xuICAgIHZhciB0ID0ge307XG4gICAgZm9yICh2YXIgcCBpbiBzKSB7XG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkgJiYgZS5pbmRleE9mKHApIDwgMCkgdFtwXSA9IHNbcF07XG4gICAgfWlmIChzICE9IG51bGwgJiYgdHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMgPT09IFwiZnVuY3Rpb25cIikgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCkgdFtwW2ldXSA9IHNbcFtpXV07XG4gICAgfXJldHVybiB0O1xufTtcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCAqIGFzIFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xudmFyIHN0cmluZ09yTnVtYmVyID0gUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm51bWJlcl0pO1xudmFyIG9iamVjdE9yTnVtYmVyID0gUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm9iamVjdCwgUHJvcFR5cGVzLm51bWJlcl0pO1xuXG52YXIgQ29sID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoQ29sLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIENvbCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIENvbCk7XG5cbiAgICAgICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChDb2wuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihDb2wpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoQ29sLCBbe1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9jbGFzc05hbWVzO1xuXG4gICAgICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuXG4gICAgICAgICAgICB2YXIgc3BhbiA9IHByb3BzLnNwYW4sXG4gICAgICAgICAgICAgICAgb3JkZXIgPSBwcm9wcy5vcmRlcixcbiAgICAgICAgICAgICAgICBvZmZzZXQgPSBwcm9wcy5vZmZzZXQsXG4gICAgICAgICAgICAgICAgcHVzaCA9IHByb3BzLnB1c2gsXG4gICAgICAgICAgICAgICAgcHVsbCA9IHByb3BzLnB1bGwsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gcHJvcHMuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuID0gcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICAgICAgX3Byb3BzJHByZWZpeENscyA9IHByb3BzLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMkcHJlZml4Q2xzID09PSB1bmRlZmluZWQgPyAnYW50LWNvbCcgOiBfcHJvcHMkcHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIG90aGVycyA9IF9fcmVzdChwcm9wcywgW1wic3BhblwiLCBcIm9yZGVyXCIsIFwib2Zmc2V0XCIsIFwicHVzaFwiLCBcInB1bGxcIiwgXCJjbGFzc05hbWVcIiwgXCJjaGlsZHJlblwiLCBcInByZWZpeENsc1wiXSk7XG5cbiAgICAgICAgICAgIHZhciBzaXplQ2xhc3NPYmogPSB7fTtcbiAgICAgICAgICAgIFsneHMnLCAnc20nLCAnbWQnLCAnbGcnLCAneGwnLCAneHhsJ10uZm9yRWFjaChmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICAgICAgICAgIHZhciBfZXh0ZW5kczI7XG5cbiAgICAgICAgICAgICAgICB2YXIgc2l6ZVByb3BzID0ge307XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wc1tzaXplXSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgc2l6ZVByb3BzLnNwYW4gPSBwcm9wc1tzaXplXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90eXBlb2YocHJvcHNbc2l6ZV0pID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICBzaXplUHJvcHMgPSBwcm9wc1tzaXplXSB8fCB7fTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZGVsZXRlIG90aGVyc1tzaXplXTtcbiAgICAgICAgICAgICAgICBzaXplQ2xhc3NPYmogPSBfZXh0ZW5kcyh7fSwgc2l6ZUNsYXNzT2JqLCAoX2V4dGVuZHMyID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfZXh0ZW5kczIsIHByZWZpeENscyArICctJyArIHNpemUgKyAnLScgKyBzaXplUHJvcHMuc3Bhbiwgc2l6ZVByb3BzLnNwYW4gIT09IHVuZGVmaW5lZCksIF9kZWZpbmVQcm9wZXJ0eShfZXh0ZW5kczIsIHByZWZpeENscyArICctJyArIHNpemUgKyAnLW9yZGVyLScgKyBzaXplUHJvcHMub3JkZXIsIHNpemVQcm9wcy5vcmRlciB8fCBzaXplUHJvcHMub3JkZXIgPT09IDApLCBfZGVmaW5lUHJvcGVydHkoX2V4dGVuZHMyLCBwcmVmaXhDbHMgKyAnLScgKyBzaXplICsgJy1vZmZzZXQtJyArIHNpemVQcm9wcy5vZmZzZXQsIHNpemVQcm9wcy5vZmZzZXQgfHwgc2l6ZVByb3BzLm9mZnNldCA9PT0gMCksIF9kZWZpbmVQcm9wZXJ0eShfZXh0ZW5kczIsIHByZWZpeENscyArICctJyArIHNpemUgKyAnLXB1c2gtJyArIHNpemVQcm9wcy5wdXNoLCBzaXplUHJvcHMucHVzaCB8fCBzaXplUHJvcHMucHVzaCA9PT0gMCksIF9kZWZpbmVQcm9wZXJ0eShfZXh0ZW5kczIsIHByZWZpeENscyArICctJyArIHNpemUgKyAnLXB1bGwtJyArIHNpemVQcm9wcy5wdWxsLCBzaXplUHJvcHMucHVsbCB8fCBzaXplUHJvcHMucHVsbCA9PT0gMCksIF9leHRlbmRzMikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB2YXIgY2xhc3NlcyA9IGNsYXNzTmFtZXMoKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy0nICsgc3Bhbiwgc3BhbiAhPT0gdW5kZWZpbmVkKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLW9yZGVyLScgKyBvcmRlciwgb3JkZXIpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctb2Zmc2V0LScgKyBvZmZzZXQsIG9mZnNldCksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1wdXNoLScgKyBwdXNoLCBwdXNoKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLXB1bGwtJyArIHB1bGwsIHB1bGwpLCBfY2xhc3NOYW1lcyksIGNsYXNzTmFtZSwgc2l6ZUNsYXNzT2JqKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIF9leHRlbmRzKHt9LCBvdGhlcnMsIHsgY2xhc3NOYW1lOiBjbGFzc2VzIH0pLFxuICAgICAgICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENvbDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuZXhwb3J0IGRlZmF1bHQgQ29sO1xuXG5Db2wucHJvcFR5cGVzID0ge1xuICAgIHNwYW46IHN0cmluZ09yTnVtYmVyLFxuICAgIG9yZGVyOiBzdHJpbmdPck51bWJlcixcbiAgICBvZmZzZXQ6IHN0cmluZ09yTnVtYmVyLFxuICAgIHB1c2g6IHN0cmluZ09yTnVtYmVyLFxuICAgIHB1bGw6IHN0cmluZ09yTnVtYmVyLFxuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLm5vZGUsXG4gICAgeHM6IG9iamVjdE9yTnVtYmVyLFxuICAgIHNtOiBvYmplY3RPck51bWJlcixcbiAgICBtZDogb2JqZWN0T3JOdW1iZXIsXG4gICAgbGc6IG9iamVjdE9yTnVtYmVyLFxuICAgIHhsOiBvYmplY3RPck51bWJlcixcbiAgICB4eGw6IG9iamVjdE9yTnVtYmVyXG59OyIsImV4cG9ydCB2YXIgRklFTERfTUVUQV9QUk9QID0gJ2RhdGEtX19tZXRhJztcbmV4cG9ydCB2YXIgRklFTERfREFUQV9QUk9QID0gJ2RhdGEtX19maWVsZCc7IiwiaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgaW50ZXJzcGVyc2UgZnJvbSAnaW50ZXJzcGVyc2UnO1xuaW1wb3J0IEFuaW1hdGUgZnJvbSAncmMtYW5pbWF0ZSc7XG5pbXBvcnQgUm93IGZyb20gJy4uL2dyaWQvcm93JztcbmltcG9ydCBDb2wgZnJvbSAnLi4vZ3JpZC9jb2wnO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSAnLi4vX3V0aWwvd2FybmluZyc7XG5pbXBvcnQgeyBGSUVMRF9NRVRBX1BST1AsIEZJRUxEX0RBVEFfUFJPUCB9IGZyb20gJy4vY29uc3RhbnRzJztcbmltcG9ydCBJY29uIGZyb20gJy4uL2ljb24nO1xuXG52YXIgRm9ybUl0ZW0gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhGb3JtSXRlbSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBGb3JtSXRlbSgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvcm1JdGVtKTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoRm9ybUl0ZW0uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihGb3JtSXRlbSkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzLmhlbHBTaG93ID0gZmFsc2U7XG4gICAgICAgIF90aGlzLm9uSGVscEFuaW1FbmQgPSBmdW5jdGlvbiAoX2tleSwgaGVscFNob3cpIHtcbiAgICAgICAgICAgIF90aGlzLmhlbHBTaG93ID0gaGVscFNob3c7XG4gICAgICAgICAgICBpZiAoIWhlbHBTaG93KSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuc2V0U3RhdGUoe30pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBSZXNvbHZlIGR1cGxpY2F0ZWQgaWRzIGJ1ZyBiZXR3ZWVuIGRpZmZlcmVudCBmb3Jtc1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vYW50LWRlc2lnbi9hbnQtZGVzaWduL2lzc3Vlcy83MzUxXG4gICAgICAgIF90aGlzLm9uTGFiZWxDbGljayA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgbGFiZWwgPSBfdGhpcy5wcm9wcy5sYWJlbDtcblxuICAgICAgICAgICAgdmFyIGlkID0gX3RoaXMucHJvcHMuaWQgfHwgX3RoaXMuZ2V0SWQoKTtcbiAgICAgICAgICAgIGlmICghaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY29udHJvbHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdbaWQ9XCInICsgaWQgKyAnXCJdJyk7XG4gICAgICAgICAgICBpZiAoY29udHJvbHMubGVuZ3RoICE9PSAxKSB7XG4gICAgICAgICAgICAgICAgLy8gT25seSBwcmV2ZW50IGluIGRlZmF1bHQgc2l0dWF0aW9uXG4gICAgICAgICAgICAgICAgLy8gQXZvaWQgcHJldmVudGluZyBldmVudCBpbiBgbGFiZWw9ezxhIGhyZWY9XCJ4eFwiPmxpbms8L2E+fWBgXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBsYWJlbCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgZm9ybUl0ZW1Ob2RlID0gUmVhY3RET00uZmluZERPTU5vZGUoX3RoaXMpO1xuICAgICAgICAgICAgICAgIHZhciBjb250cm9sID0gZm9ybUl0ZW1Ob2RlLnF1ZXJ5U2VsZWN0b3IoJ1tpZD1cIicgKyBpZCArICdcIl0nKTtcbiAgICAgICAgICAgICAgICBpZiAoY29udHJvbCAmJiBjb250cm9sLmZvY3VzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2wuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRm9ybUl0ZW0sIFt7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudERpZE1vdW50JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgICAgICAgd2FybmluZyh0aGlzLmdldENvbnRyb2xzKHRoaXMucHJvcHMuY2hpbGRyZW4sIHRydWUpLmxlbmd0aCA8PSAxLCAnYEZvcm0uSXRlbWAgY2Fubm90IGdlbmVyYXRlIGB2YWxpZGF0ZVN0YXR1c2AgYW5kIGBoZWxwYCBhdXRvbWF0aWNhbGx5LCAnICsgJ3doaWxlIHRoZXJlIGFyZSBtb3JlIHRoYW4gb25lIGBnZXRGaWVsZERlY29yYXRvcmAgaW4gaXQuJyk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldEhlbHBNZXNzYWdlJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEhlbHBNZXNzYWdlKCkge1xuICAgICAgICAgICAgdmFyIGhlbHAgPSB0aGlzLnByb3BzLmhlbHA7XG5cbiAgICAgICAgICAgIGlmIChoZWxwID09PSB1bmRlZmluZWQgJiYgdGhpcy5nZXRPbmx5Q29udHJvbCgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVycm9ycyA9IHRoaXMuZ2V0RmllbGQoKS5lcnJvcnM7XG4gICAgICAgICAgICAgICAgaWYgKGVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50ZXJzcGVyc2UoZXJyb3JzLm1hcChmdW5jdGlvbiAoZSwgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBSZWFjdC5pc1ZhbGlkRWxlbWVudChlLm1lc3NhZ2UpID8gUmVhY3QuY2xvbmVFbGVtZW50KGUubWVzc2FnZSwgeyBrZXk6IGluZGV4IH0pIDogZS5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICB9KSwgJyAnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGhlbHA7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldENvbnRyb2xzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENvbnRyb2xzKGNoaWxkcmVuLCByZWN1cnNpdmVseSkge1xuICAgICAgICAgICAgdmFyIGNvbnRyb2xzID0gW107XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW5BcnJheSA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjaGlsZHJlbkFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWN1cnNpdmVseSAmJiBjb250cm9scy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgY2hpbGQgPSBjaGlsZHJlbkFycmF5W2ldO1xuICAgICAgICAgICAgICAgIGlmIChjaGlsZC50eXBlICYmIChjaGlsZC50eXBlID09PSBGb3JtSXRlbSB8fCBjaGlsZC50eXBlLmRpc3BsYXlOYW1lID09PSAnRm9ybUl0ZW0nKSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFjaGlsZC5wcm9wcykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKEZJRUxEX01FVEFfUFJPUCBpbiBjaGlsZC5wcm9wcykge1xuICAgICAgICAgICAgICAgICAgICAvLyBBbmQgbWVhbnMgRklFTERfREFUQV9QUk9QIGluIGNoaWxkLnByb3BzLCB0b28uXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xzLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2hpbGQucHJvcHMuY2hpbGRyZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbHMgPSBjb250cm9scy5jb25jYXQodGhpcy5nZXRDb250cm9scyhjaGlsZC5wcm9wcy5jaGlsZHJlbiwgcmVjdXJzaXZlbHkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY29udHJvbHM7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldE9ubHlDb250cm9sJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE9ubHlDb250cm9sKCkge1xuICAgICAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5nZXRDb250cm9scyh0aGlzLnByb3BzLmNoaWxkcmVuLCBmYWxzZSlbMF07XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQgIT09IHVuZGVmaW5lZCA/IGNoaWxkIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0Q2hpbGRQcm9wJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENoaWxkUHJvcChwcm9wKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmdldE9ubHlDb250cm9sKCk7XG4gICAgICAgICAgICByZXR1cm4gY2hpbGQgJiYgY2hpbGQucHJvcHMgJiYgY2hpbGQucHJvcHNbcHJvcF07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2dldElkJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldElkKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q2hpbGRQcm9wKCdpZCcpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRNZXRhJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE1ldGEoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZFByb3AoRklFTERfTUVUQV9QUk9QKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0RmllbGQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RmllbGQoKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDaGlsZFByb3AoRklFTERfREFUQV9QUk9QKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVySGVscCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJIZWxwKCkge1xuICAgICAgICAgICAgdmFyIHByZWZpeENscyA9IHRoaXMucHJvcHMucHJlZml4Q2xzO1xuICAgICAgICAgICAgdmFyIGhlbHAgPSB0aGlzLmdldEhlbHBNZXNzYWdlKCk7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSBoZWxwID8gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1leHBsYWluJywga2V5OiAnaGVscCcgfSxcbiAgICAgICAgICAgICAgICBoZWxwXG4gICAgICAgICAgICApIDogbnVsbDtcbiAgICAgICAgICAgIGlmIChjaGlsZHJlbikge1xuICAgICAgICAgICAgICAgIHRoaXMuaGVscFNob3cgPSAhIWNoaWxkcmVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgQW5pbWF0ZSxcbiAgICAgICAgICAgICAgICB7IHRyYW5zaXRpb25OYW1lOiAnc2hvdy1oZWxwJywgY29tcG9uZW50OiAnJywgdHJhbnNpdGlvbkFwcGVhcjogdHJ1ZSwga2V5OiAnaGVscCcsIG9uRW5kOiB0aGlzLm9uSGVscEFuaW1FbmQgfSxcbiAgICAgICAgICAgICAgICBjaGlsZHJlblxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyRXh0cmEnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyRXh0cmEoKSB7XG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGV4dHJhID0gX3Byb3BzLmV4dHJhO1xuXG4gICAgICAgICAgICByZXR1cm4gZXh0cmEgPyBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgICdkaXYnLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWV4dHJhJyB9LFxuICAgICAgICAgICAgICAgIGV4dHJhXG4gICAgICAgICAgICApIDogbnVsbDtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0VmFsaWRhdGVTdGF0dXMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VmFsaWRhdGVTdGF0dXMoKSB7XG4gICAgICAgICAgICB2YXIgb25seUNvbnRyb2wgPSB0aGlzLmdldE9ubHlDb250cm9sKCk7XG4gICAgICAgICAgICBpZiAoIW9ubHlDb250cm9sKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5nZXRGaWVsZCgpO1xuICAgICAgICAgICAgaWYgKGZpZWxkLnZhbGlkYXRpbmcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3ZhbGlkYXRpbmcnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGZpZWxkLmVycm9ycykge1xuICAgICAgICAgICAgICAgIHJldHVybiAnZXJyb3InO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGZpZWxkVmFsdWUgPSAndmFsdWUnIGluIGZpZWxkID8gZmllbGQudmFsdWUgOiB0aGlzLmdldE1ldGEoKS5pbml0aWFsVmFsdWU7XG4gICAgICAgICAgICBpZiAoZmllbGRWYWx1ZSAhPT0gdW5kZWZpbmVkICYmIGZpZWxkVmFsdWUgIT09IG51bGwgJiYgZmllbGRWYWx1ZSAhPT0gJycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gJ3N1Y2Nlc3MnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXJWYWxpZGF0ZVdyYXBwZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyVmFsaWRhdGVXcmFwcGVyKGMxLCBjMiwgYzMpIHtcbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgb25seUNvbnRyb2wgPSB0aGlzLmdldE9ubHlDb250cm9sO1xuICAgICAgICAgICAgdmFyIHZhbGlkYXRlU3RhdHVzID0gcHJvcHMudmFsaWRhdGVTdGF0dXMgPT09IHVuZGVmaW5lZCAmJiBvbmx5Q29udHJvbCA/IHRoaXMuZ2V0VmFsaWRhdGVTdGF0dXMoKSA6IHByb3BzLnZhbGlkYXRlU3RhdHVzO1xuICAgICAgICAgICAgdmFyIGNsYXNzZXMgPSB0aGlzLnByb3BzLnByZWZpeENscyArICctaXRlbS1jb250cm9sJztcbiAgICAgICAgICAgIGlmICh2YWxpZGF0ZVN0YXR1cykge1xuICAgICAgICAgICAgICAgIGNsYXNzZXMgPSBjbGFzc05hbWVzKHRoaXMucHJvcHMucHJlZml4Q2xzICsgJy1pdGVtLWNvbnRyb2wnLCB7XG4gICAgICAgICAgICAgICAgICAgICdoYXMtZmVlZGJhY2snOiBwcm9wcy5oYXNGZWVkYmFjayB8fCB2YWxpZGF0ZVN0YXR1cyA9PT0gJ3ZhbGlkYXRpbmcnLFxuICAgICAgICAgICAgICAgICAgICAnaGFzLXN1Y2Nlc3MnOiB2YWxpZGF0ZVN0YXR1cyA9PT0gJ3N1Y2Nlc3MnLFxuICAgICAgICAgICAgICAgICAgICAnaGFzLXdhcm5pbmcnOiB2YWxpZGF0ZVN0YXR1cyA9PT0gJ3dhcm5pbmcnLFxuICAgICAgICAgICAgICAgICAgICAnaGFzLWVycm9yJzogdmFsaWRhdGVTdGF0dXMgPT09ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICdpcy12YWxpZGF0aW5nJzogdmFsaWRhdGVTdGF0dXMgPT09ICd2YWxpZGF0aW5nJ1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGljb25UeXBlID0gJyc7XG4gICAgICAgICAgICBzd2l0Y2ggKHZhbGlkYXRlU3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnc3VjY2Vzcyc6XG4gICAgICAgICAgICAgICAgICAgIGljb25UeXBlID0gJ2NoZWNrLWNpcmNsZSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3dhcm5pbmcnOlxuICAgICAgICAgICAgICAgICAgICBpY29uVHlwZSA9ICdleGNsYW1hdGlvbi1jaXJjbGUnO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdlcnJvcic6XG4gICAgICAgICAgICAgICAgICAgIGljb25UeXBlID0gJ2Nsb3NlLWNpcmNsZSc7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3ZhbGlkYXRpbmcnOlxuICAgICAgICAgICAgICAgICAgICBpY29uVHlwZSA9ICdsb2FkaW5nJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgaWNvblR5cGUgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaWNvbiA9IHByb3BzLmhhc0ZlZWRiYWNrICYmIGljb25UeXBlID8gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHRoaXMucHJvcHMucHJlZml4Q2xzICsgJy1pdGVtLWNoaWxkcmVuLWljb24nIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7IHR5cGU6IGljb25UeXBlLCB0aGVtZTogaWNvblR5cGUgPT09ICdsb2FkaW5nJyA/ICdvdXRsaW5lZCcgOiAnZmlsbGVkJyB9KVxuICAgICAgICAgICAgKSA6IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NlcyB9LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IHRoaXMucHJvcHMucHJlZml4Q2xzICsgJy1pdGVtLWNoaWxkcmVuJyB9LFxuICAgICAgICAgICAgICAgICAgICBjMSxcbiAgICAgICAgICAgICAgICAgICAgaWNvblxuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgYzIsXG4gICAgICAgICAgICAgICAgYzNcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcldyYXBwZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyV3JhcHBlcihjaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIF9wcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wczIucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIHdyYXBwZXJDb2wgPSBfcHJvcHMyLndyYXBwZXJDb2w7XG5cbiAgICAgICAgICAgIHZhciBjbGFzc05hbWUgPSBjbGFzc05hbWVzKHByZWZpeENscyArICctaXRlbS1jb250cm9sLXdyYXBwZXInLCB3cmFwcGVyQ29sICYmIHdyYXBwZXJDb2wuY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIENvbCxcbiAgICAgICAgICAgICAgICBfZXh0ZW5kcyh7fSwgd3JhcHBlckNvbCwgeyBjbGFzc05hbWU6IGNsYXNzTmFtZSwga2V5OiAnd3JhcHBlcicgfSksXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2lzUmVxdWlyZWQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNSZXF1aXJlZCgpIHtcbiAgICAgICAgICAgIHZhciByZXF1aXJlZCA9IHRoaXMucHJvcHMucmVxdWlyZWQ7XG5cbiAgICAgICAgICAgIGlmIChyZXF1aXJlZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcXVpcmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHRoaXMuZ2V0T25seUNvbnRyb2woKSkge1xuICAgICAgICAgICAgICAgIHZhciBtZXRhID0gdGhpcy5nZXRNZXRhKCkgfHwge307XG4gICAgICAgICAgICAgICAgdmFyIHZhbGlkYXRlID0gbWV0YS52YWxpZGF0ZSB8fCBbXTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWRhdGUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhIWl0ZW0ucnVsZXM7XG4gICAgICAgICAgICAgICAgfSkuc29tZShmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbS5ydWxlcy5zb21lKGZ1bmN0aW9uIChydWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcnVsZS5yZXF1aXJlZDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlckxhYmVsJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckxhYmVsKCkge1xuICAgICAgICAgICAgdmFyIF9wcm9wczMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wczMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGxhYmVsID0gX3Byb3BzMy5sYWJlbCxcbiAgICAgICAgICAgICAgICBsYWJlbENvbCA9IF9wcm9wczMubGFiZWxDb2wsXG4gICAgICAgICAgICAgICAgY29sb24gPSBfcHJvcHMzLmNvbG9uLFxuICAgICAgICAgICAgICAgIGlkID0gX3Byb3BzMy5pZDtcblxuICAgICAgICAgICAgdmFyIGNvbnRleHQgPSB0aGlzLmNvbnRleHQ7XG4gICAgICAgICAgICB2YXIgcmVxdWlyZWQgPSB0aGlzLmlzUmVxdWlyZWQoKTtcbiAgICAgICAgICAgIHZhciBsYWJlbENvbENsYXNzTmFtZSA9IGNsYXNzTmFtZXMocHJlZml4Q2xzICsgJy1pdGVtLWxhYmVsJywgbGFiZWxDb2wgJiYgbGFiZWxDb2wuY2xhc3NOYW1lKTtcbiAgICAgICAgICAgIHZhciBsYWJlbENsYXNzTmFtZSA9IGNsYXNzTmFtZXMoX2RlZmluZVByb3BlcnR5KHt9LCBwcmVmaXhDbHMgKyAnLWl0ZW0tcmVxdWlyZWQnLCByZXF1aXJlZCkpO1xuICAgICAgICAgICAgdmFyIGxhYmVsQ2hpbGRyZW4gPSBsYWJlbDtcbiAgICAgICAgICAgIC8vIEtlZXAgbGFiZWwgaXMgb3JpZ2luYWwgd2hlcmUgdGhlcmUgc2hvdWxkIGhhdmUgbm8gY29sb25cbiAgICAgICAgICAgIHZhciBoYXZlQ29sb24gPSBjb2xvbiAmJiAhY29udGV4dC52ZXJ0aWNhbDtcbiAgICAgICAgICAgIC8vIFJlbW92ZSBkdXBsaWNhdGVkIHVzZXIgaW5wdXQgY29sb25cbiAgICAgICAgICAgIGlmIChoYXZlQ29sb24gJiYgdHlwZW9mIGxhYmVsID09PSAnc3RyaW5nJyAmJiBsYWJlbC50cmltKCkgIT09ICcnKSB7XG4gICAgICAgICAgICAgICAgbGFiZWxDaGlsZHJlbiA9IGxhYmVsLnJlcGxhY2UoL1vvvJp8Ol1cXHMqJC8sICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBsYWJlbCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgQ29sLFxuICAgICAgICAgICAgICAgIF9leHRlbmRzKHt9LCBsYWJlbENvbCwgeyBjbGFzc05hbWU6IGxhYmVsQ29sQ2xhc3NOYW1lLCBrZXk6ICdsYWJlbCcgfSksXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ2xhYmVsJyxcbiAgICAgICAgICAgICAgICAgICAgeyBodG1sRm9yOiBpZCB8fCB0aGlzLmdldElkKCksIGNsYXNzTmFtZTogbGFiZWxDbGFzc05hbWUsIHRpdGxlOiB0eXBlb2YgbGFiZWwgPT09ICdzdHJpbmcnID8gbGFiZWwgOiAnJywgb25DbGljazogdGhpcy5vbkxhYmVsQ2xpY2sgfSxcbiAgICAgICAgICAgICAgICAgICAgbGFiZWxDaGlsZHJlblxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICkgOiBudWxsO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXJDaGlsZHJlbicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJDaGlsZHJlbigpIHtcbiAgICAgICAgICAgIHZhciBjaGlsZHJlbiA9IHRoaXMucHJvcHMuY2hpbGRyZW47XG5cbiAgICAgICAgICAgIHJldHVybiBbdGhpcy5yZW5kZXJMYWJlbCgpLCB0aGlzLnJlbmRlcldyYXBwZXIodGhpcy5yZW5kZXJWYWxpZGF0ZVdyYXBwZXIoY2hpbGRyZW4sIHRoaXMucmVuZGVySGVscCgpLCB0aGlzLnJlbmRlckV4dHJhKCkpKV07XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlckZvcm1JdGVtJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckZvcm1JdGVtKGNoaWxkcmVuKSB7XG4gICAgICAgICAgICB2YXIgX2l0ZW1DbGFzc05hbWU7XG5cbiAgICAgICAgICAgIHZhciBwcm9wcyA9IHRoaXMucHJvcHM7XG4gICAgICAgICAgICB2YXIgcHJlZml4Q2xzID0gcHJvcHMucHJlZml4Q2xzO1xuICAgICAgICAgICAgdmFyIHN0eWxlID0gcHJvcHMuc3R5bGU7XG4gICAgICAgICAgICB2YXIgaXRlbUNsYXNzTmFtZSA9IChfaXRlbUNsYXNzTmFtZSA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2l0ZW1DbGFzc05hbWUsIHByZWZpeENscyArICctaXRlbScsIHRydWUpLCBfZGVmaW5lUHJvcGVydHkoX2l0ZW1DbGFzc05hbWUsIHByZWZpeENscyArICctaXRlbS13aXRoLWhlbHAnLCB0aGlzLmhlbHBTaG93KSwgX2RlZmluZVByb3BlcnR5KF9pdGVtQ2xhc3NOYW1lLCBwcmVmaXhDbHMgKyAnLWl0ZW0tbm8tY29sb24nLCAhcHJvcHMuY29sb24pLCBfZGVmaW5lUHJvcGVydHkoX2l0ZW1DbGFzc05hbWUsICcnICsgcHJvcHMuY2xhc3NOYW1lLCAhIXByb3BzLmNsYXNzTmFtZSksIF9pdGVtQ2xhc3NOYW1lKTtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICAgICAgIFJvdyxcbiAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lcyhpdGVtQ2xhc3NOYW1lKSwgc3R5bGU6IHN0eWxlIH0sXG4gICAgICAgICAgICAgICAgY2hpbGRyZW5cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnJlbmRlckNoaWxkcmVuKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZW5kZXJGb3JtSXRlbShjaGlsZHJlbik7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gRm9ybUl0ZW07XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IEZvcm1JdGVtO1xuXG5Gb3JtSXRlbS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgaGFzRmVlZGJhY2s6IGZhbHNlLFxuICAgIHByZWZpeENsczogJ2FudC1mb3JtJyxcbiAgICBjb2xvbjogdHJ1ZVxufTtcbkZvcm1JdGVtLnByb3BUeXBlcyA9IHtcbiAgICBwcmVmaXhDbHM6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbGFiZWw6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5ub2RlXSksXG4gICAgbGFiZWxDb2w6IFByb3BUeXBlcy5vYmplY3QsXG4gICAgaGVscDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLm5vZGUsIFByb3BUeXBlcy5ib29sXSksXG4gICAgdmFsaWRhdGVTdGF0dXM6IFByb3BUeXBlcy5vbmVPZihbJycsICdzdWNjZXNzJywgJ3dhcm5pbmcnLCAnZXJyb3InLCAndmFsaWRhdGluZyddKSxcbiAgICBoYXNGZWVkYmFjazogUHJvcFR5cGVzLmJvb2wsXG4gICAgd3JhcHBlckNvbDogUHJvcFR5cGVzLm9iamVjdCxcbiAgICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgaWQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5ub2RlLFxuICAgIGNvbG9uOiBQcm9wVHlwZXMuYm9vbFxufTtcbkZvcm1JdGVtLmNvbnRleHRUeXBlcyA9IHtcbiAgICB2ZXJ0aWNhbDogUHJvcFR5cGVzLmJvb2xcbn07IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBjcmVhdGVET01Gb3JtIGZyb20gJ3JjLWZvcm0vZXMvY3JlYXRlRE9NRm9ybSc7XG5pbXBvcnQgY3JlYXRlRm9ybUZpZWxkIGZyb20gJ3JjLWZvcm0vZXMvY3JlYXRlRm9ybUZpZWxkJztcbmltcG9ydCBvbWl0IGZyb20gJ29taXQuanMnO1xuaW1wb3J0IHdhcm5pbmcgZnJvbSAnLi4vX3V0aWwvd2FybmluZyc7XG5pbXBvcnQgRm9ybUl0ZW0gZnJvbSAnLi9Gb3JtSXRlbSc7XG5pbXBvcnQgeyBGSUVMRF9NRVRBX1BST1AsIEZJRUxEX0RBVEFfUFJPUCB9IGZyb20gJy4vY29uc3RhbnRzJztcblxudmFyIEZvcm0gPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhGb3JtLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIEZvcm0ocHJvcHMpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEZvcm0pO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChGb3JtLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoRm9ybSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgICAgICB3YXJuaW5nKCFwcm9wcy5mb3JtLCAnSXQgaXMgdW5uZWNlc3NhcnkgdG8gcGFzcyBgZm9ybWAgdG8gYEZvcm1gIGFmdGVyIGFudGRAMS43LjAuJyk7XG4gICAgICAgIHJldHVybiBfdGhpcztcbiAgICB9XG5cbiAgICBfY3JlYXRlQ2xhc3MoRm9ybSwgW3tcbiAgICAgICAga2V5OiAnZ2V0Q2hpbGRDb250ZXh0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldENoaWxkQ29udGV4dCgpIHtcbiAgICAgICAgICAgIHZhciBsYXlvdXQgPSB0aGlzLnByb3BzLmxheW91dDtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNhbDogbGF5b3V0ID09PSAndmVydGljYWwnXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgICAgICAgICAgdmFyIF9jbGFzc05hbWVzO1xuXG4gICAgICAgICAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIGhpZGVSZXF1aXJlZE1hcmsgPSBfcHJvcHMuaGlkZVJlcXVpcmVkTWFyayxcbiAgICAgICAgICAgICAgICBfcHJvcHMkY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWUgPSBfcHJvcHMkY2xhc3NOYW1lID09PSB1bmRlZmluZWQgPyAnJyA6IF9wcm9wcyRjbGFzc05hbWUsXG4gICAgICAgICAgICAgICAgbGF5b3V0ID0gX3Byb3BzLmxheW91dDtcblxuICAgICAgICAgICAgdmFyIGZvcm1DbGFzc05hbWUgPSBjbGFzc05hbWVzKHByZWZpeENscywgKF9jbGFzc05hbWVzID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1ob3Jpem9udGFsJywgbGF5b3V0ID09PSAnaG9yaXpvbnRhbCcpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctdmVydGljYWwnLCBsYXlvdXQgPT09ICd2ZXJ0aWNhbCcpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctaW5saW5lJywgbGF5b3V0ID09PSAnaW5saW5lJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1oaWRlLXJlcXVpcmVkLW1hcmsnLCBoaWRlUmVxdWlyZWRNYXJrKSwgX2NsYXNzTmFtZXMpLCBjbGFzc05hbWUpO1xuICAgICAgICAgICAgdmFyIGZvcm1Qcm9wcyA9IG9taXQodGhpcy5wcm9wcywgWydwcmVmaXhDbHMnLCAnY2xhc3NOYW1lJywgJ2xheW91dCcsICdmb3JtJywgJ2hpZGVSZXF1aXJlZE1hcmsnXSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudCgnZm9ybScsIF9leHRlbmRzKHt9LCBmb3JtUHJvcHMsIHsgY2xhc3NOYW1lOiBmb3JtQ2xhc3NOYW1lIH0pKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBGb3JtO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBGb3JtO1xuXG5Gb3JtLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBwcmVmaXhDbHM6ICdhbnQtZm9ybScsXG4gICAgbGF5b3V0OiAnaG9yaXpvbnRhbCcsXG4gICAgaGlkZVJlcXVpcmVkTWFyazogZmFsc2UsXG4gICAgb25TdWJtaXQ6IGZ1bmN0aW9uIG9uU3VibWl0KGUpIHtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH1cbn07XG5Gb3JtLnByb3BUeXBlcyA9IHtcbiAgICBwcmVmaXhDbHM6IFByb3BUeXBlcy5zdHJpbmcsXG4gICAgbGF5b3V0OiBQcm9wVHlwZXMub25lT2YoWydob3Jpem9udGFsJywgJ2lubGluZScsICd2ZXJ0aWNhbCddKSxcbiAgICBjaGlsZHJlbjogUHJvcFR5cGVzLmFueSxcbiAgICBvblN1Ym1pdDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgaGlkZVJlcXVpcmVkTWFyazogUHJvcFR5cGVzLmJvb2xcbn07XG5Gb3JtLmNoaWxkQ29udGV4dFR5cGVzID0ge1xuICAgIHZlcnRpY2FsOiBQcm9wVHlwZXMuYm9vbFxufTtcbkZvcm0uSXRlbSA9IEZvcm1JdGVtO1xuRm9ybS5jcmVhdGVGb3JtRmllbGQgPSBjcmVhdGVGb3JtRmllbGQ7XG5Gb3JtLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgb3B0aW9ucyA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDoge307XG5cbiAgICByZXR1cm4gY3JlYXRlRE9NRm9ybShfZXh0ZW5kcyh7IGZpZWxkTmFtZVByb3A6ICdpZCcgfSwgb3B0aW9ucywgeyBmaWVsZE1ldGFQcm9wOiBGSUVMRF9NRVRBX1BST1AsIGZpZWxkRGF0YVByb3A6IEZJRUxEX0RBVEFfUFJPUCB9KSk7XG59OyIsImltcG9ydCBGb3JtIGZyb20gJy4vRm9ybSc7XG5leHBvcnQgZGVmYXVsdCBGb3JtOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgb21pdCBmcm9tICdvbWl0LmpzJztcbmZ1bmN0aW9uIGZpeENvbnRyb2xsZWRWYWx1ZSh2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICd1bmRlZmluZWQnIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuXG52YXIgSW5wdXQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICAgIF9pbmhlcml0cyhJbnB1dCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBJbnB1dCgpIHtcbiAgICAgICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIElucHV0KTtcblxuICAgICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoSW5wdXQuX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihJbnB1dCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuXG4gICAgICAgIF90aGlzLmhhbmRsZUtleURvd24gPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgb25QcmVzc0VudGVyID0gX3RoaXMkcHJvcHMub25QcmVzc0VudGVyLFxuICAgICAgICAgICAgICAgIG9uS2V5RG93biA9IF90aGlzJHByb3BzLm9uS2V5RG93bjtcblxuICAgICAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMgJiYgb25QcmVzc0VudGVyKSB7XG4gICAgICAgICAgICAgICAgb25QcmVzc0VudGVyKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9uS2V5RG93bikge1xuICAgICAgICAgICAgICAgIG9uS2V5RG93bihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc2F2ZUlucHV0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIF90aGlzLmlucHV0ID0gbm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhJbnB1dCwgW3tcbiAgICAgICAga2V5OiAnZm9jdXMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JsdXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYmx1cigpIHtcbiAgICAgICAgICAgIHRoaXMuaW5wdXQuYmx1cigpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdzZWxlY3QnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gc2VsZWN0KCkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5zZWxlY3QoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0SW5wdXRDbGFzc05hbWUnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SW5wdXRDbGFzc05hbWUoKSB7XG4gICAgICAgICAgICB2YXIgX2NsYXNzTmFtZXM7XG5cbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgc2l6ZSA9IF9wcm9wcy5zaXplLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkO1xuXG4gICAgICAgICAgICByZXR1cm4gY2xhc3NOYW1lcyhwcmVmaXhDbHMsIChfY2xhc3NOYW1lcyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctc20nLCBzaXplID09PSAnc21hbGwnKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWxnJywgc2l6ZSA9PT0gJ2xhcmdlJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIGRpc2FibGVkKSwgX2NsYXNzTmFtZXMpKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyTGFiZWxlZElucHV0JyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlckxhYmVsZWRJbnB1dChjaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIF9jbGFzc05hbWVzMztcblxuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgICAgICAgIC8vIE5vdCB3cmFwIHdoZW4gdGhlcmUgaXMgbm90IGFkZG9uc1xuICAgICAgICAgICAgaWYgKCFwcm9wcy5hZGRvbkJlZm9yZSAmJiAhcHJvcHMuYWRkb25BZnRlcikge1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGlsZHJlbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB3cmFwcGVyQ2xhc3NOYW1lID0gcHJvcHMucHJlZml4Q2xzICsgJy1ncm91cCc7XG4gICAgICAgICAgICB2YXIgYWRkb25DbGFzc05hbWUgPSB3cmFwcGVyQ2xhc3NOYW1lICsgJy1hZGRvbic7XG4gICAgICAgICAgICB2YXIgYWRkb25CZWZvcmUgPSBwcm9wcy5hZGRvbkJlZm9yZSA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBhZGRvbkNsYXNzTmFtZSB9LFxuICAgICAgICAgICAgICAgIHByb3BzLmFkZG9uQmVmb3JlXG4gICAgICAgICAgICApIDogbnVsbDtcbiAgICAgICAgICAgIHZhciBhZGRvbkFmdGVyID0gcHJvcHMuYWRkb25BZnRlciA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBhZGRvbkNsYXNzTmFtZSB9LFxuICAgICAgICAgICAgICAgIHByb3BzLmFkZG9uQWZ0ZXJcbiAgICAgICAgICAgICkgOiBudWxsO1xuICAgICAgICAgICAgdmFyIGNsYXNzTmFtZSA9IGNsYXNzTmFtZXMocHJvcHMucHJlZml4Q2xzICsgJy13cmFwcGVyJywgX2RlZmluZVByb3BlcnR5KHt9LCB3cmFwcGVyQ2xhc3NOYW1lLCBhZGRvbkJlZm9yZSB8fCBhZGRvbkFmdGVyKSk7XG4gICAgICAgICAgICB2YXIgZ3JvdXBDbGFzc05hbWUgPSBjbGFzc05hbWVzKHByb3BzLnByZWZpeENscyArICctZ3JvdXAtd3JhcHBlcicsIChfY2xhc3NOYW1lczMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzMywgcHJvcHMucHJlZml4Q2xzICsgJy1ncm91cC13cmFwcGVyLXNtJywgcHJvcHMuc2l6ZSA9PT0gJ3NtYWxsJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lczMsIHByb3BzLnByZWZpeENscyArICctZ3JvdXAtd3JhcHBlci1sZycsIHByb3BzLnNpemUgPT09ICdsYXJnZScpLCBfY2xhc3NOYW1lczMpKTtcbiAgICAgICAgICAgIC8vIE5lZWQgYW5vdGhlciB3cmFwcGVyIGZvciBjaGFuZ2luZyBkaXNwbGF5OnRhYmxlIHRvIGRpc3BsYXk6aW5saW5lLWJsb2NrXG4gICAgICAgICAgICAvLyBhbmQgcHV0IHN0eWxlIHByb3AgaW4gd3JhcHBlclxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBncm91cENsYXNzTmFtZSwgc3R5bGU6IHByb3BzLnN0eWxlIH0sXG4gICAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogY2xhc3NOYW1lIH0sXG4gICAgICAgICAgICAgICAgICAgIGFkZG9uQmVmb3JlLFxuICAgICAgICAgICAgICAgICAgICBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHsgc3R5bGU6IG51bGwgfSksXG4gICAgICAgICAgICAgICAgICAgIGFkZG9uQWZ0ZXJcbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXJMYWJlbGVkSWNvbicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJMYWJlbGVkSWNvbihjaGlsZHJlbikge1xuICAgICAgICAgICAgdmFyIF9jbGFzc05hbWVzNDtcblxuICAgICAgICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcblxuICAgICAgICAgICAgaWYgKCEoJ3ByZWZpeCcgaW4gcHJvcHMgfHwgJ3N1ZmZpeCcgaW4gcHJvcHMpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNoaWxkcmVuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHByZWZpeCA9IHByb3BzLnByZWZpeCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLXByZWZpeCcgfSxcbiAgICAgICAgICAgICAgICBwcm9wcy5wcmVmaXhcbiAgICAgICAgICAgICkgOiBudWxsO1xuICAgICAgICAgICAgdmFyIHN1ZmZpeCA9IHByb3BzLnN1ZmZpeCA/IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcm9wcy5wcmVmaXhDbHMgKyAnLXN1ZmZpeCcgfSxcbiAgICAgICAgICAgICAgICBwcm9wcy5zdWZmaXhcbiAgICAgICAgICAgICkgOiBudWxsO1xuICAgICAgICAgICAgdmFyIGFmZml4V3JhcHBlckNscyA9IGNsYXNzTmFtZXMocHJvcHMuY2xhc3NOYW1lLCBwcm9wcy5wcmVmaXhDbHMgKyAnLWFmZml4LXdyYXBwZXInLCAoX2NsYXNzTmFtZXM0ID0ge30sIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lczQsIHByb3BzLnByZWZpeENscyArICctYWZmaXgtd3JhcHBlci1zbScsIHByb3BzLnNpemUgPT09ICdzbWFsbCcpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXM0LCBwcm9wcy5wcmVmaXhDbHMgKyAnLWFmZml4LXdyYXBwZXItbGcnLCBwcm9wcy5zaXplID09PSAnbGFyZ2UnKSwgX2NsYXNzTmFtZXM0KSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgICAgICAgeyBjbGFzc05hbWU6IGFmZml4V3JhcHBlckNscywgc3R5bGU6IHByb3BzLnN0eWxlIH0sXG4gICAgICAgICAgICAgICAgcHJlZml4LFxuICAgICAgICAgICAgICAgIFJlYWN0LmNsb25lRWxlbWVudChjaGlsZHJlbiwgeyBzdHlsZTogbnVsbCwgY2xhc3NOYW1lOiB0aGlzLmdldElucHV0Q2xhc3NOYW1lKCkgfSksXG4gICAgICAgICAgICAgICAgc3VmZml4XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdyZW5kZXJJbnB1dCcsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXJJbnB1dCgpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IF9wcm9wczIudmFsdWUsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzMi5jbGFzc05hbWU7XG4gICAgICAgICAgICAvLyBGaXggaHR0cHM6Ly9mYi5tZS9yZWFjdC11bmtub3duLXByb3BcblxuICAgICAgICAgICAgdmFyIG90aGVyUHJvcHMgPSBvbWl0KHRoaXMucHJvcHMsIFsncHJlZml4Q2xzJywgJ29uUHJlc3NFbnRlcicsICdhZGRvbkJlZm9yZScsICdhZGRvbkFmdGVyJywgJ3ByZWZpeCcsICdzdWZmaXgnXSk7XG4gICAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiB0aGlzLnByb3BzKSB7XG4gICAgICAgICAgICAgICAgb3RoZXJQcm9wcy52YWx1ZSA9IGZpeENvbnRyb2xsZWRWYWx1ZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgLy8gSW5wdXQgZWxlbWVudHMgbXVzdCBiZSBlaXRoZXIgY29udHJvbGxlZCBvciB1bmNvbnRyb2xsZWQsXG4gICAgICAgICAgICAgICAgLy8gc3BlY2lmeSBlaXRoZXIgdGhlIHZhbHVlIHByb3AsIG9yIHRoZSBkZWZhdWx0VmFsdWUgcHJvcCwgYnV0IG5vdCBib3RoLlxuICAgICAgICAgICAgICAgIGRlbGV0ZSBvdGhlclByb3BzLmRlZmF1bHRWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlckxhYmVsZWRJY29uKFJlYWN0LmNyZWF0ZUVsZW1lbnQoJ2lucHV0JywgX2V4dGVuZHMoe30sIG90aGVyUHJvcHMsIHsgY2xhc3NOYW1lOiBjbGFzc05hbWVzKHRoaXMuZ2V0SW5wdXRDbGFzc05hbWUoKSwgY2xhc3NOYW1lKSwgb25LZXlEb3duOiB0aGlzLmhhbmRsZUtleURvd24sIHJlZjogdGhpcy5zYXZlSW5wdXQgfSkpKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlbmRlckxhYmVsZWRJbnB1dCh0aGlzLnJlbmRlcklucHV0KCkpO1xuICAgICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIElucHV0O1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgZGVmYXVsdCBJbnB1dDtcblxuSW5wdXQuZGVmYXVsdFByb3BzID0ge1xuICAgIHByZWZpeENsczogJ2FudC1pbnB1dCcsXG4gICAgdHlwZTogJ3RleHQnLFxuICAgIGRpc2FibGVkOiBmYWxzZVxufTtcbklucHV0LnByb3BUeXBlcyA9IHtcbiAgICB0eXBlOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIGlkOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuc3RyaW5nLCBQcm9wVHlwZXMubnVtYmVyXSksXG4gICAgc2l6ZTogUHJvcFR5cGVzLm9uZU9mKFsnc21hbGwnLCAnZGVmYXVsdCcsICdsYXJnZSddKSxcbiAgICBtYXhMZW5ndGg6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5udW1iZXJdKSxcbiAgICBkaXNhYmxlZDogUHJvcFR5cGVzLmJvb2wsXG4gICAgdmFsdWU6IFByb3BUeXBlcy5hbnksXG4gICAgZGVmYXVsdFZhbHVlOiBQcm9wVHlwZXMuYW55LFxuICAgIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgICBhZGRvbkJlZm9yZTogUHJvcFR5cGVzLm5vZGUsXG4gICAgYWRkb25BZnRlcjogUHJvcFR5cGVzLm5vZGUsXG4gICAgcHJlZml4Q2xzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICAgIG9uUHJlc3NFbnRlcjogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25LZXlEb3duOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbktleVVwOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkZvY3VzOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkJsdXI6IFByb3BUeXBlcy5mdW5jLFxuICAgIHByZWZpeDogUHJvcFR5cGVzLm5vZGUsXG4gICAgc3VmZml4OiBQcm9wVHlwZXMubm9kZVxufTsiLCJpbXBvcnQgX2RlZmluZVByb3BlcnR5IGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9kZWZpbmVQcm9wZXJ0eSc7XG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbnZhciBHcm91cCA9IGZ1bmN0aW9uIEdyb3VwKHByb3BzKSB7XG4gICAgdmFyIF9jbGFzc05hbWVzO1xuXG4gICAgdmFyIF9wcm9wcyRwcmVmaXhDbHMgPSBwcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wcyRwcmVmaXhDbHMgPT09IHVuZGVmaW5lZCA/ICdhbnQtaW5wdXQtZ3JvdXAnIDogX3Byb3BzJHByZWZpeENscyxcbiAgICAgICAgX3Byb3BzJGNsYXNzTmFtZSA9IHByb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzJGNsYXNzTmFtZSA9PT0gdW5kZWZpbmVkID8gJycgOiBfcHJvcHMkY2xhc3NOYW1lO1xuXG4gICAgdmFyIGNscyA9IGNsYXNzTmFtZXMocHJlZml4Q2xzLCAoX2NsYXNzTmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWxnJywgcHJvcHMuc2l6ZSA9PT0gJ2xhcmdlJyksIF9kZWZpbmVQcm9wZXJ0eShfY2xhc3NOYW1lcywgcHJlZml4Q2xzICsgJy1zbScsIHByb3BzLnNpemUgPT09ICdzbWFsbCcpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctY29tcGFjdCcsIHByb3BzLmNvbXBhY3QpLCBfY2xhc3NOYW1lcyksIGNsYXNzTmFtZSk7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzcGFuJyxcbiAgICAgICAgeyBjbGFzc05hbWU6IGNscywgc3R5bGU6IHByb3BzLnN0eWxlLCBvbk1vdXNlRW50ZXI6IHByb3BzLm9uTW91c2VFbnRlciwgb25Nb3VzZUxlYXZlOiBwcm9wcy5vbk1vdXNlTGVhdmUsIG9uRm9jdXM6IHByb3BzLm9uRm9jdXMsIG9uQmx1cjogcHJvcHMub25CbHVyIH0sXG4gICAgICAgIHByb3BzLmNoaWxkcmVuXG4gICAgKTtcbn07XG5leHBvcnQgZGVmYXVsdCBHcm91cDsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbnZhciBfX3Jlc3QgPSB0aGlzICYmIHRoaXMuX19yZXN0IHx8IGZ1bmN0aW9uIChzLCBlKSB7XG4gICAgdmFyIHQgPSB7fTtcbiAgICBmb3IgKHZhciBwIGluIHMpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKSB0W3BdID0gc1twXTtcbiAgICB9aWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKSBmb3IgKHZhciBpID0gMCwgcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7IGkgPCBwLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKSB0W3BbaV1dID0gc1twW2ldXTtcbiAgICB9cmV0dXJuIHQ7XG59O1xuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgSW5wdXQgZnJvbSAnLi9JbnB1dCc7XG5pbXBvcnQgSWNvbiBmcm9tICcuLi9pY29uJztcbmltcG9ydCBCdXR0b24gZnJvbSAnLi4vYnV0dG9uJztcblxudmFyIFNlYXJjaCA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFNlYXJjaCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgICBmdW5jdGlvbiBTZWFyY2goKSB7XG4gICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTZWFyY2gpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChTZWFyY2guX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihTZWFyY2gpKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgICAgICBfdGhpcy5vblNlYXJjaCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICB2YXIgb25TZWFyY2ggPSBfdGhpcy5wcm9wcy5vblNlYXJjaDtcblxuICAgICAgICAgICAgaWYgKG9uU2VhcmNoKSB7XG4gICAgICAgICAgICAgICAgb25TZWFyY2goX3RoaXMuaW5wdXQuaW5wdXQudmFsdWUsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgX3RoaXMuaW5wdXQuZm9jdXMoKTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuc2F2ZUlucHV0ID0gZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgICAgICAgIF90aGlzLmlucHV0ID0gbm9kZTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhTZWFyY2gsIFt7XG4gICAgICAgIGtleTogJ2ZvY3VzJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGZvY3VzKCkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdibHVyJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGJsdXIoKSB7XG4gICAgICAgICAgICB0aGlzLmlucHV0LmJsdXIoKTtcbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZ2V0QnV0dG9uT3JJY29uJyxcbiAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEJ1dHRvbk9ySWNvbigpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIGVudGVyQnV0dG9uID0gX3Byb3BzLmVudGVyQnV0dG9uLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgc2l6ZSA9IF9wcm9wcy5zaXplLFxuICAgICAgICAgICAgICAgIGRpc2FibGVkID0gX3Byb3BzLmRpc2FibGVkO1xuXG4gICAgICAgICAgICB2YXIgZW50ZXJCdXR0b25Bc0VsZW1lbnQgPSBlbnRlckJ1dHRvbjtcbiAgICAgICAgICAgIHZhciBub2RlID0gdm9pZCAwO1xuICAgICAgICAgICAgaWYgKCFlbnRlckJ1dHRvbikge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KEljb24sIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWljb24nLCB0eXBlOiAnc2VhcmNoJywga2V5OiAnc2VhcmNoSWNvbicgfSk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGVudGVyQnV0dG9uQXNFbGVtZW50LnR5cGUgPT09IEJ1dHRvbiB8fCBlbnRlckJ1dHRvbkFzRWxlbWVudC50eXBlID09PSAnYnV0dG9uJykge1xuICAgICAgICAgICAgICAgIG5vZGUgPSBSZWFjdC5jbG9uZUVsZW1lbnQoZW50ZXJCdXR0b25Bc0VsZW1lbnQsIGVudGVyQnV0dG9uQXNFbGVtZW50LnR5cGUgPT09IEJ1dHRvbiA/IHtcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWJ1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgIHNpemU6IHNpemVcbiAgICAgICAgICAgICAgICB9IDoge30pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBub2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgICAgICAgICAgQnV0dG9uLFxuICAgICAgICAgICAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1idXR0b24nLCB0eXBlOiAncHJpbWFyeScsIHNpemU6IHNpemUsIGRpc2FibGVkOiBkaXNhYmxlZCwga2V5OiAnZW50ZXJCdXR0b24nIH0sXG4gICAgICAgICAgICAgICAgICAgIGVudGVyQnV0dG9uID09PSB0cnVlID8gUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7IHR5cGU6ICdzZWFyY2gnIH0pIDogZW50ZXJCdXR0b25cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChub2RlLCB7XG4gICAgICAgICAgICAgICAgb25DbGljazogdGhpcy5vblNlYXJjaFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgX2NsYXNzTmFtZXM7XG5cbiAgICAgICAgICAgIHZhciBfYSA9IHRoaXMucHJvcHMsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gX2EuY2xhc3NOYW1lLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9hLnByZWZpeENscyxcbiAgICAgICAgICAgICAgICBpbnB1dFByZWZpeENscyA9IF9hLmlucHV0UHJlZml4Q2xzLFxuICAgICAgICAgICAgICAgIHNpemUgPSBfYS5zaXplLFxuICAgICAgICAgICAgICAgIHN1ZmZpeCA9IF9hLnN1ZmZpeCxcbiAgICAgICAgICAgICAgICBlbnRlckJ1dHRvbiA9IF9hLmVudGVyQnV0dG9uLFxuICAgICAgICAgICAgICAgIG90aGVycyA9IF9fcmVzdChfYSwgW1wiY2xhc3NOYW1lXCIsIFwicHJlZml4Q2xzXCIsIFwiaW5wdXRQcmVmaXhDbHNcIiwgXCJzaXplXCIsIFwic3VmZml4XCIsIFwiZW50ZXJCdXR0b25cIl0pO1xuICAgICAgICAgICAgZGVsZXRlIG90aGVycy5vblNlYXJjaDtcbiAgICAgICAgICAgIHZhciBidXR0b25Pckljb24gPSB0aGlzLmdldEJ1dHRvbk9ySWNvbigpO1xuICAgICAgICAgICAgdmFyIHNlYXJjaFN1ZmZpeCA9IHN1ZmZpeCA/IFtzdWZmaXgsIGJ1dHRvbk9ySWNvbl0gOiBidXR0b25Pckljb247XG4gICAgICAgICAgICB2YXIgaW5wdXRDbGFzc05hbWUgPSBjbGFzc05hbWVzKHByZWZpeENscywgY2xhc3NOYW1lLCAoX2NsYXNzTmFtZXMgPSB7fSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBwcmVmaXhDbHMgKyAnLWVudGVyLWJ1dHRvbicsICEhZW50ZXJCdXR0b24pLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIHByZWZpeENscyArICctJyArIHNpemUsICEhc2l6ZSksIF9jbGFzc05hbWVzKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChJbnB1dCwgX2V4dGVuZHMoeyBvblByZXNzRW50ZXI6IHRoaXMub25TZWFyY2ggfSwgb3RoZXJzLCB7IHNpemU6IHNpemUsIGNsYXNzTmFtZTogaW5wdXRDbGFzc05hbWUsIHByZWZpeENsczogaW5wdXRQcmVmaXhDbHMsIHN1ZmZpeDogc2VhcmNoU3VmZml4LCByZWY6IHRoaXMuc2F2ZUlucHV0IH0pKTtcbiAgICAgICAgfVxuICAgIH1dKTtcblxuICAgIHJldHVybiBTZWFyY2g7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IFNlYXJjaDtcblxuU2VhcmNoLmRlZmF1bHRQcm9wcyA9IHtcbiAgICBpbnB1dFByZWZpeENsczogJ2FudC1pbnB1dCcsXG4gICAgcHJlZml4Q2xzOiAnYW50LWlucHV0LXNlYXJjaCcsXG4gICAgZW50ZXJCdXR0b246IGZhbHNlXG59OyIsIi8vIFRoYW5rcyB0byBodHRwczovL2dpdGh1Yi5jb20vYW5kcmV5cG9wcC9yZWFjdC10ZXh0YXJlYS1hdXRvc2l6ZS9cbi8qKlxuICogY2FsY3VsYXRlTm9kZUhlaWdodCh1aVRleHROb2RlLCB1c2VDYWNoZSA9IGZhbHNlKVxuICovXG52YXIgSElEREVOX1RFWFRBUkVBX1NUWUxFID0gJ1xcbiAgbWluLWhlaWdodDowICFpbXBvcnRhbnQ7XFxuICBtYXgtaGVpZ2h0Om5vbmUgIWltcG9ydGFudDtcXG4gIGhlaWdodDowICFpbXBvcnRhbnQ7XFxuICB2aXNpYmlsaXR5OmhpZGRlbiAhaW1wb3J0YW50O1xcbiAgb3ZlcmZsb3c6aGlkZGVuICFpbXBvcnRhbnQ7XFxuICBwb3NpdGlvbjphYnNvbHV0ZSAhaW1wb3J0YW50O1xcbiAgei1pbmRleDotMTAwMCAhaW1wb3J0YW50O1xcbiAgdG9wOjAgIWltcG9ydGFudDtcXG4gIHJpZ2h0OjAgIWltcG9ydGFudFxcbic7XG52YXIgU0laSU5HX1NUWUxFID0gWydsZXR0ZXItc3BhY2luZycsICdsaW5lLWhlaWdodCcsICdwYWRkaW5nLXRvcCcsICdwYWRkaW5nLWJvdHRvbScsICdmb250LWZhbWlseScsICdmb250LXdlaWdodCcsICdmb250LXNpemUnLCAndGV4dC1yZW5kZXJpbmcnLCAndGV4dC10cmFuc2Zvcm0nLCAnd2lkdGgnLCAndGV4dC1pbmRlbnQnLCAncGFkZGluZy1sZWZ0JywgJ3BhZGRpbmctcmlnaHQnLCAnYm9yZGVyLXdpZHRoJywgJ2JveC1zaXppbmcnXTtcbnZhciBjb21wdXRlZFN0eWxlQ2FjaGUgPSB7fTtcbnZhciBoaWRkZW5UZXh0YXJlYSA9IHZvaWQgMDtcbmZ1bmN0aW9uIGNhbGN1bGF0ZU5vZGVTdHlsaW5nKG5vZGUpIHtcbiAgICB2YXIgdXNlQ2FjaGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IGZhbHNlO1xuXG4gICAgdmFyIG5vZGVSZWYgPSBub2RlLmdldEF0dHJpYnV0ZSgnaWQnKSB8fCBub2RlLmdldEF0dHJpYnV0ZSgnZGF0YS1yZWFjdGlkJykgfHwgbm9kZS5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcbiAgICBpZiAodXNlQ2FjaGUgJiYgY29tcHV0ZWRTdHlsZUNhY2hlW25vZGVSZWZdKSB7XG4gICAgICAgIHJldHVybiBjb21wdXRlZFN0eWxlQ2FjaGVbbm9kZVJlZl07XG4gICAgfVxuICAgIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUpO1xuICAgIHZhciBib3hTaXppbmcgPSBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdib3gtc2l6aW5nJykgfHwgc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLW1vei1ib3gtc2l6aW5nJykgfHwgc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgnLXdlYmtpdC1ib3gtc2l6aW5nJyk7XG4gICAgdmFyIHBhZGRpbmdTaXplID0gcGFyc2VGbG9hdChzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKCdwYWRkaW5nLWJvdHRvbScpKSArIHBhcnNlRmxvYXQoc3R5bGUuZ2V0UHJvcGVydHlWYWx1ZSgncGFkZGluZy10b3AnKSk7XG4gICAgdmFyIGJvcmRlclNpemUgPSBwYXJzZUZsb2F0KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2JvcmRlci1ib3R0b20td2lkdGgnKSkgKyBwYXJzZUZsb2F0KHN0eWxlLmdldFByb3BlcnR5VmFsdWUoJ2JvcmRlci10b3Atd2lkdGgnKSk7XG4gICAgdmFyIHNpemluZ1N0eWxlID0gU0laSU5HX1NUWUxFLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICByZXR1cm4gbmFtZSArICc6JyArIHN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSk7XG4gICAgfSkuam9pbignOycpO1xuICAgIHZhciBub2RlSW5mbyA9IHtcbiAgICAgICAgc2l6aW5nU3R5bGU6IHNpemluZ1N0eWxlLFxuICAgICAgICBwYWRkaW5nU2l6ZTogcGFkZGluZ1NpemUsXG4gICAgICAgIGJvcmRlclNpemU6IGJvcmRlclNpemUsXG4gICAgICAgIGJveFNpemluZzogYm94U2l6aW5nXG4gICAgfTtcbiAgICBpZiAodXNlQ2FjaGUgJiYgbm9kZVJlZikge1xuICAgICAgICBjb21wdXRlZFN0eWxlQ2FjaGVbbm9kZVJlZl0gPSBub2RlSW5mbztcbiAgICB9XG4gICAgcmV0dXJuIG5vZGVJbmZvO1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gY2FsY3VsYXRlTm9kZUhlaWdodCh1aVRleHROb2RlKSB7XG4gICAgdmFyIHVzZUNhY2hlID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBmYWxzZTtcbiAgICB2YXIgbWluUm93cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAyICYmIGFyZ3VtZW50c1syXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzJdIDogbnVsbDtcbiAgICB2YXIgbWF4Um93cyA9IGFyZ3VtZW50cy5sZW5ndGggPiAzICYmIGFyZ3VtZW50c1szXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzNdIDogbnVsbDtcblxuICAgIGlmICghaGlkZGVuVGV4dGFyZWEpIHtcbiAgICAgICAgaGlkZGVuVGV4dGFyZWEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScpO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGhpZGRlblRleHRhcmVhKTtcbiAgICB9XG4gICAgLy8gRml4IHdyYXA9XCJvZmZcIiBpc3N1ZVxuICAgIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzY1NzdcbiAgICBpZiAodWlUZXh0Tm9kZS5nZXRBdHRyaWJ1dGUoJ3dyYXAnKSkge1xuICAgICAgICBoaWRkZW5UZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ3dyYXAnLCB1aVRleHROb2RlLmdldEF0dHJpYnV0ZSgnd3JhcCcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBoaWRkZW5UZXh0YXJlYS5yZW1vdmVBdHRyaWJ1dGUoJ3dyYXAnKTtcbiAgICB9XG4gICAgLy8gQ29weSBhbGwgQ1NTIHByb3BlcnRpZXMgdGhhdCBoYXZlIGFuIGltcGFjdCBvbiB0aGUgaGVpZ2h0IG9mIHRoZSBjb250ZW50IGluXG4gICAgLy8gdGhlIHRleHRib3hcblxuICAgIHZhciBfY2FsY3VsYXRlTm9kZVN0eWxpbmcgPSBjYWxjdWxhdGVOb2RlU3R5bGluZyh1aVRleHROb2RlLCB1c2VDYWNoZSksXG4gICAgICAgIHBhZGRpbmdTaXplID0gX2NhbGN1bGF0ZU5vZGVTdHlsaW5nLnBhZGRpbmdTaXplLFxuICAgICAgICBib3JkZXJTaXplID0gX2NhbGN1bGF0ZU5vZGVTdHlsaW5nLmJvcmRlclNpemUsXG4gICAgICAgIGJveFNpemluZyA9IF9jYWxjdWxhdGVOb2RlU3R5bGluZy5ib3hTaXppbmcsXG4gICAgICAgIHNpemluZ1N0eWxlID0gX2NhbGN1bGF0ZU5vZGVTdHlsaW5nLnNpemluZ1N0eWxlO1xuICAgIC8vIE5lZWQgdG8gaGF2ZSB0aGUgb3ZlcmZsb3cgYXR0cmlidXRlIHRvIGhpZGUgdGhlIHNjcm9sbGJhciBvdGhlcndpc2VcbiAgICAvLyB0ZXh0LWxpbmVzIHdpbGwgbm90IGNhbGN1bGF0ZWQgcHJvcGVybHkgYXMgdGhlIHNoYWRvdyB3aWxsIHRlY2huaWNhbGx5IGJlXG4gICAgLy8gbmFycm93ZXIgZm9yIGNvbnRlbnRcblxuXG4gICAgaGlkZGVuVGV4dGFyZWEuc2V0QXR0cmlidXRlKCdzdHlsZScsIHNpemluZ1N0eWxlICsgJzsnICsgSElEREVOX1RFWFRBUkVBX1NUWUxFKTtcbiAgICBoaWRkZW5UZXh0YXJlYS52YWx1ZSA9IHVpVGV4dE5vZGUudmFsdWUgfHwgdWlUZXh0Tm9kZS5wbGFjZWhvbGRlciB8fCAnJztcbiAgICB2YXIgbWluSGVpZ2h0ID0gTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVI7XG4gICAgdmFyIG1heEhlaWdodCA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSO1xuICAgIHZhciBoZWlnaHQgPSBoaWRkZW5UZXh0YXJlYS5zY3JvbGxIZWlnaHQ7XG4gICAgdmFyIG92ZXJmbG93WSA9IHZvaWQgMDtcbiAgICBpZiAoYm94U2l6aW5nID09PSAnYm9yZGVyLWJveCcpIHtcbiAgICAgICAgLy8gYm9yZGVyLWJveDogYWRkIGJvcmRlciwgc2luY2UgaGVpZ2h0ID0gY29udGVudCArIHBhZGRpbmcgKyBib3JkZXJcbiAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0ICsgYm9yZGVyU2l6ZTtcbiAgICB9IGVsc2UgaWYgKGJveFNpemluZyA9PT0gJ2NvbnRlbnQtYm94Jykge1xuICAgICAgICAvLyByZW1vdmUgcGFkZGluZywgc2luY2UgaGVpZ2h0ID0gY29udGVudFxuICAgICAgICBoZWlnaHQgPSBoZWlnaHQgLSBwYWRkaW5nU2l6ZTtcbiAgICB9XG4gICAgaWYgKG1pblJvd3MgIT09IG51bGwgfHwgbWF4Um93cyAhPT0gbnVsbCkge1xuICAgICAgICAvLyBtZWFzdXJlIGhlaWdodCBvZiBhIHRleHRhcmVhIHdpdGggYSBzaW5nbGUgcm93XG4gICAgICAgIGhpZGRlblRleHRhcmVhLnZhbHVlID0gJyAnO1xuICAgICAgICB2YXIgc2luZ2xlUm93SGVpZ2h0ID0gaGlkZGVuVGV4dGFyZWEuc2Nyb2xsSGVpZ2h0IC0gcGFkZGluZ1NpemU7XG4gICAgICAgIGlmIChtaW5Sb3dzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBtaW5IZWlnaHQgPSBzaW5nbGVSb3dIZWlnaHQgKiBtaW5Sb3dzO1xuICAgICAgICAgICAgaWYgKGJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnKSB7XG4gICAgICAgICAgICAgICAgbWluSGVpZ2h0ID0gbWluSGVpZ2h0ICsgcGFkZGluZ1NpemUgKyBib3JkZXJTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaGVpZ2h0ID0gTWF0aC5tYXgobWluSGVpZ2h0LCBoZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXhSb3dzICE9PSBudWxsKSB7XG4gICAgICAgICAgICBtYXhIZWlnaHQgPSBzaW5nbGVSb3dIZWlnaHQgKiBtYXhSb3dzO1xuICAgICAgICAgICAgaWYgKGJveFNpemluZyA9PT0gJ2JvcmRlci1ib3gnKSB7XG4gICAgICAgICAgICAgICAgbWF4SGVpZ2h0ID0gbWF4SGVpZ2h0ICsgcGFkZGluZ1NpemUgKyBib3JkZXJTaXplO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3ZlcmZsb3dZID0gaGVpZ2h0ID4gbWF4SGVpZ2h0ID8gJycgOiAnaGlkZGVuJztcbiAgICAgICAgICAgIGhlaWdodCA9IE1hdGgubWluKG1heEhlaWdodCwgaGVpZ2h0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBSZW1vdmUgc2Nyb2xsIGJhciBmbGFzaCB3aGVuIGF1dG9zaXplIHdpdGhvdXQgbWF4Um93c1xuICAgIGlmICghbWF4Um93cykge1xuICAgICAgICBvdmVyZmxvd1kgPSAnaGlkZGVuJztcbiAgICB9XG4gICAgcmV0dXJuIHsgaGVpZ2h0OiBoZWlnaHQsIG1pbkhlaWdodDogbWluSGVpZ2h0LCBtYXhIZWlnaHQ6IG1heEhlaWdodCwgb3ZlcmZsb3dZOiBvdmVyZmxvd1kgfTtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZGVmaW5lUHJvcGVydHknO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9jcmVhdGVDbGFzcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY3JlYXRlQ2xhc3MnO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBvbWl0IGZyb20gJ29taXQuanMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgY2FsY3VsYXRlTm9kZUhlaWdodCBmcm9tICcuL2NhbGN1bGF0ZU5vZGVIZWlnaHQnO1xuZnVuY3Rpb24gb25OZXh0RnJhbWUoY2IpIHtcbiAgICBpZiAod2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICByZXR1cm4gd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShjYik7XG4gICAgfVxuICAgIHJldHVybiB3aW5kb3cuc2V0VGltZW91dChjYiwgMSk7XG59XG5mdW5jdGlvbiBjbGVhck5leHRGcmFtZUFjdGlvbihuZXh0RnJhbWVJZCkge1xuICAgIGlmICh3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUpIHtcbiAgICAgICAgd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lKG5leHRGcmFtZUlkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KG5leHRGcmFtZUlkKTtcbiAgICB9XG59XG5cbnZhciBUZXh0QXJlYSA9IGZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gICAgX2luaGVyaXRzKFRleHRBcmVhLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIFRleHRBcmVhKCkge1xuICAgICAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgVGV4dEFyZWEpO1xuXG4gICAgICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChUZXh0QXJlYS5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKFRleHRBcmVhKSkuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgICAgICB0ZXh0YXJlYVN0eWxlczoge31cbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMucmVzaXplVGV4dGFyZWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgYXV0b3NpemUgPSBfdGhpcy5wcm9wcy5hdXRvc2l6ZTtcblxuICAgICAgICAgICAgaWYgKCFhdXRvc2l6ZSB8fCAhX3RoaXMudGV4dEFyZWFSZWYpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbWluUm93cyA9IGF1dG9zaXplID8gYXV0b3NpemUubWluUm93cyA6IG51bGw7XG4gICAgICAgICAgICB2YXIgbWF4Um93cyA9IGF1dG9zaXplID8gYXV0b3NpemUubWF4Um93cyA6IG51bGw7XG4gICAgICAgICAgICB2YXIgdGV4dGFyZWFTdHlsZXMgPSBjYWxjdWxhdGVOb2RlSGVpZ2h0KF90aGlzLnRleHRBcmVhUmVmLCBmYWxzZSwgbWluUm93cywgbWF4Um93cyk7XG4gICAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IHRleHRhcmVhU3R5bGVzOiB0ZXh0YXJlYVN0eWxlcyB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgX3RoaXMuaGFuZGxlVGV4dGFyZWFDaGFuZ2UgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgaWYgKCEoJ3ZhbHVlJyBpbiBfdGhpcy5wcm9wcykpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5yZXNpemVUZXh0YXJlYSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG9uQ2hhbmdlID0gX3RoaXMucHJvcHMub25DaGFuZ2U7XG5cbiAgICAgICAgICAgIGlmIChvbkNoYW5nZSkge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBfdGhpcy5oYW5kbGVLZXlEb3duID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHZhciBfdGhpcyRwcm9wcyA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIG9uUHJlc3NFbnRlciA9IF90aGlzJHByb3BzLm9uUHJlc3NFbnRlcixcbiAgICAgICAgICAgICAgICBvbktleURvd24gPSBfdGhpcyRwcm9wcy5vbktleURvd247XG5cbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzICYmIG9uUHJlc3NFbnRlcikge1xuICAgICAgICAgICAgICAgIG9uUHJlc3NFbnRlcihlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvbktleURvd24pIHtcbiAgICAgICAgICAgICAgICBvbktleURvd24oZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIF90aGlzLnNhdmVUZXh0QXJlYVJlZiA9IGZ1bmN0aW9uICh0ZXh0QXJlYSkge1xuICAgICAgICAgICAgX3RoaXMudGV4dEFyZWFSZWYgPSB0ZXh0QXJlYTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhUZXh0QXJlYSwgW3tcbiAgICAgICAga2V5OiAnY29tcG9uZW50RGlkTW91bnQnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2l6ZVRleHRhcmVhKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgICAgICAgIC8vIFJlLXJlbmRlciB3aXRoIHRoZSBuZXcgY29udGVudCB0aGVuIHJlY2FsY3VsYXRlIHRoZSBoZWlnaHQgYXMgcmVxdWlyZWQuXG4gICAgICAgICAgICBpZiAodGhpcy5wcm9wcy52YWx1ZSAhPT0gbmV4dFByb3BzLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubmV4dEZyYW1lQWN0aW9uSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJOZXh0RnJhbWVBY3Rpb24odGhpcy5uZXh0RnJhbWVBY3Rpb25JZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubmV4dEZyYW1lQWN0aW9uSWQgPSBvbk5leHRGcmFtZSh0aGlzLnJlc2l6ZVRleHRhcmVhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIHtcbiAgICAgICAga2V5OiAnZm9jdXMnLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZm9jdXMoKSB7XG4gICAgICAgICAgICB0aGlzLnRleHRBcmVhUmVmLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ2JsdXInLFxuICAgICAgICB2YWx1ZTogZnVuY3Rpb24gYmx1cigpIHtcbiAgICAgICAgICAgIHRoaXMudGV4dEFyZWFSZWYuYmx1cigpO1xuICAgICAgICB9XG4gICAgfSwge1xuICAgICAgICBrZXk6ICdnZXRUZXh0QXJlYUNsYXNzTmFtZScsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRUZXh0QXJlYUNsYXNzTmFtZSgpIHtcbiAgICAgICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgICAgICAgICBkaXNhYmxlZCA9IF9wcm9wcy5kaXNhYmxlZDtcblxuICAgICAgICAgICAgcmV0dXJuIGNsYXNzTmFtZXMocHJlZml4Q2xzLCBjbGFzc05hbWUsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgcHJlZml4Q2xzICsgJy1kaXNhYmxlZCcsIGRpc2FibGVkKSk7XG4gICAgICAgIH1cbiAgICB9LCB7XG4gICAgICAgIGtleTogJ3JlbmRlcicsXG4gICAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgICAgICAgdmFyIG90aGVyUHJvcHMgPSBvbWl0KHByb3BzLCBbJ3ByZWZpeENscycsICdvblByZXNzRW50ZXInLCAnYXV0b3NpemUnXSk7XG4gICAgICAgICAgICB2YXIgc3R5bGUgPSBfZXh0ZW5kcyh7fSwgcHJvcHMuc3R5bGUsIHRoaXMuc3RhdGUudGV4dGFyZWFTdHlsZXMpO1xuICAgICAgICAgICAgLy8gRml4IGh0dHBzOi8vZ2l0aHViLmNvbS9hbnQtZGVzaWduL2FudC1kZXNpZ24vaXNzdWVzLzY3NzZcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSBpdCBjb3VsZCBiZSByZXNldCB3aGVuIHVzaW5nIGZvcm0uZ2V0RmllbGREZWNvcmF0b3JcbiAgICAgICAgICAgIGlmICgndmFsdWUnIGluIG90aGVyUHJvcHMpIHtcbiAgICAgICAgICAgICAgICBvdGhlclByb3BzLnZhbHVlID0gb3RoZXJQcm9wcy52YWx1ZSB8fCAnJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KCd0ZXh0YXJlYScsIF9leHRlbmRzKHt9LCBvdGhlclByb3BzLCB7IGNsYXNzTmFtZTogdGhpcy5nZXRUZXh0QXJlYUNsYXNzTmFtZSgpLCBzdHlsZTogc3R5bGUsIG9uS2V5RG93bjogdGhpcy5oYW5kbGVLZXlEb3duLCBvbkNoYW5nZTogdGhpcy5oYW5kbGVUZXh0YXJlYUNoYW5nZSwgcmVmOiB0aGlzLnNhdmVUZXh0QXJlYVJlZiB9KSk7XG4gICAgICAgIH1cbiAgICB9XSk7XG5cbiAgICByZXR1cm4gVGV4dEFyZWE7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCBkZWZhdWx0IFRleHRBcmVhO1xuXG5UZXh0QXJlYS5kZWZhdWx0UHJvcHMgPSB7XG4gICAgcHJlZml4Q2xzOiAnYW50LWlucHV0J1xufTsiLCJpbXBvcnQgSW5wdXQgZnJvbSAnLi9JbnB1dCc7XG5pbXBvcnQgR3JvdXAgZnJvbSAnLi9Hcm91cCc7XG5pbXBvcnQgU2VhcmNoIGZyb20gJy4vU2VhcmNoJztcbmltcG9ydCBUZXh0QXJlYSBmcm9tICcuL1RleHRBcmVhJztcbklucHV0Lkdyb3VwID0gR3JvdXA7XG5JbnB1dC5TZWFyY2ggPSBTZWFyY2g7XG5JbnB1dC5UZXh0QXJlYSA9IFRleHRBcmVhO1xuZXhwb3J0IGRlZmF1bHQgSW5wdXQ7Il0sInNvdXJjZVJvb3QiOiIifQ==