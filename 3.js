(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{269:function(t,e,n){"use strict";function o(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==t&&void 0!==t&&this.setState(t)}function r(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!==n&&void 0!==n?n:null}.bind(this))}function i(t,e){try{var n=this.props,o=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}function a(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,a=null,s=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?s="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=t.displayName||t.name,c="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=o,e.componentWillReceiveProps=r),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=i;var u=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,t,e,o)}}return t}n.r(e),n.d(e,"polyfill",function(){return a}),o.__suppressDeprecationWarning=!0,r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0},272:function(t,e,n){"use strict";var o=n(226),r=n.n(o);e.a=function(t,e){for(var n=r()({},t),o=0;o<e.length;o++)delete n[e[o]];return n}},280:function(t,e,n){"use strict";var o=n(226),r=n.n(o),i=n(232),a=n.n(i),s=n(227),l=n.n(s),c=n(230),u=n.n(c),p=n(228),f=n.n(p),d=n(229),v=n.n(d),h=n(1),m=n.n(h),y=n(2),E=n.n(y);function w(t){var e=[];return m.a.Children.forEach(t,function(t){e.push(t)}),e}function g(t,e){var n=null;return t&&t.forEach(function(t){n||t&&t.key===e&&(n=t)}),n}function b(t,e,n){var o=null;return t&&t.forEach(function(t){if(t&&t.key===e&&t.props[n]){if(o)throw new Error("two child with same key for <rc-animate> children");o=t}}),o}var L=n(25),A=n.n(L),S=n(326),T={isAppearSupported:function(t){return t.transitionName&&t.transitionAppear||t.animation.appear},isEnterSupported:function(t){return t.transitionName&&t.transitionEnter||t.animation.enter},isLeaveSupported:function(t){return t.transitionName&&t.transitionLeave||t.animation.leave},allowAppearCallback:function(t){return t.transitionAppear||t.animation.appear},allowEnterCallback:function(t){return t.transitionEnter||t.animation.enter},allowLeaveCallback:function(t){return t.transitionLeave||t.animation.leave}},k={enter:"transitionEnter",appear:"transitionAppear",leave:"transitionLeave"},W=function(t){function e(){return l()(this,e),f()(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return v()(e,t),u()(e,[{key:"componentWillUnmount",value:function(){this.stop()}},{key:"componentWillEnter",value:function(t){T.isEnterSupported(this.props)?this.transition("enter",t):t()}},{key:"componentWillAppear",value:function(t){T.isAppearSupported(this.props)?this.transition("appear",t):t()}},{key:"componentWillLeave",value:function(t){T.isLeaveSupported(this.props)?this.transition("leave",t):t()}},{key:"transition",value:function(t,e){var n=this,o=A.a.findDOMNode(this),r=this.props,i=r.transitionName,a="object"==typeof i;this.stop();var s=function(){n.stopper=null,e()};if((S.b||!r.animation[t])&&i&&r[k[t]]){var l=a?i[t]:i+"-"+t,c=l+"-active";a&&i[t+"Active"]&&(c=i[t+"Active"]),this.stopper=Object(S.a)(o,{name:l,active:c},s)}else this.stopper=r.animation[t](o,s)}},{key:"stop",value:function(){var t=this.stopper;t&&(this.stopper=null,t.stop())}},{key:"render",value:function(){return this.props.children}}]),e}(m.a.Component);W.propTypes={children:E.a.any};var P=W,O=n(269),x=n(231),D=n.n(x),_=n(299),F=n.n(_),C=!("undefined"==typeof window||!window.document||!window.document.createElement);function N(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n["ms"+t]="MS"+e,n["O"+t]="o"+e.toLowerCase(),n}var U=function(t,e){var n={animationend:N("Animation","AnimationEnd"),transitionend:N("Transition","TransitionEnd")};return t&&("AnimationEvent"in e||delete n.animationend.animation,"TransitionEvent"in e||delete n.transitionend.transition),n}(C,"undefined"!=typeof window?window:{}),j={};C&&(j=document.createElement("div").style);var M={};function R(t){if(M[t])return M[t];var e=U[t];if(e)for(var n=Object.keys(e),o=n.length,r=0;r<o;r+=1){var i=n[r];if(Object.prototype.hasOwnProperty.call(e,i)&&i in j)return M[t]=e[i],M[t]}return""}var B=R("animationend"),K=R("transitionend");function z(t,e){return t?"object"==typeof t?t[e.replace(/-\w/g,function(t){return t[1].toUpperCase()})]:t+"-"+e:null}var V="none",H="appear",I="enter",$="leave";var q=function(t){function e(e){return!(!e.motionName||!t)}var n=function(t){function n(){l()(this,n);var t=f()(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.onDomUpdate=function(){var n=t.state,o=n.status,r=n.newStatus,i=t.props,a=i.onAppearStart,s=i.onEnterStart,l=i.onLeaveStart,c=i.onAppearActive,u=i.onEnterActive,p=i.onLeaveActive,f=i.motionAppear,d=i.motionEnter,v=i.motionLeave;if(e(t.props)){var h=A.a.findDOMNode(t);t.$ele!==h&&(t.removeEventListener(t.$ele),t.addEventListener(h),t.$ele=h),r&&o===H&&f?t.updateStatus(a,null,null,function(){t.updateActiveStatus(c,H)}):r&&o===I&&d?t.updateStatus(s,null,null,function(){t.updateActiveStatus(u,I)}):r&&o===$&&v&&t.updateStatus(l,null,null,function(){t.updateActiveStatus(p,$)})}},t.onMotionEnd=function(e){var n=t.state,o=n.status,r=n.statusActive,i=t.props,a=i.onAppearEnd,s=i.onEnterEnd,l=i.onLeaveEnd;o===H&&r?t.updateStatus(a,{status:V},e):o===I&&r?t.updateStatus(s,{status:V},e):o===$&&r&&t.updateStatus(l,{status:V},e)},t.addEventListener=function(e){e&&(e.addEventListener(K,t.onMotionEnd),e.addEventListener(B,t.onMotionEnd))},t.removeEventListener=function(e){e&&(e.removeEventListener(K,t.onMotionEnd),e.removeEventListener(B,t.onMotionEnd))},t.updateStatus=function(e,n,o,i){var a=e?e(A.a.findDOMNode(t),o):null;if(!1!==a&&!t._destroyed){var s=void 0;i&&(s=function(){t.nextFrame(i)}),t.setState(r()({statusStyle:"object"==typeof a?a:null,newStatus:!1},n),s)}},t.updateActiveStatus=function(e,n){t.nextFrame(function(){t.state.status===n&&t.updateStatus(e,{statusActive:!0})})},t.nextFrame=function(e){t.cancelNextFrame(),t.raf=F()(e)},t.cancelNextFrame=function(){t.raf&&(F.a.cancel(t.raf),t.raf=null)},t.state={status:V,statusActive:!1,newStatus:!1,statusStyle:null},t.$ele=null,t.raf=null,t}return v()(n,t),u()(n,[{key:"componentDidMount",value:function(){this.onDomUpdate()}},{key:"componentDidUpdate",value:function(){this.onDomUpdate()}},{key:"componentWillUnmount",value:function(){this._destroyed=!0,this.removeEventListener(this.$ele),this.cancelNextFrame()}},{key:"render",value:function(){var t,n=this.state,o=n.status,r=n.statusActive,i=n.statusStyle,s=this.props,l=s.children,c=s.motionName,u=s.visible,p=s.removeOnLeave;return l?o!==V&&e(this.props)?l({className:D()((t={},a()(t,z(c,o),o!==V),a()(t,z(c,o+"-active"),o!==V&&r),a()(t,c,"string"==typeof c),t)),style:i}):u||!p?l({}):null:null}}],[{key:"getDerivedStateFromProps",value:function(t,n){var o=n.prevProps;if(!e(t))return{};var r=t.visible,i=t.motionAppear,a=t.motionEnter,s=t.motionLeave,l=t.motionLeaveImmediately,c={prevProps:t};return!o&&r&&i&&(c.status=H,c.statusActive=!1,c.newStatus=!0),o&&!o.visible&&r&&a&&(c.status=I,c.statusActive=!1,c.newStatus=!0),(o&&o.visible&&!r&&s||!o&&l&&!r&&s)&&(c.status=$,c.statusActive=!1,c.newStatus=!0),c}}]),n}(m.a.Component);return n.propTypes={visible:E.a.bool,children:E.a.func,motionName:E.a.oneOfType([E.a.string,E.a.object]),motionAppear:E.a.bool,motionEnter:E.a.bool,motionLeave:E.a.bool,motionLeaveImmediately:E.a.bool,removeOnLeave:E.a.bool,onAppearStart:E.a.func,onAppearActive:E.a.func,onAppearEnd:E.a.func,onEnterStart:E.a.func,onEnterActive:E.a.func,onEnterEnd:E.a.func,onLeaveStart:E.a.func,onLeaveActive:E.a.func,onLeaveEnd:E.a.func},n.defaultProps={visible:!0,motionEnter:!0,motionAppear:!0,motionLeave:!0,removeOnLeave:!0},Object(O.polyfill)(n),n}(!(!B||!K)),J="rc_animate_"+Date.now();function X(t){var e=t.children;return m.a.isValidElement(e)&&!e.key?m.a.cloneElement(e,{key:J}):e}function Y(){}var G=function(t){function e(t){l()(this,e);var n=f()(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return Q.call(n),n.currentlyAnimatingKeys={},n.keysToEnter=[],n.keysToLeave=[],n.state={children:w(X(t))},n.childrenRefs={},n}return v()(e,t),u()(e,[{key:"componentDidMount",value:function(){var t=this,e=this.props.showProp,n=this.state.children;e&&(n=n.filter(function(t){return!!t.props[e]})),n.forEach(function(e){e&&t.performAppear(e.key)})}},{key:"componentWillReceiveProps",value:function(t){var e=this;this.nextProps=t;var n=w(X(t)),o=this.props;o.exclusive&&Object.keys(this.currentlyAnimatingKeys).forEach(function(t){e.stop(t)});var r=o.showProp,i=this.currentlyAnimatingKeys,s=o.exclusive?w(X(o)):this.state.children,l=[];r?(s.forEach(function(t){var e=t&&g(n,t.key),o=void 0;(o=e&&e.props[r]||!t.props[r]?e:m.a.cloneElement(e||t,a()({},r,!0)))&&l.push(o)}),n.forEach(function(t){t&&g(s,t.key)||l.push(t)})):l=function(t,e){var n=[],o={},r=[];return t.forEach(function(t){t&&g(e,t.key)?r.length&&(o[t.key]=r,r=[]):r.push(t)}),e.forEach(function(t){t&&Object.prototype.hasOwnProperty.call(o,t.key)&&(n=n.concat(o[t.key])),n.push(t)}),n=n.concat(r)}(s,n),this.setState({children:l}),n.forEach(function(t){var n=t&&t.key;if(!t||!i[n]){var o=t&&g(s,n);if(r){var a=t.props[r];if(o)!b(s,n,r)&&a&&e.keysToEnter.push(n);else a&&e.keysToEnter.push(n)}else o||e.keysToEnter.push(n)}}),s.forEach(function(t){var o=t&&t.key;if(!t||!i[o]){var a=t&&g(n,o);if(r){var s=t.props[r];if(a)!b(n,o,r)&&s&&e.keysToLeave.push(o);else s&&e.keysToLeave.push(o)}else a||e.keysToLeave.push(o)}})}},{key:"componentDidUpdate",value:function(){var t=this.keysToEnter;this.keysToEnter=[],t.forEach(this.performEnter);var e=this.keysToLeave;this.keysToLeave=[],e.forEach(this.performLeave)}},{key:"isValidChildByKey",value:function(t,e){var n=this.props.showProp;return n?b(t,e,n):g(t,e)}},{key:"stop",value:function(t){delete this.currentlyAnimatingKeys[t];var e=this.childrenRefs[t];e&&e.stop()}},{key:"render",value:function(){var t=this,e=this.props;this.nextProps=e;var n=this.state.children,o=null;n&&(o=n.map(function(n){if(null===n||void 0===n)return n;if(!n.key)throw new Error("must set key for <rc-animate> children");return m.a.createElement(P,{key:n.key,ref:function(e){t.childrenRefs[n.key]=e},animation:e.animation,transitionName:e.transitionName,transitionEnter:e.transitionEnter,transitionAppear:e.transitionAppear,transitionLeave:e.transitionLeave},n)}));var i=e.component;if(i){var a=e;return"string"==typeof i&&(a=r()({className:e.className,style:e.style},e.componentProps)),m.a.createElement(i,a,o)}return o[0]||null}}]),e}(m.a.Component);G.isAnimate=!0,G.CSSMotion=q,G.propTypes={component:E.a.any,componentProps:E.a.object,animation:E.a.object,transitionName:E.a.oneOfType([E.a.string,E.a.object]),transitionEnter:E.a.bool,transitionAppear:E.a.bool,exclusive:E.a.bool,transitionLeave:E.a.bool,onEnd:E.a.func,onEnter:E.a.func,onLeave:E.a.func,onAppear:E.a.func,showProp:E.a.string,children:E.a.node},G.defaultProps={animation:{},component:"span",componentProps:{},transitionEnter:!0,transitionLeave:!0,transitionAppear:!1,onEnd:Y,onEnter:Y,onLeave:Y,onAppear:Y};var Q=function(){var t=this;this.performEnter=function(e){t.childrenRefs[e]&&(t.currentlyAnimatingKeys[e]=!0,t.childrenRefs[e].componentWillEnter(t.handleDoneAdding.bind(t,e,"enter")))},this.performAppear=function(e){t.childrenRefs[e]&&(t.currentlyAnimatingKeys[e]=!0,t.childrenRefs[e].componentWillAppear(t.handleDoneAdding.bind(t,e,"appear")))},this.handleDoneAdding=function(e,n){var o=t.props;if(delete t.currentlyAnimatingKeys[e],!o.exclusive||o===t.nextProps){var r=w(X(o));t.isValidChildByKey(r,e)?"appear"===n?T.allowAppearCallback(o)&&(o.onAppear(e),o.onEnd(e,!0)):T.allowEnterCallback(o)&&(o.onEnter(e),o.onEnd(e,!0)):t.performLeave(e)}},this.performLeave=function(e){t.childrenRefs[e]&&(t.currentlyAnimatingKeys[e]=!0,t.childrenRefs[e].componentWillLeave(t.handleDoneLeaving.bind(t,e)))},this.handleDoneLeaving=function(e){var n=t.props;if(delete t.currentlyAnimatingKeys[e],!n.exclusive||n===t.nextProps){var o=w(X(n));if(t.isValidChildByKey(o,e))t.performEnter(e);else{var r=function(){T.allowLeaveCallback(n)&&(n.onLeave(e),n.onEnd(e,!1))};!function(t,e,n){var o=t.length===e.length;return o&&t.forEach(function(t,r){var i=e[r];t&&i&&(t&&!i||!t&&i?o=!1:t.key!==i.key?o=!1:n&&t.props[n]!==i.props[n]&&(o=!1))}),o}(t.state.children,o,n.showProp)?t.setState({children:o},r):r()}}}};e.a=G},289:function(t,e,n){"use strict";t.exports=n(405)},299:function(t,e,n){(function(e){for(var o=n(460),r="undefined"==typeof window?e:window,i=["moz","webkit"],a="AnimationFrame",s=r["request"+a],l=r["cancel"+a]||r["cancelRequest"+a],c=0;!s&&c<i.length;c++)s=r[i[c]+"Request"+a],l=r[i[c]+"Cancel"+a]||r[i[c]+"CancelRequest"+a];if(!s||!l){var u=0,p=0,f=[];s=function(t){if(0===f.length){var e=o(),n=Math.max(0,1e3/60-(e-u));u=n+e,setTimeout(function(){var t=f.slice(0);f.length=0;for(var e=0;e<t.length;e++)if(!t[e].cancelled)try{t[e].callback(u)}catch(t){setTimeout(function(){throw t},0)}},Math.round(n))}return f.push({handle:++p,callback:t,cancelled:!1}),p},l=function(t){for(var e=0;e<f.length;e++)f[e].handle===t&&(f[e].cancelled=!0)}}t.exports=function(t){return s.call(r,t)},t.exports.cancel=function(){l.apply(r,arguments)},t.exports.polyfill=function(t){t||(t=r),t.requestAnimationFrame=s,t.cancelAnimationFrame=l}}).call(this,n(61))},326:function(t,e,n){"use strict";n.d(e,"b",function(){return l});var o=n(241),r=n.n(o),i=n(273),a=n(327),s=n.n(a),l=0!==i.a.endEvents.length,c=["Webkit","Moz","O","ms"],u=["-webkit-","-moz-","-o-","ms-",""];function p(t,e){for(var n=window.getComputedStyle(t,null),o="",r=0;r<u.length&&!(o=n.getPropertyValue(u[r]+e));r++);return o}function f(t){if(l){var e=parseFloat(p(t,"transition-delay"))||0,n=parseFloat(p(t,"transition-duration"))||0,o=parseFloat(p(t,"animation-delay"))||0,r=parseFloat(p(t,"animation-duration"))||0,i=Math.max(n+e,r+o);t.rcEndAnimTimeout=setTimeout(function(){t.rcEndAnimTimeout=null,t.rcEndListener&&t.rcEndListener()},1e3*i+200)}}function d(t){t.rcEndAnimTimeout&&(clearTimeout(t.rcEndAnimTimeout),t.rcEndAnimTimeout=null)}var v=function(t,e,n){var o="object"===(void 0===e?"undefined":r()(e)),a=o?e.name:e,l=o?e.active:e+"-active",c=n,u=void 0,p=void 0,v=s()(t);return n&&"[object Object]"===Object.prototype.toString.call(n)&&(c=n.end,u=n.start,p=n.active),t.rcEndListener&&t.rcEndListener(),t.rcEndListener=function(e){e&&e.target!==t||(t.rcAnimTimeout&&(clearTimeout(t.rcAnimTimeout),t.rcAnimTimeout=null),d(t),v.remove(a),v.remove(l),i.a.removeEndEventListener(t,t.rcEndListener),t.rcEndListener=null,c&&c())},i.a.addEndEventListener(t,t.rcEndListener),u&&u(),v.add(a),t.rcAnimTimeout=setTimeout(function(){t.rcAnimTimeout=null,v.add(l),p&&setTimeout(p,0),f(t)},30),{stop:function(){t.rcEndListener&&t.rcEndListener()}}};v.style=function(t,e,n){t.rcEndListener&&t.rcEndListener(),t.rcEndListener=function(e){e&&e.target!==t||(t.rcAnimTimeout&&(clearTimeout(t.rcAnimTimeout),t.rcAnimTimeout=null),d(t),i.a.removeEndEventListener(t,t.rcEndListener),t.rcEndListener=null,n&&n())},i.a.addEndEventListener(t,t.rcEndListener),t.rcAnimTimeout=setTimeout(function(){for(var n in e)e.hasOwnProperty(n)&&(t.style[n]=e[n]);t.rcAnimTimeout=null,f(t)},0)},v.setTransition=function(t,e,n){var o=e,r=n;void 0===n&&(r=o,o=""),o=o||"",c.forEach(function(e){t.style[e+"Transition"+o]=r})},v.isCssAnimationSupported=l,e.a=v},327:function(t,e,n){try{var o=n(328)}catch(t){o=n(328)}var r=/\s+/,i=Object.prototype.toString;function a(t){if(!t||!t.nodeType)throw new Error("A DOM element reference is required");this.el=t,this.list=t.classList}t.exports=function(t){return new a(t)},a.prototype.add=function(t){if(this.list)return this.list.add(t),this;var e=this.array();return~o(e,t)||e.push(t),this.el.className=e.join(" "),this},a.prototype.remove=function(t){if("[object RegExp]"==i.call(t))return this.removeMatching(t);if(this.list)return this.list.remove(t),this;var e=this.array(),n=o(e,t);return~n&&e.splice(n,1),this.el.className=e.join(" "),this},a.prototype.removeMatching=function(t){for(var e=this.array(),n=0;n<e.length;n++)t.test(e[n])&&this.remove(e[n]);return this},a.prototype.toggle=function(t,e){return this.list?(void 0!==e?e!==this.list.toggle(t,e)&&this.list.toggle(t):this.list.toggle(t),this):(void 0!==e?e?this.add(t):this.remove(t):this.has(t)?this.remove(t):this.add(t),this)},a.prototype.array=function(){var t=(this.el.getAttribute("class")||"").replace(/^\s+|\s+$/g,"").split(r);return""===t[0]&&t.shift(),t},a.prototype.has=a.prototype.contains=function(t){return this.list?this.list.contains(t):!!~o(this.array(),t)}},328:function(t,e){t.exports=function(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0;n<t.length;++n)if(t[n]===e)return n;return-1}},405:function(t,e,n){"use strict";var o=n(406);t.exports=function(t,e,n){n=n||{},9===e.nodeType&&(e=o.getWindow(e));var r=n.allowHorizontalScroll,i=n.onlyScrollIfNeeded,a=n.alignWithTop,s=n.alignWithLeft,l=n.offsetTop||0,c=n.offsetLeft||0,u=n.offsetBottom||0,p=n.offsetRight||0;r=void 0===r||r;var f=o.isWindow(e),d=o.offset(t),v=o.outerHeight(t),h=o.outerWidth(t),m=void 0,y=void 0,E=void 0,w=void 0,g=void 0,b=void 0,L=void 0,A=void 0,S=void 0,T=void 0;f?(L=e,T=o.height(L),S=o.width(L),A={left:o.scrollLeft(L),top:o.scrollTop(L)},g={left:d.left-A.left-c,top:d.top-A.top-l},b={left:d.left+h-(A.left+S)+p,top:d.top+v-(A.top+T)+u},w=A):(m=o.offset(e),y=e.clientHeight,E=e.clientWidth,w={left:e.scrollLeft,top:e.scrollTop},g={left:d.left-(m.left+(parseFloat(o.css(e,"borderLeftWidth"))||0))-c,top:d.top-(m.top+(parseFloat(o.css(e,"borderTopWidth"))||0))-l},b={left:d.left+h-(m.left+E+(parseFloat(o.css(e,"borderRightWidth"))||0))+p,top:d.top+v-(m.top+y+(parseFloat(o.css(e,"borderBottomWidth"))||0))+u}),g.top<0||b.top>0?!0===a?o.scrollTop(e,w.top+g.top):!1===a?o.scrollTop(e,w.top+b.top):g.top<0?o.scrollTop(e,w.top+g.top):o.scrollTop(e,w.top+b.top):i||((a=void 0===a||!!a)?o.scrollTop(e,w.top+g.top):o.scrollTop(e,w.top+b.top)),r&&(g.left<0||b.left>0?!0===s?o.scrollLeft(e,w.left+g.left):!1===s?o.scrollLeft(e,w.left+b.left):g.left<0?o.scrollLeft(e,w.left+g.left):o.scrollLeft(e,w.left+b.left):i||((s=void 0===s||!!s)?o.scrollLeft(e,w.left+g.left):o.scrollLeft(e,w.left+b.left)))}},406:function(t,e,n){"use strict";var o=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};function i(t,e){var n=t["page"+(e?"Y":"X")+"Offset"],o="scroll"+(e?"Top":"Left");if("number"!=typeof n){var r=t.document;"number"!=typeof(n=r.documentElement[o])&&(n=r.body[o])}return n}function a(t){return i(t)}function s(t){return i(t,!0)}function l(t){var e=function(t){var e,n=void 0,o=void 0,r=t.ownerDocument,i=r.body,a=r&&r.documentElement;return n=(e=t.getBoundingClientRect()).left,o=e.top,{left:n-=a.clientLeft||i.clientLeft||0,top:o-=a.clientTop||i.clientTop||0}}(t),n=t.ownerDocument,o=n.defaultView||n.parentWindow;return e.left+=a(o),e.top+=s(o),e}var c=new RegExp("^("+/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source+")(?!px)[a-z%]+$","i"),u=/^(top|right|bottom|left)$/,p="currentStyle",f="runtimeStyle",d="left",v="px";var h=void 0;function m(t,e){for(var n=0;n<t.length;n++)e(t[n])}function y(t){return"border-box"===h(t,"boxSizing")}"undefined"!=typeof window&&(h=window.getComputedStyle?function(t,e,n){var o="",r=t.ownerDocument,i=n||r.defaultView.getComputedStyle(t,null);return i&&(o=i.getPropertyValue(e)||i[e]),o}:function(t,e){var n=t[p]&&t[p][e];if(c.test(n)&&!u.test(e)){var o=t.style,r=o[d],i=t[f][d];t[f][d]=t[p][d],o[d]="fontSize"===e?"1em":n||0,n=o.pixelLeft+v,o[d]=r,t[f][d]=i}return""===n?"auto":n});var E=["margin","border","padding"],w=-1,g=2,b=1;function L(t,e,n){var o=0,r=void 0,i=void 0,a=void 0;for(i=0;i<e.length;i++)if(r=e[i])for(a=0;a<n.length;a++){var s=void 0;s="border"===r?r+n[a]+"Width":r+n[a],o+=parseFloat(h(t,s))||0}return o}function A(t){return null!=t&&t==t.window}var S={};function T(t,e,n){if(A(t))return"width"===e?S.viewportWidth(t):S.viewportHeight(t);if(9===t.nodeType)return"width"===e?S.docWidth(t):S.docHeight(t);var o="width"===e?["Left","Right"]:["Top","Bottom"],r="width"===e?t.offsetWidth:t.offsetHeight,i=(h(t),y(t)),a=0;(null==r||r<=0)&&(r=void 0,(null==(a=h(t,e))||Number(a)<0)&&(a=t.style[e]||0),a=parseFloat(a)||0),void 0===n&&(n=i?b:w);var s=void 0!==r||i,l=r||a;if(n===w)return s?l-L(t,["border","padding"],o):a;if(s){var c=n===g?-L(t,["border"],o):L(t,["margin"],o);return l+(n===b?0:c)}return a+L(t,E.slice(n),o)}m(["Width","Height"],function(t){S["doc"+t]=function(e){var n=e.document;return Math.max(n.documentElement["scroll"+t],n.body["scroll"+t],S["viewport"+t](n))},S["viewport"+t]=function(e){var n="client"+t,o=e.document,r=o.body,i=o.documentElement[n];return"CSS1Compat"===o.compatMode&&i||r&&r[n]||i}});var k={position:"absolute",visibility:"hidden",display:"block"};function W(t){var e=void 0,n=arguments;return 0!==t.offsetWidth?e=T.apply(void 0,n):function(t,e,n){var o={},r=t.style,i=void 0;for(i in e)e.hasOwnProperty(i)&&(o[i]=r[i],r[i]=e[i]);for(i in n.call(t),e)e.hasOwnProperty(i)&&(r[i]=o[i])}(t,k,function(){e=T.apply(void 0,n)}),e}function P(t,e,n){var o=n;if("object"!==(void 0===e?"undefined":r(e)))return void 0!==o?("number"==typeof o&&(o+="px"),void(t.style[e]=o)):h(t,e);for(var i in e)e.hasOwnProperty(i)&&P(t,i,e[i])}m(["width","height"],function(t){var e=t.charAt(0).toUpperCase()+t.slice(1);S["outer"+e]=function(e,n){return e&&W(e,t,n?0:b)};var n="width"===t?["Left","Right"]:["Top","Bottom"];S[t]=function(e,o){if(void 0===o)return e&&W(e,t,w);if(e){h(e);return y(e)&&(o+=L(e,["padding","border"],n)),P(e,t,o)}}}),t.exports=o({getWindow:function(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow},offset:function(t,e){if(void 0===e)return l(t);!function(t,e){"static"===P(t,"position")&&(t.style.position="relative");var n=l(t),o={},r=void 0,i=void 0;for(i in e)e.hasOwnProperty(i)&&(r=parseFloat(P(t,i))||0,o[i]=r+e[i]-n[i]);P(t,o)}(t,e)},isWindow:A,each:m,css:P,clone:function(t){var e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);if(t.overflow)for(var n in t)t.hasOwnProperty(n)&&(e.overflow[n]=t.overflow[n]);return e},scrollLeft:function(t,e){if(A(t)){if(void 0===e)return a(t);window.scrollTo(e,s(t))}else{if(void 0===e)return t.scrollLeft;t.scrollLeft=e}},scrollTop:function(t,e){if(A(t)){if(void 0===e)return s(t);window.scrollTo(a(t),e)}else{if(void 0===e)return t.scrollTop;t.scrollTop=e}},viewportWidth:0,viewportHeight:0},S)},460:function(t,e,n){(function(e){(function(){var n,o,r,i,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?t.exports=function(){return performance.now()}:void 0!==e&&null!==e&&e.hrtime?(t.exports=function(){return(n()-a)/1e6},o=e.hrtime,i=(n=function(){var t;return 1e9*(t=o())[0]+t[1]})(),s=1e9*e.uptime(),a=i-s):Date.now?(t.exports=function(){return Date.now()-r},r=Date.now()):(t.exports=function(){return(new Date).getTime()-r},r=(new Date).getTime())}).call(this)}).call(this,n(92))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQvcmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQuZXMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL29taXQuanMvZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLWFuaW1hdGUvZXMvQ2hpbGRyZW5VdGlscy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtYW5pbWF0ZS9lcy91dGlsL2FuaW1hdGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLWFuaW1hdGUvZXMvQW5pbWF0ZUNoaWxkLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1hbmltYXRlL2VzL3V0aWwvbW90aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1hbmltYXRlL2VzL0NTU01vdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtYW5pbWF0ZS9lcy9BbmltYXRlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kb20tc2Nyb2xsLWludG8tdmlldy9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JhZi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY3NzLWFuaW1hdGlvbi9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvY29tcG9uZW50LWNsYXNzZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2NvbXBvbmVudC1pbmRleG9mL2luZGV4LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kb20tc2Nyb2xsLWludG8tdmlldy9saWIvZG9tLXNjcm9sbC1pbnRvLXZpZXcuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RvbS1zY3JvbGwtaW50by12aWV3L2xpYi91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wZXJmb3JtYW5jZS1ub3cvbGliL3BlcmZvcm1hbmNlLW5vdy5qcyJdLCJuYW1lcyI6WyJjb21wb25lbnRXaWxsTW91bnQiLCJzdGF0ZSIsInRoaXMiLCJjb25zdHJ1Y3RvciIsImdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyIsInByb3BzIiwidW5kZWZpbmVkIiwic2V0U3RhdGUiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwicHJldlN0YXRlIiwiYmluZCIsImNvbXBvbmVudFdpbGxVcGRhdGUiLCJuZXh0U3RhdGUiLCJwcmV2UHJvcHMiLCJfX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEZsYWciLCJfX3JlYWN0SW50ZXJuYWxTbmFwc2hvdCIsImdldFNuYXBzaG90QmVmb3JlVXBkYXRlIiwicG9seWZpbGwiLCJDb21wb25lbnQiLCJwcm90b3R5cGUiLCJpc1JlYWN0Q29tcG9uZW50IiwiRXJyb3IiLCJmb3VuZFdpbGxNb3VudE5hbWUiLCJmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lIiwiZm91bmRXaWxsVXBkYXRlTmFtZSIsIlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQiLCJVTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyIsIlVOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlIiwiY29tcG9uZW50TmFtZSIsImRpc3BsYXlOYW1lIiwibmFtZSIsIm5ld0FwaU5hbWUiLCJjb21wb25lbnREaWRVcGRhdGUiLCJtYXliZVNuYXBzaG90Iiwic25hcHNob3QiLCJjYWxsIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsInIiLCJfX3dlYnBhY2tfZXhwb3J0c19fIiwiZCIsIl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmciLCJiYWJlbF9ydW50aW1lX2hlbHBlcnNfZXh0ZW5kc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiYmFiZWxfcnVudGltZV9oZWxwZXJzX2V4dGVuZHNfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0IiwibiIsIm9iaiIsImZpZWxkcyIsInNoYWxsb3dDb3B5IiwiaSIsImxlbmd0aCIsInRvQXJyYXlDaGlsZHJlbiIsImNoaWxkcmVuIiwicmV0IiwicmVhY3RfZGVmYXVsdCIsImEiLCJDaGlsZHJlbiIsImZvckVhY2giLCJjaGlsZCIsInB1c2giLCJmaW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkiLCJrZXkiLCJmaW5kU2hvd25DaGlsZEluQ2hpbGRyZW5CeUtleSIsInNob3dQcm9wIiwiYW5pbWF0ZSIsImlzQXBwZWFyU3VwcG9ydGVkIiwidHJhbnNpdGlvbk5hbWUiLCJ0cmFuc2l0aW9uQXBwZWFyIiwiYW5pbWF0aW9uIiwiYXBwZWFyIiwiaXNFbnRlclN1cHBvcnRlZCIsInRyYW5zaXRpb25FbnRlciIsImVudGVyIiwiaXNMZWF2ZVN1cHBvcnRlZCIsInRyYW5zaXRpb25MZWF2ZSIsImxlYXZlIiwiYWxsb3dBcHBlYXJDYWxsYmFjayIsImFsbG93RW50ZXJDYWxsYmFjayIsImFsbG93TGVhdmVDYWxsYmFjayIsInRyYW5zaXRpb25NYXAiLCJBbmltYXRlQ2hpbGRfQW5pbWF0ZUNoaWxkIiwiX1JlYWN0JENvbXBvbmVudCIsIkFuaW1hdGVDaGlsZCIsImNsYXNzQ2FsbENoZWNrX2RlZmF1bHQiLCJwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuX2RlZmF1bHQiLCJfX3Byb3RvX18iLCJPYmplY3QiLCJnZXRQcm90b3R5cGVPZiIsImFwcGx5IiwiYXJndW1lbnRzIiwiaW5oZXJpdHNfZGVmYXVsdCIsImNyZWF0ZUNsYXNzX2RlZmF1bHQiLCJ2YWx1ZSIsInN0b3AiLCJkb25lIiwidHJhbnNpdGlvbiIsImFuaW1hdGlvblR5cGUiLCJmaW5pc2hDYWxsYmFjayIsIl90aGlzMiIsIm5vZGUiLCJyZWFjdF9kb21fZGVmYXVsdCIsImZpbmRET01Ob2RlIiwibmFtZUlzT2JqIiwiZW5kIiwic3RvcHBlciIsImVzIiwiYWN0aXZlTmFtZSIsImFjdGl2ZSIsInByb3BUeXBlcyIsInByb3BfdHlwZXNfZGVmYXVsdCIsImFueSIsImVzX0FuaW1hdGVDaGlsZCIsImNhblVzZURPTSIsIndpbmRvdyIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsIm1ha2VQcmVmaXhNYXAiLCJzdHlsZVByb3AiLCJldmVudE5hbWUiLCJwcmVmaXhlcyIsInRvTG93ZXJDYXNlIiwidmVuZG9yUHJlZml4ZXMiLCJkb21TdXBwb3J0Iiwid2luIiwiYW5pbWF0aW9uZW5kIiwidHJhbnNpdGlvbmVuZCIsImdldFZlbmRvclByZWZpeGVzIiwic3R5bGUiLCJwcmVmaXhlZEV2ZW50TmFtZXMiLCJnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSIsInByZWZpeE1hcCIsInN0eWxlUHJvcExpc3QiLCJrZXlzIiwibGVuIiwiaGFzT3duUHJvcGVydHkiLCJhbmltYXRpb25FbmROYW1lIiwidHJhbnNpdGlvbkVuZE5hbWUiLCJnZXRUcmFuc2l0aW9uTmFtZSIsInRyYW5zaXRpb25UeXBlIiwicmVwbGFjZSIsIm1hdGNoIiwidG9VcHBlckNhc2UiLCJTVEFUVVNfTk9ORSIsIlNUQVRVU19BUFBFQVIiLCJTVEFUVVNfRU5URVIiLCJTVEFUVVNfTEVBVkUiLCJlc19DU1NNb3Rpb24iLCJ0cmFuc2l0aW9uU3VwcG9ydCIsImlzU3VwcG9ydFRyYW5zaXRpb24iLCJtb3Rpb25OYW1lIiwiQ1NTTW90aW9uIiwiX3RoaXMiLCJvbkRvbVVwZGF0ZSIsIl90aGlzJHN0YXRlIiwic3RhdHVzIiwibmV3U3RhdHVzIiwiX3RoaXMkcHJvcHMiLCJvbkFwcGVhclN0YXJ0Iiwib25FbnRlclN0YXJ0Iiwib25MZWF2ZVN0YXJ0Iiwib25BcHBlYXJBY3RpdmUiLCJvbkVudGVyQWN0aXZlIiwib25MZWF2ZUFjdGl2ZSIsIm1vdGlvbkFwcGVhciIsIm1vdGlvbkVudGVyIiwibW90aW9uTGVhdmUiLCIkZWxlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImFkZEV2ZW50TGlzdGVuZXIiLCJ1cGRhdGVTdGF0dXMiLCJ1cGRhdGVBY3RpdmVTdGF0dXMiLCJvbk1vdGlvbkVuZCIsImV2ZW50IiwiX3RoaXMkc3RhdGUyIiwic3RhdHVzQWN0aXZlIiwiX3RoaXMkcHJvcHMyIiwib25BcHBlYXJFbmQiLCJvbkVudGVyRW5kIiwib25MZWF2ZUVuZCIsInN0eWxlRnVuYyIsImFkZGl0aW9uYWxTdGF0ZSIsImNhbGxiYWNrIiwic3RhdHVzU3R5bGUiLCJfZGVzdHJveWVkIiwibmV4dFN0ZXAiLCJuZXh0RnJhbWUiLCJleHRlbmRzX2RlZmF1bHQiLCJjdXJyZW50U3RhdHVzIiwiZnVuYyIsImNhbmNlbE5leHRGcmFtZSIsInJhZiIsInJhZl9kZWZhdWx0IiwiY2FuY2VsIiwiX2NsYXNzTmFtZXMiLCJfc3RhdGUiLCJfcHJvcHMiLCJ2aXNpYmxlIiwicmVtb3ZlT25MZWF2ZSIsImNsYXNzTmFtZSIsImNsYXNzbmFtZXNfZGVmYXVsdCIsImRlZmluZVByb3BlcnR5X2RlZmF1bHQiLCJfcmVmIiwibW90aW9uTGVhdmVJbW1lZGlhdGVseSIsIm5ld1N0YXRlIiwiYm9vbCIsIm9uZU9mVHlwZSIsInN0cmluZyIsIm9iamVjdCIsImRlZmF1bHRQcm9wcyIsInJlYWN0X2xpZmVjeWNsZXNfY29tcGF0X2VzIiwiZGVmYXVsdEtleSIsIkRhdGUiLCJub3ciLCJnZXRDaGlsZHJlbkZyb21Qcm9wcyIsImlzVmFsaWRFbGVtZW50IiwiY2xvbmVFbGVtZW50Iiwibm9vcCIsIkFuaW1hdGVfQW5pbWF0ZSIsIkFuaW1hdGUiLCJBbmltYXRlX2luaXRpYWxpc2VQcm9wcyIsImN1cnJlbnRseUFuaW1hdGluZ0tleXMiLCJrZXlzVG9FbnRlciIsImtleXNUb0xlYXZlIiwiY2hpbGRyZW5SZWZzIiwiZmlsdGVyIiwicGVyZm9ybUFwcGVhciIsIl90aGlzMyIsIm5leHRDaGlsZHJlbiIsImV4Y2x1c2l2ZSIsImN1cnJlbnRDaGlsZHJlbiIsIm5ld0NoaWxkcmVuIiwiY3VycmVudENoaWxkIiwibmV4dENoaWxkIiwibmV3Q2hpbGQiLCJwcmV2IiwibmV4dCIsIm5leHRDaGlsZHJlblBlbmRpbmciLCJwZW5kaW5nQ2hpbGRyZW4iLCJjb25jYXQiLCJtZXJnZUNoaWxkcmVuIiwiaGFzUHJldiIsInNob3dJbk5leHQiLCJoYXNOZXh0Iiwic2hvd0luTm93IiwicGVyZm9ybUVudGVyIiwicGVyZm9ybUxlYXZlIiwiY29tcG9uZW50IiwiX3RoaXM0Iiwic3RhdGVDaGlsZHJlbiIsIm1hcCIsInJlZiIsInBhc3NlZFByb3BzIiwiY29tcG9uZW50UHJvcHMiLCJpc0FuaW1hdGUiLCJvbkVuZCIsIm9uRW50ZXIiLCJvbkxlYXZlIiwib25BcHBlYXIiLCJfdGhpczUiLCJjb21wb25lbnRXaWxsRW50ZXIiLCJoYW5kbGVEb25lQWRkaW5nIiwiY29tcG9uZW50V2lsbEFwcGVhciIsInR5cGUiLCJpc1ZhbGlkQ2hpbGRCeUtleSIsImNvbXBvbmVudFdpbGxMZWF2ZSIsImhhbmRsZURvbmVMZWF2aW5nIiwiYzEiLCJjMiIsInNhbWUiLCJpbmRleCIsImNoaWxkMiIsImlzU2FtZUNoaWxkcmVuIiwibW9kdWxlIiwiZXhwb3J0cyIsImdsb2JhbCIsInJvb3QiLCJ2ZW5kb3JzIiwic3VmZml4IiwiY2FmIiwibGFzdCIsImlkIiwicXVldWUiLCJfbm93IiwiTWF0aCIsIm1heCIsInNldFRpbWVvdXQiLCJjcCIsInNsaWNlIiwiY2FuY2VsbGVkIiwiZSIsInJvdW5kIiwiaGFuZGxlIiwiZm4iLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsImlzQ3NzQW5pbWF0aW9uU3VwcG9ydGVkIiwiYmFiZWxfcnVudGltZV9oZWxwZXJzX3R5cGVvZl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fIiwiYmFiZWxfcnVudGltZV9oZWxwZXJzX3R5cGVvZl9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMF9fX2RlZmF1bHQiLCJfRXZlbnRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzFfXyIsImNvbXBvbmVudF9jbGFzc2VzX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8yX18iLCJjb21wb25lbnRfY2xhc3Nlc19fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMl9fX2RlZmF1bHQiLCJlbmRFdmVudHMiLCJjYXBpdGFsUHJlZml4ZXMiLCJnZXRTdHlsZVByb3BlcnR5IiwiZ2V0Q29tcHV0ZWRTdHlsZSIsImdldFByb3BlcnR5VmFsdWUiLCJmaXhCcm93c2VyQnlUaW1lb3V0IiwidHJhbnNpdGlvbkRlbGF5IiwicGFyc2VGbG9hdCIsInRyYW5zaXRpb25EdXJhdGlvbiIsImFuaW1hdGlvbkRlbGF5IiwiYW5pbWF0aW9uRHVyYXRpb24iLCJ0aW1lIiwicmNFbmRBbmltVGltZW91dCIsInJjRW5kTGlzdGVuZXIiLCJjbGVhckJyb3dzZXJCdWdUaW1lb3V0IiwiY2xlYXJUaW1lb3V0IiwiY3NzQW5pbWF0aW9uIiwiZW5kQ2FsbGJhY2siLCJhY3RpdmVDbGFzc05hbWUiLCJzdGFydCIsIm5vZGVDbGFzc2VzIiwidG9TdHJpbmciLCJ0YXJnZXQiLCJyY0FuaW1UaW1lb3V0IiwicmVtb3ZlIiwicmVtb3ZlRW5kRXZlbnRMaXN0ZW5lciIsImFkZEVuZEV2ZW50TGlzdGVuZXIiLCJhZGQiLCJzIiwic2V0VHJhbnNpdGlvbiIsInAiLCJwcm9wZXJ0eSIsInYiLCJwcmVmaXgiLCJlcnIiLCJyZSIsIkNsYXNzTGlzdCIsImVsIiwibm9kZVR5cGUiLCJsaXN0IiwiY2xhc3NMaXN0IiwiYXJyIiwiYXJyYXkiLCJqb2luIiwicmVtb3ZlTWF0Y2hpbmciLCJzcGxpY2UiLCJ0ZXN0IiwidG9nZ2xlIiwiZm9yY2UiLCJoYXMiLCJnZXRBdHRyaWJ1dGUiLCJzcGxpdCIsInNoaWZ0IiwiY29udGFpbnMiLCJpbmRleE9mIiwidXRpbCIsImVsZW0iLCJjb250YWluZXIiLCJjb25maWciLCJnZXRXaW5kb3ciLCJhbGxvd0hvcml6b250YWxTY3JvbGwiLCJvbmx5U2Nyb2xsSWZOZWVkZWQiLCJhbGlnbldpdGhUb3AiLCJhbGlnbldpdGhMZWZ0Iiwib2Zmc2V0VG9wIiwib2Zmc2V0TGVmdCIsIm9mZnNldEJvdHRvbSIsIm9mZnNldFJpZ2h0IiwiaXNXaW4iLCJpc1dpbmRvdyIsImVsZW1PZmZzZXQiLCJvZmZzZXQiLCJlaCIsIm91dGVySGVpZ2h0IiwiZXciLCJvdXRlcldpZHRoIiwiY29udGFpbmVyT2Zmc2V0IiwiY2giLCJjdyIsImNvbnRhaW5lclNjcm9sbCIsImRpZmZUb3AiLCJkaWZmQm90dG9tIiwid2luU2Nyb2xsIiwid3ciLCJ3aCIsImhlaWdodCIsIndpZHRoIiwibGVmdCIsInNjcm9sbExlZnQiLCJ0b3AiLCJzY3JvbGxUb3AiLCJjbGllbnRIZWlnaHQiLCJjbGllbnRXaWR0aCIsImNzcyIsIl9leHRlbmRzIiwiYXNzaWduIiwic291cmNlIiwiX3R5cGVvZiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiZ2V0U2Nyb2xsIiwidyIsIm1ldGhvZCIsImRvY3VtZW50RWxlbWVudCIsImJvZHkiLCJnZXRTY3JvbGxMZWZ0IiwiZ2V0U2Nyb2xsVG9wIiwiZ2V0T2Zmc2V0IiwicG9zIiwiYm94IiwieCIsInkiLCJkb2MiLCJvd25lckRvY3VtZW50IiwiZG9jRWxlbSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImNsaWVudExlZnQiLCJjbGllbnRUb3AiLCJnZXRDbGllbnRQb3NpdGlvbiIsImRlZmF1bHRWaWV3IiwicGFyZW50V2luZG93IiwiX1JFX05VTV9OT19QWCIsIlJlZ0V4cCIsIlJFX1BPUyIsIkNVUlJFTlRfU1RZTEUiLCJSVU5USU1FX1NUWUxFIiwiTEVGVCIsIlBYIiwiZ2V0Q29tcHV0ZWRTdHlsZVgiLCJlYWNoIiwiaXNCb3JkZXJCb3hGbiIsImNvbXB1dGVkU3R5bGVfIiwidmFsIiwiY29tcHV0ZWRTdHlsZSIsInJzTGVmdCIsInBpeGVsTGVmdCIsIkJPWF9NT0RFTFMiLCJDT05URU5UX0lOREVYIiwiUEFERElOR19JTkRFWCIsIkJPUkRFUl9JTkRFWCIsImdldFBCTVdpZHRoIiwid2hpY2giLCJwcm9wIiwiaiIsImNzc1Byb3AiLCJkb21VdGlscyIsImdldFdIIiwiZXh0cmEiLCJ2aWV3cG9ydFdpZHRoIiwidmlld3BvcnRIZWlnaHQiLCJkb2NXaWR0aCIsImRvY0hlaWdodCIsImJvcmRlckJveFZhbHVlIiwib2Zmc2V0V2lkdGgiLCJvZmZzZXRIZWlnaHQiLCJpc0JvcmRlckJveCIsImNzc0JveFZhbHVlIiwiTnVtYmVyIiwiYm9yZGVyQm94VmFsdWVPcklzQm9yZGVyQm94IiwicGFkZGluZyIsInJlZldpbiIsImRvY3VtZW50RWxlbWVudFByb3AiLCJjb21wYXRNb2RlIiwiY3NzU2hvdyIsInBvc2l0aW9uIiwidmlzaWJpbGl0eSIsImRpc3BsYXkiLCJnZXRXSElnbm9yZURpc3BsYXkiLCJhcmdzIiwib3B0aW9ucyIsIm9sZCIsInN3YXAiLCJmaXJzdCIsImNoYXJBdCIsImluY2x1ZGVNYXJnaW4iLCJjdXJyZW50Iiwic2V0T2Zmc2V0IiwiY2xvbmUiLCJvdmVyZmxvdyIsInNjcm9sbFRvIiwicHJvY2VzcyIsImdldE5hbm9TZWNvbmRzIiwiaHJ0aW1lIiwibG9hZFRpbWUiLCJtb2R1bGVMb2FkVGltZSIsIm5vZGVMb2FkVGltZSIsInVwVGltZSIsInBlcmZvcm1hbmNlIiwiaHIiLCJ1cHRpbWUiLCJnZXRUaW1lIl0sIm1hcHBpbmdzIjoiMEZBT0EsU0FBQUEsSUFFQSxJQUFBQyxFQUFBQyxLQUFBQyxZQUFBQyx5QkFBQUYsS0FBQUcsTUFBQUgsS0FBQUQsT0FDQSxPQUFBQSxRQUFBSyxJQUFBTCxHQUNBQyxLQUFBSyxTQUFBTixHQUlBLFNBQUFPLEVBQUFDLEdBUUFQLEtBQUFLLFNBTEEsU0FBQUcsR0FDQSxJQUFBVCxFQUFBQyxLQUFBQyxZQUFBQyx5QkFBQUssRUFBQUMsR0FDQSxjQUFBVCxRQUFBSyxJQUFBTCxJQUFBLE1BR0FVLEtBQUFULE9BR0EsU0FBQVUsRUFBQUgsRUFBQUksR0FDQSxJQUNBLElBQUFDLEVBQUFaLEtBQUFHLE1BQ0FLLEVBQUFSLEtBQUFELE1BQ0FDLEtBQUFHLE1BQUFJLEVBQ0FQLEtBQUFELE1BQUFZLEVBQ0FYLEtBQUFhLDZCQUFBLEVBQ0FiLEtBQUFjLHdCQUFBZCxLQUFBZSx3QkFD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LEVBQUFMLFFBQ0ssQ0FDTCxRQUFBM1ksSUFBQXNVLEVBQ0EsT0FBQXFFLEVBQUFiLFdBRUFhLEVBQUFiLFdBQUF4RCxJQUdBMEQsVUFBQSxTQUFBVyxFQUFBckUsR0FDQSxHQUFBcUMsRUFBQWdDLEdBQUEsQ0FDQSxRQUFBM1ksSUFBQXNVLEVBQ0EsT0FBQTBFLEVBQUFMLEdBRUFqUyxPQUFBK1csU0FBQTFFLEVBQUFKLEdBQUFyRSxPQUNLLENBQ0wsUUFBQXRVLElBQUFzVSxFQUNBLE9BQUFxRSxFQUFBWCxVQUVBVyxFQUFBWCxVQUFBMUQsSUFJQW9ILGNBQUEsRUFDQUMsZUFBQSxHQUNDSix5QkN0YkQsU0FBQW1DLElBQ0EsV0FDQSxJQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUFBQyxFQUVBLG9CQUFBQyxhQUFBLE9BQUFBLHlCQUFBcFIsSUFDQTRELEVBQUFDLFFBQUEsV0FDQSxPQUFBdU4sWUFBQXBSLFlBRUcsSUFBQTZRLEdBQUEsT0FBQUEsS0FBQUUsUUFDSG5OLEVBQUFDLFFBQUEsV0FDQSxPQUFBaU4sSUFBQUksR0FBQSxLQUVBSCxFQUFBRixFQUFBRSxPQU1BRSxHQUxBSCxFQUFBLFdBQ0EsSUFBQU8sRUFFQSxZQURBQSxFQUFBTixLQUNBLEdBQUFNLEVBQUEsT0FHQUYsRUFBQSxJQUFBTixFQUFBUyxTQUNBSixFQUFBRCxFQUFBRSxHQUNHcFIsS0FBQUMsS0FDSDRELEVBQUFDLFFBQUEsV0FDQSxPQUFBOUQsS0FBQUMsTUFBQWdSLEdBRUFBLEVBQUFqUixLQUFBQyxRQUVBNEQsRUFBQUMsUUFBQSxXQUNBLFdBQUE5RCxNQUFBd1IsVUFBQVAsR0FFQUEsR0FBQSxJQUFBalIsTUFBQXdSLGFBR0N0YyxLQUFBbEMiLCJmaWxlIjoiMy5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEzLXByZXNlbnQsIEZhY2Vib29rLCBJbmMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKi9cblxuZnVuY3Rpb24gY29tcG9uZW50V2lsbE1vdW50KCkge1xuICAvLyBDYWxsIHRoaXMuY29uc3RydWN0b3IuZ0RTRlAgdG8gc3VwcG9ydCBzdWItY2xhc3Nlcy5cbiAgdmFyIHN0YXRlID0gdGhpcy5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHModGhpcy5wcm9wcywgdGhpcy5zdGF0ZSk7XG4gIGlmIChzdGF0ZSAhPT0gbnVsbCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5zZXRTdGF0ZShzdGF0ZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgLy8gQ2FsbCB0aGlzLmNvbnN0cnVjdG9yLmdEU0ZQIHRvIHN1cHBvcnQgc3ViLWNsYXNzZXMuXG4gIC8vIFVzZSB0aGUgc2V0U3RhdGUoKSB1cGRhdGVyIHRvIGVuc3VyZSBzdGF0ZSBpc24ndCBzdGFsZSBpbiBjZXJ0YWluIGVkZ2UgY2FzZXMuXG4gIGZ1bmN0aW9uIHVwZGF0ZXIocHJldlN0YXRlKSB7XG4gICAgdmFyIHN0YXRlID0gdGhpcy5jb25zdHJ1Y3Rvci5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMobmV4dFByb3BzLCBwcmV2U3RhdGUpO1xuICAgIHJldHVybiBzdGF0ZSAhPT0gbnVsbCAmJiBzdGF0ZSAhPT0gdW5kZWZpbmVkID8gc3RhdGUgOiBudWxsO1xuICB9XG4gIC8vIEJpbmRpbmcgXCJ0aGlzXCIgaXMgaW1wb3J0YW50IGZvciBzaGFsbG93IHJlbmRlcmVyIHN1cHBvcnQuXG4gIHRoaXMuc2V0U3RhdGUodXBkYXRlci5iaW5kKHRoaXMpKTtcbn1cblxuZnVuY3Rpb24gY29tcG9uZW50V2lsbFVwZGF0ZShuZXh0UHJvcHMsIG5leHRTdGF0ZSkge1xuICB0cnkge1xuICAgIHZhciBwcmV2UHJvcHMgPSB0aGlzLnByb3BzO1xuICAgIHZhciBwcmV2U3RhdGUgPSB0aGlzLnN0YXRlO1xuICAgIHRoaXMucHJvcHMgPSBuZXh0UHJvcHM7XG4gICAgdGhpcy5zdGF0ZSA9IG5leHRTdGF0ZTtcbiAgICB0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90RmxhZyA9IHRydWU7XG4gICAgdGhpcy5fX3JlYWN0SW50ZXJuYWxTbmFwc2hvdCA9IHRoaXMuZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoXG4gICAgICBwcmV2UHJvcHMsXG4gICAgICBwcmV2U3RhdGVcbiAgICApO1xuICB9IGZpbmFsbHkge1xuICAgIHRoaXMucHJvcHMgPSBwcmV2UHJvcHM7XG4gICAgdGhpcy5zdGF0ZSA9IHByZXZTdGF0ZTtcbiAgfVxufVxuXG4vLyBSZWFjdCBtYXkgd2FybiBhYm91dCBjV00vY1dSUC9jV1UgbWV0aG9kcyBiZWluZyBkZXByZWNhdGVkLlxuLy8gQWRkIGEgZmxhZyB0byBzdXBwcmVzcyB0aGVzZSB3YXJuaW5ncyBmb3IgdGhpcyBzcGVjaWFsIGNhc2UuXG5jb21wb25lbnRXaWxsTW91bnQuX19zdXBwcmVzc0RlcHJlY2F0aW9uV2FybmluZyA9IHRydWU7XG5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzLl9fc3VwcHJlc3NEZXByZWNhdGlvbldhcm5pbmcgPSB0cnVlO1xuY29tcG9uZW50V2lsbFVwZGF0ZS5fX3N1cHByZXNzRGVwcmVjYXRpb25XYXJuaW5nID0gdHJ1ZTtcblxuZnVuY3Rpb24gcG9seWZpbGwoQ29tcG9uZW50KSB7XG4gIHZhciBwcm90b3R5cGUgPSBDb21wb25lbnQucHJvdG90eXBlO1xuXG4gIGlmICghcHJvdG90eXBlIHx8ICFwcm90b3R5cGUuaXNSZWFjdENvbXBvbmVudCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQ2FuIG9ubHkgcG9seWZpbGwgY2xhc3MgY29tcG9uZW50cycpO1xuICB9XG5cbiAgaWYgKFxuICAgIHR5cGVvZiBDb21wb25lbnQuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzICE9PSAnZnVuY3Rpb24nICYmXG4gICAgdHlwZW9mIHByb3RvdHlwZS5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZSAhPT0gJ2Z1bmN0aW9uJ1xuICApIHtcbiAgICByZXR1cm4gQ29tcG9uZW50O1xuICB9XG5cbiAgLy8gSWYgbmV3IGNvbXBvbmVudCBBUElzIGFyZSBkZWZpbmVkLCBcInVuc2FmZVwiIGxpZmVjeWNsZXMgd29uJ3QgYmUgY2FsbGVkLlxuICAvLyBFcnJvciBpZiBhbnkgb2YgdGhlc2UgbGlmZWN5Y2xlcyBhcmUgcHJlc2VudCxcbiAgLy8gQmVjYXVzZSB0aGV5IHdvdWxkIHdvcmsgZGlmZmVyZW50bHkgYmV0d2VlbiBvbGRlciBhbmQgbmV3ZXIgKDE2LjMrKSB2ZXJzaW9ucyBvZiBSZWFjdC5cbiAgdmFyIGZvdW5kV2lsbE1vdW50TmFtZSA9IG51bGw7XG4gIHZhciBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lID0gbnVsbDtcbiAgdmFyIGZvdW5kV2lsbFVwZGF0ZU5hbWUgPSBudWxsO1xuICBpZiAodHlwZW9mIHByb3RvdHlwZS5jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxNb3VudE5hbWUgPSAnY29tcG9uZW50V2lsbE1vdW50JztcbiAgfSBlbHNlIGlmICh0eXBlb2YgcHJvdG90eXBlLlVOU0FGRV9jb21wb25lbnRXaWxsTW91bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxNb3VudE5hbWUgPSAnVU5TQUZFX2NvbXBvbmVudFdpbGxNb3VudCc7XG4gIH1cbiAgaWYgKHR5cGVvZiBwcm90b3R5cGUuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgPSAnY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyc7XG4gIH0gZWxzZSBpZiAodHlwZW9mIHByb3RvdHlwZS5VTlNBRkVfY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgPSAnVU5TQUZFX2NvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMnO1xuICB9XG4gIGlmICh0eXBlb2YgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID0gJ2NvbXBvbmVudFdpbGxVcGRhdGUnO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBwcm90b3R5cGUuVU5TQUZFX2NvbXBvbmVudFdpbGxVcGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBmb3VuZFdpbGxVcGRhdGVOYW1lID0gJ1VOU0FGRV9jb21wb25lbnRXaWxsVXBkYXRlJztcbiAgfVxuICBpZiAoXG4gICAgZm91bmRXaWxsTW91bnROYW1lICE9PSBudWxsIHx8XG4gICAgZm91bmRXaWxsUmVjZWl2ZVByb3BzTmFtZSAhPT0gbnVsbCB8fFxuICAgIGZvdW5kV2lsbFVwZGF0ZU5hbWUgIT09IG51bGxcbiAgKSB7XG4gICAgdmFyIGNvbXBvbmVudE5hbWUgPSBDb21wb25lbnQuZGlzcGxheU5hbWUgfHwgQ29tcG9uZW50Lm5hbWU7XG4gICAgdmFyIG5ld0FwaU5hbWUgPVxuICAgICAgdHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyAnZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKCknXG4gICAgICAgIDogJ2dldFNuYXBzaG90QmVmb3JlVXBkYXRlKCknO1xuXG4gICAgdGhyb3cgRXJyb3IoXG4gICAgICAnVW5zYWZlIGxlZ2FjeSBsaWZlY3ljbGVzIHdpbGwgbm90IGJlIGNhbGxlZCBmb3IgY29tcG9uZW50cyB1c2luZyBuZXcgY29tcG9uZW50IEFQSXMuXFxuXFxuJyArXG4gICAgICAgIGNvbXBvbmVudE5hbWUgK1xuICAgICAgICAnIHVzZXMgJyArXG4gICAgICAgIG5ld0FwaU5hbWUgK1xuICAgICAgICAnIGJ1dCBhbHNvIGNvbnRhaW5zIHRoZSBmb2xsb3dpbmcgbGVnYWN5IGxpZmVjeWNsZXM6JyArXG4gICAgICAgIChmb3VuZFdpbGxNb3VudE5hbWUgIT09IG51bGwgPyAnXFxuICAnICsgZm91bmRXaWxsTW91bnROYW1lIDogJycpICtcbiAgICAgICAgKGZvdW5kV2lsbFJlY2VpdmVQcm9wc05hbWUgIT09IG51bGxcbiAgICAgICAgICA/ICdcXG4gICcgKyBmb3VuZFdpbGxSZWNlaXZlUHJvcHNOYW1lXG4gICAgICAgICAgOiAnJykgK1xuICAgICAgICAoZm91bmRXaWxsVXBkYXRlTmFtZSAhPT0gbnVsbCA/ICdcXG4gICcgKyBmb3VuZFdpbGxVcGRhdGVOYW1lIDogJycpICtcbiAgICAgICAgJ1xcblxcblRoZSBhYm92ZSBsaWZlY3ljbGVzIHNob3VsZCBiZSByZW1vdmVkLiBMZWFybiBtb3JlIGFib3V0IHRoaXMgd2FybmluZyBoZXJlOlxcbicgK1xuICAgICAgICAnaHR0cHM6Ly9mYi5tZS9yZWFjdC1hc3luYy1jb21wb25lbnQtbGlmZWN5Y2xlLWhvb2tzJ1xuICAgICk7XG4gIH1cblxuICAvLyBSZWFjdCA8PSAxNi4yIGRvZXMgbm90IHN1cHBvcnQgc3RhdGljIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcy5cbiAgLy8gQXMgYSB3b3JrYXJvdW5kLCB1c2UgY1dNIGFuZCBjV1JQIHRvIGludm9rZSB0aGUgbmV3IHN0YXRpYyBsaWZlY3ljbGUuXG4gIC8vIE5ld2VyIHZlcnNpb25zIG9mIFJlYWN0IHdpbGwgaWdub3JlIHRoZXNlIGxpZmVjeWNsZXMgaWYgZ0RTRlAgZXhpc3RzLlxuICBpZiAodHlwZW9mIENvbXBvbmVudC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBwcm90b3R5cGUuY29tcG9uZW50V2lsbE1vdW50ID0gY29tcG9uZW50V2lsbE1vdW50O1xuICAgIHByb3RvdHlwZS5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcztcbiAgfVxuXG4gIC8vIFJlYWN0IDw9IDE2LjIgZG9lcyBub3Qgc3VwcG9ydCBnZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZS5cbiAgLy8gQXMgYSB3b3JrYXJvdW5kLCB1c2UgY1dVIHRvIGludm9rZSB0aGUgbmV3IGxpZmVjeWNsZS5cbiAgLy8gTmV3ZXIgdmVyc2lvbnMgb2YgUmVhY3Qgd2lsbCBpZ25vcmUgdGhhdCBsaWZlY3ljbGUgaWYgZ1NCVSBleGlzdHMuXG4gIGlmICh0eXBlb2YgcHJvdG90eXBlLmdldFNuYXBzaG90QmVmb3JlVXBkYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKHR5cGVvZiBwcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdDYW5ub3QgcG9seWZpbGwgZ2V0U25hcHNob3RCZWZvcmVVcGRhdGUoKSBmb3IgY29tcG9uZW50cyB0aGF0IGRvIG5vdCBkZWZpbmUgY29tcG9uZW50RGlkVXBkYXRlKCkgb24gdGhlIHByb3RvdHlwZSdcbiAgICAgICk7XG4gICAgfVxuXG4gICAgcHJvdG90eXBlLmNvbXBvbmVudFdpbGxVcGRhdGUgPSBjb21wb25lbnRXaWxsVXBkYXRlO1xuXG4gICAgdmFyIGNvbXBvbmVudERpZFVwZGF0ZSA9IHByb3RvdHlwZS5jb21wb25lbnREaWRVcGRhdGU7XG5cbiAgICBwcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlUG9seWZpbGwoXG4gICAgICBwcmV2UHJvcHMsXG4gICAgICBwcmV2U3RhdGUsXG4gICAgICBtYXliZVNuYXBzaG90XG4gICAgKSB7XG4gICAgICAvLyAxNi4zKyB3aWxsIG5vdCBleGVjdXRlIG91ciB3aWxsLXVwZGF0ZSBtZXRob2Q7XG4gICAgICAvLyBJdCB3aWxsIHBhc3MgYSBzbmFwc2hvdCB2YWx1ZSB0byBkaWQtdXBkYXRlIHRob3VnaC5cbiAgICAgIC8vIE9sZGVyIHZlcnNpb25zIHdpbGwgcmVxdWlyZSBvdXIgcG9seWZpbGxlZCB3aWxsLXVwZGF0ZSB2YWx1ZS5cbiAgICAgIC8vIFdlIG5lZWQgdG8gaGFuZGxlIGJvdGggY2FzZXMsIGJ1dCBjYW4ndCBqdXN0IGNoZWNrIGZvciB0aGUgcHJlc2VuY2Ugb2YgXCJtYXliZVNuYXBzaG90XCIsXG4gICAgICAvLyBCZWNhdXNlIGZvciA8PSAxNS54IHZlcnNpb25zIHRoaXMgbWlnaHQgYmUgYSBcInByZXZDb250ZXh0XCIgb2JqZWN0LlxuICAgICAgLy8gV2UgYWxzbyBjYW4ndCBqdXN0IGNoZWNrIFwiX19yZWFjdEludGVybmFsU25hcHNob3RcIixcbiAgICAgIC8vIEJlY2F1c2UgZ2V0LXNuYXBzaG90IG1pZ2h0IHJldHVybiBhIGZhbHN5IHZhbHVlLlxuICAgICAgLy8gU28gY2hlY2sgZm9yIHRoZSBleHBsaWNpdCBfX3JlYWN0SW50ZXJuYWxTbmFwc2hvdEZsYWcgZmxhZyB0byBkZXRlcm1pbmUgYmVoYXZpb3IuXG4gICAgICB2YXIgc25hcHNob3QgPSB0aGlzLl9fcmVhY3RJbnRlcm5hbFNuYXBzaG90RmxhZ1xuICAgICAgICA/IHRoaXMuX19yZWFjdEludGVybmFsU25hcHNob3RcbiAgICAgICAgOiBtYXliZVNuYXBzaG90O1xuXG4gICAgICBjb21wb25lbnREaWRVcGRhdGUuY2FsbCh0aGlzLCBwcmV2UHJvcHMsIHByZXZTdGF0ZSwgc25hcHNob3QpO1xuICAgIH07XG4gIH1cblxuICByZXR1cm4gQ29tcG9uZW50O1xufVxuXG5leHBvcnQgeyBwb2x5ZmlsbCB9O1xuIiwiaW1wb3J0IF9leHRlbmRzIGZyb20gXCJiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kc1wiO1xuZnVuY3Rpb24gb21pdChvYmosIGZpZWxkcykge1xuICB2YXIgc2hhbGxvd0NvcHkgPSBfZXh0ZW5kcyh7fSwgb2JqKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIga2V5ID0gZmllbGRzW2ldO1xuICAgIGRlbGV0ZSBzaGFsbG93Q29weVtrZXldO1xuICB9XG4gIHJldHVybiBzaGFsbG93Q29weTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgb21pdDsiLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5leHBvcnQgZnVuY3Rpb24gdG9BcnJheUNoaWxkcmVuKGNoaWxkcmVuKSB7XG4gIHZhciByZXQgPSBbXTtcbiAgUmVhY3QuQ2hpbGRyZW4uZm9yRWFjaChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgcmV0LnB1c2goY2hpbGQpO1xuICB9KTtcbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleShjaGlsZHJlbiwga2V5KSB7XG4gIHZhciByZXQgPSBudWxsO1xuICBpZiAoY2hpbGRyZW4pIHtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgaWYgKHJldCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoY2hpbGQgJiYgY2hpbGQua2V5ID09PSBrZXkpIHtcbiAgICAgICAgcmV0ID0gY2hpbGQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRTaG93bkNoaWxkSW5DaGlsZHJlbkJ5S2V5KGNoaWxkcmVuLCBrZXksIHNob3dQcm9wKSB7XG4gIHZhciByZXQgPSBudWxsO1xuICBpZiAoY2hpbGRyZW4pIHtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgaWYgKGNoaWxkICYmIGNoaWxkLmtleSA9PT0ga2V5ICYmIGNoaWxkLnByb3BzW3Nob3dQcm9wXSkge1xuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCd0d28gY2hpbGQgd2l0aCBzYW1lIGtleSBmb3IgPHJjLWFuaW1hdGU+IGNoaWxkcmVuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0ID0gY2hpbGQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRIaWRkZW5DaGlsZEluQ2hpbGRyZW5CeUtleShjaGlsZHJlbiwga2V5LCBzaG93UHJvcCkge1xuICB2YXIgZm91bmQgPSAwO1xuICBpZiAoY2hpbGRyZW4pIHtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgaWYgKGZvdW5kKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvdW5kID0gY2hpbGQgJiYgY2hpbGQua2V5ID09PSBrZXkgJiYgIWNoaWxkLnByb3BzW3Nob3dQcm9wXTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gZm91bmQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc1NhbWVDaGlsZHJlbihjMSwgYzIsIHNob3dQcm9wKSB7XG4gIHZhciBzYW1lID0gYzEubGVuZ3RoID09PSBjMi5sZW5ndGg7XG4gIGlmIChzYW1lKSB7XG4gICAgYzEuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgICB2YXIgY2hpbGQyID0gYzJbaW5kZXhdO1xuICAgICAgaWYgKGNoaWxkICYmIGNoaWxkMikge1xuICAgICAgICBpZiAoY2hpbGQgJiYgIWNoaWxkMiB8fCAhY2hpbGQgJiYgY2hpbGQyKSB7XG4gICAgICAgICAgc2FtZSA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGNoaWxkLmtleSAhPT0gY2hpbGQyLmtleSkge1xuICAgICAgICAgIHNhbWUgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChzaG93UHJvcCAmJiBjaGlsZC5wcm9wc1tzaG93UHJvcF0gIT09IGNoaWxkMi5wcm9wc1tzaG93UHJvcF0pIHtcbiAgICAgICAgICBzYW1lID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gc2FtZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlQ2hpbGRyZW4ocHJldiwgbmV4dCkge1xuICB2YXIgcmV0ID0gW107XG5cbiAgLy8gRm9yIGVhY2gga2V5IG9mIGBuZXh0YCwgdGhlIGxpc3Qgb2Yga2V5cyB0byBpbnNlcnQgYmVmb3JlIHRoYXQga2V5IGluXG4gIC8vIHRoZSBjb21iaW5lZCBsaXN0XG4gIHZhciBuZXh0Q2hpbGRyZW5QZW5kaW5nID0ge307XG4gIHZhciBwZW5kaW5nQ2hpbGRyZW4gPSBbXTtcbiAgcHJldi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIGlmIChjaGlsZCAmJiBmaW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkobmV4dCwgY2hpbGQua2V5KSkge1xuICAgICAgaWYgKHBlbmRpbmdDaGlsZHJlbi5sZW5ndGgpIHtcbiAgICAgICAgbmV4dENoaWxkcmVuUGVuZGluZ1tjaGlsZC5rZXldID0gcGVuZGluZ0NoaWxkcmVuO1xuICAgICAgICBwZW5kaW5nQ2hpbGRyZW4gPSBbXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcGVuZGluZ0NoaWxkcmVuLnB1c2goY2hpbGQpO1xuICAgIH1cbiAgfSk7XG5cbiAgbmV4dC5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgIGlmIChjaGlsZCAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobmV4dENoaWxkcmVuUGVuZGluZywgY2hpbGQua2V5KSkge1xuICAgICAgcmV0ID0gcmV0LmNvbmNhdChuZXh0Q2hpbGRyZW5QZW5kaW5nW2NoaWxkLmtleV0pO1xuICAgIH1cbiAgICByZXQucHVzaChjaGlsZCk7XG4gIH0pO1xuXG4gIHJldCA9IHJldC5jb25jYXQocGVuZGluZ0NoaWxkcmVuKTtcblxuICByZXR1cm4gcmV0O1xufSIsInZhciB1dGlsID0ge1xuICBpc0FwcGVhclN1cHBvcnRlZDogZnVuY3Rpb24gaXNBcHBlYXJTdXBwb3J0ZWQocHJvcHMpIHtcbiAgICByZXR1cm4gcHJvcHMudHJhbnNpdGlvbk5hbWUgJiYgcHJvcHMudHJhbnNpdGlvbkFwcGVhciB8fCBwcm9wcy5hbmltYXRpb24uYXBwZWFyO1xuICB9LFxuICBpc0VudGVyU3VwcG9ydGVkOiBmdW5jdGlvbiBpc0VudGVyU3VwcG9ydGVkKHByb3BzKSB7XG4gICAgcmV0dXJuIHByb3BzLnRyYW5zaXRpb25OYW1lICYmIHByb3BzLnRyYW5zaXRpb25FbnRlciB8fCBwcm9wcy5hbmltYXRpb24uZW50ZXI7XG4gIH0sXG4gIGlzTGVhdmVTdXBwb3J0ZWQ6IGZ1bmN0aW9uIGlzTGVhdmVTdXBwb3J0ZWQocHJvcHMpIHtcbiAgICByZXR1cm4gcHJvcHMudHJhbnNpdGlvbk5hbWUgJiYgcHJvcHMudHJhbnNpdGlvbkxlYXZlIHx8IHByb3BzLmFuaW1hdGlvbi5sZWF2ZTtcbiAgfSxcbiAgYWxsb3dBcHBlYXJDYWxsYmFjazogZnVuY3Rpb24gYWxsb3dBcHBlYXJDYWxsYmFjayhwcm9wcykge1xuICAgIHJldHVybiBwcm9wcy50cmFuc2l0aW9uQXBwZWFyIHx8IHByb3BzLmFuaW1hdGlvbi5hcHBlYXI7XG4gIH0sXG4gIGFsbG93RW50ZXJDYWxsYmFjazogZnVuY3Rpb24gYWxsb3dFbnRlckNhbGxiYWNrKHByb3BzKSB7XG4gICAgcmV0dXJuIHByb3BzLnRyYW5zaXRpb25FbnRlciB8fCBwcm9wcy5hbmltYXRpb24uZW50ZXI7XG4gIH0sXG4gIGFsbG93TGVhdmVDYWxsYmFjazogZnVuY3Rpb24gYWxsb3dMZWF2ZUNhbGxiYWNrKHByb3BzKSB7XG4gICAgcmV0dXJuIHByb3BzLnRyYW5zaXRpb25MZWF2ZSB8fCBwcm9wcy5hbmltYXRpb24ubGVhdmU7XG4gIH1cbn07XG5leHBvcnQgZGVmYXVsdCB1dGlsOyIsImltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFJlYWN0RE9NIGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNzc0FuaW1hdGUsIHsgaXNDc3NBbmltYXRpb25TdXBwb3J0ZWQgfSBmcm9tICdjc3MtYW5pbWF0aW9uJztcbmltcG9ydCBhbmltVXRpbCBmcm9tICcuL3V0aWwvYW5pbWF0ZSc7XG5cbnZhciB0cmFuc2l0aW9uTWFwID0ge1xuICBlbnRlcjogJ3RyYW5zaXRpb25FbnRlcicsXG4gIGFwcGVhcjogJ3RyYW5zaXRpb25BcHBlYXInLFxuICBsZWF2ZTogJ3RyYW5zaXRpb25MZWF2ZSdcbn07XG5cbnZhciBBbmltYXRlQ2hpbGQgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQW5pbWF0ZUNoaWxkLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBBbmltYXRlQ2hpbGQoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEFuaW1hdGVDaGlsZCk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgKEFuaW1hdGVDaGlsZC5fX3Byb3RvX18gfHwgT2JqZWN0LmdldFByb3RvdHlwZU9mKEFuaW1hdGVDaGlsZCkpLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpO1xuICB9XG5cbiAgX2NyZWF0ZUNsYXNzKEFuaW1hdGVDaGlsZCwgW3tcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsVW5tb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgICAgdGhpcy5zdG9wKCk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnY29tcG9uZW50V2lsbEVudGVyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbEVudGVyKGRvbmUpIHtcbiAgICAgIGlmIChhbmltVXRpbC5pc0VudGVyU3VwcG9ydGVkKHRoaXMucHJvcHMpKSB7XG4gICAgICAgIHRoaXMudHJhbnNpdGlvbignZW50ZXInLCBkb25lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsQXBwZWFyJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbEFwcGVhcihkb25lKSB7XG4gICAgICBpZiAoYW5pbVV0aWwuaXNBcHBlYXJTdXBwb3J0ZWQodGhpcy5wcm9wcykpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uKCdhcHBlYXInLCBkb25lKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsTGVhdmUnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsTGVhdmUoZG9uZSkge1xuICAgICAgaWYgKGFuaW1VdGlsLmlzTGVhdmVTdXBwb3J0ZWQodGhpcy5wcm9wcykpIHtcbiAgICAgICAgdGhpcy50cmFuc2l0aW9uKCdsZWF2ZScsIGRvbmUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gYWx3YXlzIHN5bmMsIGRvIG5vdCBpbnRlcnVwdCB3aXRoIHJlYWN0IGNvbXBvbmVudCBsaWZlIGN5Y2xlXG4gICAgICAgIC8vIHVwZGF0ZSBoaWRkZW4gLT4gYW5pbWF0ZSBoaWRkZW4gLT5cbiAgICAgICAgLy8gZGlkVXBkYXRlIC0+IGFuaW1hdGUgbGVhdmUgLT4gdW5tb3VudCAoaWYgYW5pbWF0ZSBpcyBub25lKVxuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAndHJhbnNpdGlvbicsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHRyYW5zaXRpb24oYW5pbWF0aW9uVHlwZSwgZmluaXNoQ2FsbGJhY2spIHtcbiAgICAgIHZhciBfdGhpczIgPSB0aGlzO1xuXG4gICAgICB2YXIgbm9kZSA9IFJlYWN0RE9NLmZpbmRET01Ob2RlKHRoaXMpO1xuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgIHZhciB0cmFuc2l0aW9uTmFtZSA9IHByb3BzLnRyYW5zaXRpb25OYW1lO1xuICAgICAgdmFyIG5hbWVJc09iaiA9IHR5cGVvZiB0cmFuc2l0aW9uTmFtZSA9PT0gJ29iamVjdCc7XG4gICAgICB0aGlzLnN0b3AoKTtcbiAgICAgIHZhciBlbmQgPSBmdW5jdGlvbiBlbmQoKSB7XG4gICAgICAgIF90aGlzMi5zdG9wcGVyID0gbnVsbDtcbiAgICAgICAgZmluaXNoQ2FsbGJhY2soKTtcbiAgICAgIH07XG4gICAgICBpZiAoKGlzQ3NzQW5pbWF0aW9uU3VwcG9ydGVkIHx8ICFwcm9wcy5hbmltYXRpb25bYW5pbWF0aW9uVHlwZV0pICYmIHRyYW5zaXRpb25OYW1lICYmIHByb3BzW3RyYW5zaXRpb25NYXBbYW5pbWF0aW9uVHlwZV1dKSB7XG4gICAgICAgIHZhciBuYW1lID0gbmFtZUlzT2JqID8gdHJhbnNpdGlvbk5hbWVbYW5pbWF0aW9uVHlwZV0gOiB0cmFuc2l0aW9uTmFtZSArICctJyArIGFuaW1hdGlvblR5cGU7XG4gICAgICAgIHZhciBhY3RpdmVOYW1lID0gbmFtZSArICctYWN0aXZlJztcbiAgICAgICAgaWYgKG5hbWVJc09iaiAmJiB0cmFuc2l0aW9uTmFtZVthbmltYXRpb25UeXBlICsgJ0FjdGl2ZSddKSB7XG4gICAgICAgICAgYWN0aXZlTmFtZSA9IHRyYW5zaXRpb25OYW1lW2FuaW1hdGlvblR5cGUgKyAnQWN0aXZlJ107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdG9wcGVyID0gY3NzQW5pbWF0ZShub2RlLCB7XG4gICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICBhY3RpdmU6IGFjdGl2ZU5hbWVcbiAgICAgICAgfSwgZW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3RvcHBlciA9IHByb3BzLmFuaW1hdGlvblthbmltYXRpb25UeXBlXShub2RlLCBlbmQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ3N0b3AnLFxuICAgIHZhbHVlOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgdmFyIHN0b3BwZXIgPSB0aGlzLnN0b3BwZXI7XG4gICAgICBpZiAoc3RvcHBlcikge1xuICAgICAgICB0aGlzLnN0b3BwZXIgPSBudWxsO1xuICAgICAgICBzdG9wcGVyLnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gdGhpcy5wcm9wcy5jaGlsZHJlbjtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQW5pbWF0ZUNoaWxkO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5BbmltYXRlQ2hpbGQucHJvcFR5cGVzID0ge1xuICBjaGlsZHJlbjogUHJvcFR5cGVzLmFueVxufTtcbmV4cG9ydCBkZWZhdWx0IEFuaW1hdGVDaGlsZDsiLCJ2YXIgY2FuVXNlRE9NID0gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LmRvY3VtZW50ICYmIHdpbmRvdy5kb2N1bWVudC5jcmVhdGVFbGVtZW50KTtcblxuLy8gPT09PT09PT09PT09PT09PT0gVHJhbnNpdGlvbiA9PT09PT09PT09PT09PT09PVxuLy8gRXZlbnQgd3JhcHBlci4gQ29weSBmcm9tIHJlYWN0IHNvdXJjZSBjb2RlXG5mdW5jdGlvbiBtYWtlUHJlZml4TWFwKHN0eWxlUHJvcCwgZXZlbnROYW1lKSB7XG4gIHZhciBwcmVmaXhlcyA9IHt9O1xuXG4gIHByZWZpeGVzW3N0eWxlUHJvcC50b0xvd2VyQ2FzZSgpXSA9IGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuICBwcmVmaXhlc1snV2Via2l0JyArIHN0eWxlUHJvcF0gPSAnd2Via2l0JyArIGV2ZW50TmFtZTtcbiAgcHJlZml4ZXNbJ01veicgKyBzdHlsZVByb3BdID0gJ21veicgKyBldmVudE5hbWU7XG4gIHByZWZpeGVzWydtcycgKyBzdHlsZVByb3BdID0gJ01TJyArIGV2ZW50TmFtZTtcbiAgcHJlZml4ZXNbJ08nICsgc3R5bGVQcm9wXSA9ICdvJyArIGV2ZW50TmFtZS50b0xvd2VyQ2FzZSgpO1xuXG4gIHJldHVybiBwcmVmaXhlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZlbmRvclByZWZpeGVzKGRvbVN1cHBvcnQsIHdpbikge1xuICB2YXIgcHJlZml4ZXMgPSB7XG4gICAgYW5pbWF0aW9uZW5kOiBtYWtlUHJlZml4TWFwKCdBbmltYXRpb24nLCAnQW5pbWF0aW9uRW5kJyksXG4gICAgdHJhbnNpdGlvbmVuZDogbWFrZVByZWZpeE1hcCgnVHJhbnNpdGlvbicsICdUcmFuc2l0aW9uRW5kJylcbiAgfTtcblxuICBpZiAoZG9tU3VwcG9ydCkge1xuICAgIGlmICghKCdBbmltYXRpb25FdmVudCcgaW4gd2luKSkge1xuICAgICAgZGVsZXRlIHByZWZpeGVzLmFuaW1hdGlvbmVuZC5hbmltYXRpb247XG4gICAgfVxuXG4gICAgaWYgKCEoJ1RyYW5zaXRpb25FdmVudCcgaW4gd2luKSkge1xuICAgICAgZGVsZXRlIHByZWZpeGVzLnRyYW5zaXRpb25lbmQudHJhbnNpdGlvbjtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcHJlZml4ZXM7XG59XG5cbnZhciB2ZW5kb3JQcmVmaXhlcyA9IGdldFZlbmRvclByZWZpeGVzKGNhblVzZURPTSwgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgPyB3aW5kb3cgOiB7fSk7XG5cbnZhciBzdHlsZSA9IHt9O1xuXG5pZiAoY2FuVXNlRE9NKSB7XG4gIHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jykuc3R5bGU7XG59XG5cbnZhciBwcmVmaXhlZEV2ZW50TmFtZXMgPSB7fTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFZlbmRvclByZWZpeGVkRXZlbnROYW1lKGV2ZW50TmFtZSkge1xuICBpZiAocHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV0pIHtcbiAgICByZXR1cm4gcHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV07XG4gIH1cblxuICB2YXIgcHJlZml4TWFwID0gdmVuZG9yUHJlZml4ZXNbZXZlbnROYW1lXTtcblxuICBpZiAocHJlZml4TWFwKSB7XG4gICAgdmFyIHN0eWxlUHJvcExpc3QgPSBPYmplY3Qua2V5cyhwcmVmaXhNYXApO1xuICAgIHZhciBsZW4gPSBzdHlsZVByb3BMaXN0Lmxlbmd0aDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSArPSAxKSB7XG4gICAgICB2YXIgc3R5bGVQcm9wID0gc3R5bGVQcm9wTGlzdFtpXTtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJlZml4TWFwLCBzdHlsZVByb3ApICYmIHN0eWxlUHJvcCBpbiBzdHlsZSkge1xuICAgICAgICBwcmVmaXhlZEV2ZW50TmFtZXNbZXZlbnROYW1lXSA9IHByZWZpeE1hcFtzdHlsZVByb3BdO1xuICAgICAgICByZXR1cm4gcHJlZml4ZWRFdmVudE5hbWVzW2V2ZW50TmFtZV07XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuICcnO1xufVxuXG5leHBvcnQgdmFyIGFuaW1hdGlvbkVuZE5hbWUgPSBnZXRWZW5kb3JQcmVmaXhlZEV2ZW50TmFtZSgnYW5pbWF0aW9uZW5kJyk7XG5leHBvcnQgdmFyIHRyYW5zaXRpb25FbmROYW1lID0gZ2V0VmVuZG9yUHJlZml4ZWRFdmVudE5hbWUoJ3RyYW5zaXRpb25lbmQnKTtcbmV4cG9ydCB2YXIgc3VwcG9ydFRyYW5zaXRpb24gPSAhIShhbmltYXRpb25FbmROYW1lICYmIHRyYW5zaXRpb25FbmROYW1lKTtcblxuZXhwb3J0IGZ1bmN0aW9uIGdldFRyYW5zaXRpb25OYW1lKHRyYW5zaXRpb25OYW1lLCB0cmFuc2l0aW9uVHlwZSkge1xuICBpZiAoIXRyYW5zaXRpb25OYW1lKSByZXR1cm4gbnVsbDtcblxuICBpZiAodHlwZW9mIHRyYW5zaXRpb25OYW1lID09PSAnb2JqZWN0Jykge1xuICAgIHZhciB0eXBlID0gdHJhbnNpdGlvblR5cGUucmVwbGFjZSgvLVxcdy9nLCBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICAgIHJldHVybiBtYXRjaFsxXS50b1VwcGVyQ2FzZSgpO1xuICAgIH0pO1xuICAgIHJldHVybiB0cmFuc2l0aW9uTmFtZVt0eXBlXTtcbiAgfVxuXG4gIHJldHVybiB0cmFuc2l0aW9uTmFtZSArICctJyArIHRyYW5zaXRpb25UeXBlO1xufSIsImltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jcmVhdGVDbGFzcyc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBSZWFjdERPTSBmcm9tICdyZWFjdC1kb20nO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IHBvbHlmaWxsIH0gZnJvbSAncmVhY3QtbGlmZWN5Y2xlcy1jb21wYXQnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5pbXBvcnQgcmFmIGZyb20gJ3JhZic7XG5pbXBvcnQgeyBnZXRUcmFuc2l0aW9uTmFtZSwgYW5pbWF0aW9uRW5kTmFtZSwgdHJhbnNpdGlvbkVuZE5hbWUsIHN1cHBvcnRUcmFuc2l0aW9uIH0gZnJvbSAnLi91dGlsL21vdGlvbic7XG5cbnZhciBTVEFUVVNfTk9ORSA9ICdub25lJztcbnZhciBTVEFUVVNfQVBQRUFSID0gJ2FwcGVhcic7XG52YXIgU1RBVFVTX0VOVEVSID0gJ2VudGVyJztcbnZhciBTVEFUVVNfTEVBVkUgPSAnbGVhdmUnO1xuXG4vKipcbiAqIGB0cmFuc2l0aW9uU3VwcG9ydGAgaXMgdXNlZCBmb3Igbm9uZSB0cmFuc2l0aW9uIHRlc3QgY2FzZS5cbiAqIERlZmF1bHQgd2UgdXNlIGJyb3dzZXIgdHJhbnNpdGlvbiBldmVudCBzdXBwb3J0IGNoZWNrLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2VuQ1NTTW90aW9uKHRyYW5zaXRpb25TdXBwb3J0KSB7XG4gIGZ1bmN0aW9uIGlzU3VwcG9ydFRyYW5zaXRpb24ocHJvcHMpIHtcbiAgICByZXR1cm4gISEocHJvcHMubW90aW9uTmFtZSAmJiB0cmFuc2l0aW9uU3VwcG9ydCk7XG4gIH1cblxuICB2YXIgQ1NTTW90aW9uID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgICBfaW5oZXJpdHMoQ1NTTW90aW9uLCBfUmVhY3QkQ29tcG9uZW50KTtcblxuICAgIGZ1bmN0aW9uIENTU01vdGlvbigpIHtcbiAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDU1NNb3Rpb24pO1xuXG4gICAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCAoQ1NTTW90aW9uLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQ1NTTW90aW9uKSkuY2FsbCh0aGlzKSk7XG5cbiAgICAgIF90aGlzLm9uRG9tVXBkYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgX3RoaXMkc3RhdGUgPSBfdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIHN0YXR1cyA9IF90aGlzJHN0YXRlLnN0YXR1cyxcbiAgICAgICAgICAgIG5ld1N0YXR1cyA9IF90aGlzJHN0YXRlLm5ld1N0YXR1cztcbiAgICAgICAgdmFyIF90aGlzJHByb3BzID0gX3RoaXMucHJvcHMsXG4gICAgICAgICAgICBvbkFwcGVhclN0YXJ0ID0gX3RoaXMkcHJvcHMub25BcHBlYXJTdGFydCxcbiAgICAgICAgICAgIG9uRW50ZXJTdGFydCA9IF90aGlzJHByb3BzLm9uRW50ZXJTdGFydCxcbiAgICAgICAgICAgIG9uTGVhdmVTdGFydCA9IF90aGlzJHByb3BzLm9uTGVhdmVTdGFydCxcbiAgICAgICAgICAgIG9uQXBwZWFyQWN0aXZlID0gX3RoaXMkcHJvcHMub25BcHBlYXJBY3RpdmUsXG4gICAgICAgICAgICBvbkVudGVyQWN0aXZlID0gX3RoaXMkcHJvcHMub25FbnRlckFjdGl2ZSxcbiAgICAgICAgICAgIG9uTGVhdmVBY3RpdmUgPSBfdGhpcyRwcm9wcy5vbkxlYXZlQWN0aXZlLFxuICAgICAgICAgICAgbW90aW9uQXBwZWFyID0gX3RoaXMkcHJvcHMubW90aW9uQXBwZWFyLFxuICAgICAgICAgICAgbW90aW9uRW50ZXIgPSBfdGhpcyRwcm9wcy5tb3Rpb25FbnRlcixcbiAgICAgICAgICAgIG1vdGlvbkxlYXZlID0gX3RoaXMkcHJvcHMubW90aW9uTGVhdmU7XG5cblxuICAgICAgICBpZiAoIWlzU3VwcG9ydFRyYW5zaXRpb24oX3RoaXMucHJvcHMpKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gRXZlbnQgaW5qZWN0aW9uXG4gICAgICAgIHZhciAkZWxlID0gUmVhY3RET00uZmluZERPTU5vZGUoX3RoaXMpO1xuICAgICAgICBpZiAoX3RoaXMuJGVsZSAhPT0gJGVsZSkge1xuICAgICAgICAgIF90aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIoX3RoaXMuJGVsZSk7XG4gICAgICAgICAgX3RoaXMuYWRkRXZlbnRMaXN0ZW5lcigkZWxlKTtcbiAgICAgICAgICBfdGhpcy4kZWxlID0gJGVsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEluaXQgc3RhdHVzXG4gICAgICAgIGlmIChuZXdTdGF0dXMgJiYgc3RhdHVzID09PSBTVEFUVVNfQVBQRUFSICYmIG1vdGlvbkFwcGVhcikge1xuICAgICAgICAgIF90aGlzLnVwZGF0ZVN0YXR1cyhvbkFwcGVhclN0YXJ0LCBudWxsLCBudWxsLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBfdGhpcy51cGRhdGVBY3RpdmVTdGF0dXMob25BcHBlYXJBY3RpdmUsIFNUQVRVU19BUFBFQVIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKG5ld1N0YXR1cyAmJiBzdGF0dXMgPT09IFNUQVRVU19FTlRFUiAmJiBtb3Rpb25FbnRlcikge1xuICAgICAgICAgIF90aGlzLnVwZGF0ZVN0YXR1cyhvbkVudGVyU3RhcnQsIG51bGwsIG51bGwsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUFjdGl2ZVN0YXR1cyhvbkVudGVyQWN0aXZlLCBTVEFUVVNfRU5URVIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2UgaWYgKG5ld1N0YXR1cyAmJiBzdGF0dXMgPT09IFNUQVRVU19MRUFWRSAmJiBtb3Rpb25MZWF2ZSkge1xuICAgICAgICAgIF90aGlzLnVwZGF0ZVN0YXR1cyhvbkxlYXZlU3RhcnQsIG51bGwsIG51bGwsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIF90aGlzLnVwZGF0ZUFjdGl2ZVN0YXR1cyhvbkxlYXZlQWN0aXZlLCBTVEFUVVNfTEVBVkUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5vbk1vdGlvbkVuZCA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgX3RoaXMkc3RhdGUyID0gX3RoaXMuc3RhdGUsXG4gICAgICAgICAgICBzdGF0dXMgPSBfdGhpcyRzdGF0ZTIuc3RhdHVzLFxuICAgICAgICAgICAgc3RhdHVzQWN0aXZlID0gX3RoaXMkc3RhdGUyLnN0YXR1c0FjdGl2ZTtcbiAgICAgICAgdmFyIF90aGlzJHByb3BzMiA9IF90aGlzLnByb3BzLFxuICAgICAgICAgICAgb25BcHBlYXJFbmQgPSBfdGhpcyRwcm9wczIub25BcHBlYXJFbmQsXG4gICAgICAgICAgICBvbkVudGVyRW5kID0gX3RoaXMkcHJvcHMyLm9uRW50ZXJFbmQsXG4gICAgICAgICAgICBvbkxlYXZlRW5kID0gX3RoaXMkcHJvcHMyLm9uTGVhdmVFbmQ7XG5cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gU1RBVFVTX0FQUEVBUiAmJiBzdGF0dXNBY3RpdmUpIHtcbiAgICAgICAgICBfdGhpcy51cGRhdGVTdGF0dXMob25BcHBlYXJFbmQsIHsgc3RhdHVzOiBTVEFUVVNfTk9ORSB9LCBldmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSBTVEFUVVNfRU5URVIgJiYgc3RhdHVzQWN0aXZlKSB7XG4gICAgICAgICAgX3RoaXMudXBkYXRlU3RhdHVzKG9uRW50ZXJFbmQsIHsgc3RhdHVzOiBTVEFUVVNfTk9ORSB9LCBldmVudCk7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RhdHVzID09PSBTVEFUVVNfTEVBVkUgJiYgc3RhdHVzQWN0aXZlKSB7XG4gICAgICAgICAgX3RoaXMudXBkYXRlU3RhdHVzKG9uTGVhdmVFbmQsIHsgc3RhdHVzOiBTVEFUVVNfTk9ORSB9LCBldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIF90aGlzLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoJGVsZSkge1xuICAgICAgICBpZiAoISRlbGUpIHJldHVybjtcblxuICAgICAgICAkZWxlLmFkZEV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZE5hbWUsIF90aGlzLm9uTW90aW9uRW5kKTtcbiAgICAgICAgJGVsZS5hZGRFdmVudExpc3RlbmVyKGFuaW1hdGlvbkVuZE5hbWUsIF90aGlzLm9uTW90aW9uRW5kKTtcbiAgICAgIH07XG5cbiAgICAgIF90aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoJGVsZSkge1xuICAgICAgICBpZiAoISRlbGUpIHJldHVybjtcblxuICAgICAgICAkZWxlLnJlbW92ZUV2ZW50TGlzdGVuZXIodHJhbnNpdGlvbkVuZE5hbWUsIF90aGlzLm9uTW90aW9uRW5kKTtcbiAgICAgICAgJGVsZS5yZW1vdmVFdmVudExpc3RlbmVyKGFuaW1hdGlvbkVuZE5hbWUsIF90aGlzLm9uTW90aW9uRW5kKTtcbiAgICAgIH07XG5cbiAgICAgIF90aGlzLnVwZGF0ZVN0YXR1cyA9IGZ1bmN0aW9uIChzdHlsZUZ1bmMsIGFkZGl0aW9uYWxTdGF0ZSwgZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzdGF0dXNTdHlsZSA9IHN0eWxlRnVuYyA/IHN0eWxlRnVuYyhSZWFjdERPTS5maW5kRE9NTm9kZShfdGhpcyksIGV2ZW50KSA6IG51bGw7XG5cbiAgICAgICAgaWYgKHN0YXR1c1N0eWxlID09PSBmYWxzZSB8fCBfdGhpcy5fZGVzdHJveWVkKSByZXR1cm47XG5cbiAgICAgICAgdmFyIG5leHRTdGVwID0gdm9pZCAwO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICBuZXh0U3RlcCA9IGZ1bmN0aW9uIG5leHRTdGVwKCkge1xuICAgICAgICAgICAgX3RoaXMubmV4dEZyYW1lKGNhbGxiYWNrKTtcbiAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgX3RoaXMuc2V0U3RhdGUoX2V4dGVuZHMoe1xuICAgICAgICAgIHN0YXR1c1N0eWxlOiB0eXBlb2Ygc3RhdHVzU3R5bGUgPT09ICdvYmplY3QnID8gc3RhdHVzU3R5bGUgOiBudWxsLFxuICAgICAgICAgIG5ld1N0YXR1czogZmFsc2VcbiAgICAgICAgfSwgYWRkaXRpb25hbFN0YXRlKSwgbmV4dFN0ZXApOyAvLyBUcmlnZ2VyIGJlZm9yZSBuZXh0IGZyYW1lICYgYWZ0ZXIgYGNvbXBvbmVudERpZE1vdW50YFxuICAgICAgfTtcblxuICAgICAgX3RoaXMudXBkYXRlQWN0aXZlU3RhdHVzID0gZnVuY3Rpb24gKHN0eWxlRnVuYywgY3VycmVudFN0YXR1cykge1xuICAgICAgICAvLyBgc2V0U3RhdGVgIHVzZSBgcG9zdE1lc3NhZ2VgIHRvIHRyaWdnZXIgYXQgdGhlIGVuZCBvZiBmcmFtZS5cbiAgICAgICAgLy8gTGV0J3MgdXNlIHJlcXVlc3RBbmltYXRpb25GcmFtZSB0byB1cGRhdGUgbmV3IHN0YXRlIGluIG5leHQgZnJhbWUuXG4gICAgICAgIF90aGlzLm5leHRGcmFtZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgdmFyIHN0YXR1cyA9IF90aGlzLnN0YXRlLnN0YXR1cztcblxuICAgICAgICAgIGlmIChzdGF0dXMgIT09IGN1cnJlbnRTdGF0dXMpIHJldHVybjtcblxuICAgICAgICAgIF90aGlzLnVwZGF0ZVN0YXR1cyhzdHlsZUZ1bmMsIHsgc3RhdHVzQWN0aXZlOiB0cnVlIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH07XG5cbiAgICAgIF90aGlzLm5leHRGcmFtZSA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gICAgICAgIF90aGlzLmNhbmNlbE5leHRGcmFtZSgpO1xuICAgICAgICBfdGhpcy5yYWYgPSByYWYoZnVuYyk7XG4gICAgICB9O1xuXG4gICAgICBfdGhpcy5jYW5jZWxOZXh0RnJhbWUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChfdGhpcy5yYWYpIHtcbiAgICAgICAgICByYWYuY2FuY2VsKF90aGlzLnJhZik7XG4gICAgICAgICAgX3RoaXMucmFmID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICAgIHN0YXR1czogU1RBVFVTX05PTkUsXG4gICAgICAgIHN0YXR1c0FjdGl2ZTogZmFsc2UsXG4gICAgICAgIG5ld1N0YXR1czogZmFsc2UsXG4gICAgICAgIHN0YXR1c1N0eWxlOiBudWxsXG4gICAgICB9O1xuICAgICAgX3RoaXMuJGVsZSA9IG51bGw7XG4gICAgICBfdGhpcy5yYWYgPSBudWxsO1xuICAgICAgcmV0dXJuIF90aGlzO1xuICAgIH1cblxuICAgIF9jcmVhdGVDbGFzcyhDU1NNb3Rpb24sIFt7XG4gICAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIHRoaXMub25Eb21VcGRhdGUoKTtcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBrZXk6ICdjb21wb25lbnREaWRVcGRhdGUnLFxuICAgICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgICAgdGhpcy5vbkRvbVVwZGF0ZSgpO1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGtleTogJ2NvbXBvbmVudFdpbGxVbm1vdW50JyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICAgICAgdGhpcy5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVyKHRoaXMuJGVsZSk7XG4gICAgICAgIHRoaXMuY2FuY2VsTmV4dEZyYW1lKCk7XG4gICAgICB9XG4gICAgfSwge1xuICAgICAga2V5OiAncmVuZGVyJyxcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgIHZhciBfY2xhc3NOYW1lcztcblxuICAgICAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgIHN0YXR1cyA9IF9zdGF0ZS5zdGF0dXMsXG4gICAgICAgICAgICBzdGF0dXNBY3RpdmUgPSBfc3RhdGUuc3RhdHVzQWN0aXZlLFxuICAgICAgICAgICAgc3RhdHVzU3R5bGUgPSBfc3RhdGUuc3RhdHVzU3R5bGU7XG4gICAgICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgICAgICBtb3Rpb25OYW1lID0gX3Byb3BzLm1vdGlvbk5hbWUsXG4gICAgICAgICAgICB2aXNpYmxlID0gX3Byb3BzLnZpc2libGUsXG4gICAgICAgICAgICByZW1vdmVPbkxlYXZlID0gX3Byb3BzLnJlbW92ZU9uTGVhdmU7XG5cblxuICAgICAgICBpZiAoIWNoaWxkcmVuKSByZXR1cm4gbnVsbDtcblxuICAgICAgICBpZiAoc3RhdHVzID09PSBTVEFUVVNfTk9ORSB8fCAhaXNTdXBwb3J0VHJhbnNpdGlvbih0aGlzLnByb3BzKSkge1xuICAgICAgICAgIHJldHVybiB2aXNpYmxlIHx8ICFyZW1vdmVPbkxlYXZlID8gY2hpbGRyZW4oe30pIDogbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjaGlsZHJlbih7XG4gICAgICAgICAgY2xhc3NOYW1lOiBjbGFzc05hbWVzKChfY2xhc3NOYW1lcyA9IHt9LCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIGdldFRyYW5zaXRpb25OYW1lKG1vdGlvbk5hbWUsIHN0YXR1cyksIHN0YXR1cyAhPT0gU1RBVFVTX05PTkUpLCBfZGVmaW5lUHJvcGVydHkoX2NsYXNzTmFtZXMsIGdldFRyYW5zaXRpb25OYW1lKG1vdGlvbk5hbWUsIHN0YXR1cyArICctYWN0aXZlJyksIHN0YXR1cyAhPT0gU1RBVFVTX05PTkUgJiYgc3RhdHVzQWN0aXZlKSwgX2RlZmluZVByb3BlcnR5KF9jbGFzc05hbWVzLCBtb3Rpb25OYW1lLCB0eXBlb2YgbW90aW9uTmFtZSA9PT0gJ3N0cmluZycpLCBfY2xhc3NOYW1lcykpLFxuICAgICAgICAgIHN0eWxlOiBzdGF0dXNTdHlsZVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XSwgW3tcbiAgICAgIGtleTogJ2dldERlcml2ZWRTdGF0ZUZyb21Qcm9wcycsXG4gICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBfcmVmKSB7XG4gICAgICAgIHZhciBwcmV2UHJvcHMgPSBfcmVmLnByZXZQcm9wcztcblxuICAgICAgICBpZiAoIWlzU3VwcG9ydFRyYW5zaXRpb24ocHJvcHMpKSByZXR1cm4ge307XG5cbiAgICAgICAgdmFyIHZpc2libGUgPSBwcm9wcy52aXNpYmxlLFxuICAgICAgICAgICAgbW90aW9uQXBwZWFyID0gcHJvcHMubW90aW9uQXBwZWFyLFxuICAgICAgICAgICAgbW90aW9uRW50ZXIgPSBwcm9wcy5tb3Rpb25FbnRlcixcbiAgICAgICAgICAgIG1vdGlvbkxlYXZlID0gcHJvcHMubW90aW9uTGVhdmUsXG4gICAgICAgICAgICBtb3Rpb25MZWF2ZUltbWVkaWF0ZWx5ID0gcHJvcHMubW90aW9uTGVhdmVJbW1lZGlhdGVseTtcblxuICAgICAgICB2YXIgbmV3U3RhdGUgPSB7XG4gICAgICAgICAgcHJldlByb3BzOiBwcm9wc1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEFwcGVhclxuICAgICAgICBpZiAoIXByZXZQcm9wcyAmJiB2aXNpYmxlICYmIG1vdGlvbkFwcGVhcikge1xuICAgICAgICAgIG5ld1N0YXRlLnN0YXR1cyA9IFNUQVRVU19BUFBFQVI7XG4gICAgICAgICAgbmV3U3RhdGUuc3RhdHVzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgbmV3U3RhdGUubmV3U3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEVudGVyXG4gICAgICAgIGlmIChwcmV2UHJvcHMgJiYgIXByZXZQcm9wcy52aXNpYmxlICYmIHZpc2libGUgJiYgbW90aW9uRW50ZXIpIHtcbiAgICAgICAgICBuZXdTdGF0ZS5zdGF0dXMgPSBTVEFUVVNfRU5URVI7XG4gICAgICAgICAgbmV3U3RhdGUuc3RhdHVzQWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgbmV3U3RhdGUubmV3U3RhdHVzID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIExlYXZlXG4gICAgICAgIGlmIChwcmV2UHJvcHMgJiYgcHJldlByb3BzLnZpc2libGUgJiYgIXZpc2libGUgJiYgbW90aW9uTGVhdmUgfHwgIXByZXZQcm9wcyAmJiBtb3Rpb25MZWF2ZUltbWVkaWF0ZWx5ICYmICF2aXNpYmxlICYmIG1vdGlvbkxlYXZlKSB7XG4gICAgICAgICAgbmV3U3RhdGUuc3RhdHVzID0gU1RBVFVTX0xFQVZFO1xuICAgICAgICAgIG5ld1N0YXRlLnN0YXR1c0FjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgIG5ld1N0YXRlLm5ld1N0YXR1cyA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICB9XG4gICAgfV0pO1xuXG4gICAgcmV0dXJuIENTU01vdGlvbjtcbiAgfShSZWFjdC5Db21wb25lbnQpO1xuXG4gIENTU01vdGlvbi5wcm9wVHlwZXMgPSB7XG4gICAgdmlzaWJsZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgY2hpbGRyZW46IFByb3BUeXBlcy5mdW5jLFxuICAgIG1vdGlvbk5hbWU6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5zdHJpbmcsIFByb3BUeXBlcy5vYmplY3RdKSxcbiAgICBtb3Rpb25BcHBlYXI6IFByb3BUeXBlcy5ib29sLFxuICAgIG1vdGlvbkVudGVyOiBQcm9wVHlwZXMuYm9vbCxcbiAgICBtb3Rpb25MZWF2ZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgbW90aW9uTGVhdmVJbW1lZGlhdGVseTogUHJvcFR5cGVzLmJvb2wsIC8vIFRyaWdnZXIgbGVhdmUgbW90aW9uIGltbWVkaWF0ZWx5XG4gICAgcmVtb3ZlT25MZWF2ZTogUHJvcFR5cGVzLmJvb2wsXG4gICAgb25BcHBlYXJTdGFydDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25BcHBlYXJBY3RpdmU6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uQXBwZWFyRW5kOiBQcm9wVHlwZXMuZnVuYyxcbiAgICBvbkVudGVyU3RhcnQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uRW50ZXJBY3RpdmU6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uRW50ZXJFbmQ6IFByb3BUeXBlcy5mdW5jLFxuICAgIG9uTGVhdmVTdGFydDogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25MZWF2ZUFjdGl2ZTogUHJvcFR5cGVzLmZ1bmMsXG4gICAgb25MZWF2ZUVuZDogUHJvcFR5cGVzLmZ1bmNcbiAgfTtcbiAgQ1NTTW90aW9uLmRlZmF1bHRQcm9wcyA9IHtcbiAgICB2aXNpYmxlOiB0cnVlLFxuICAgIG1vdGlvbkVudGVyOiB0cnVlLFxuICAgIG1vdGlvbkFwcGVhcjogdHJ1ZSxcbiAgICBtb3Rpb25MZWF2ZTogdHJ1ZSxcbiAgICByZW1vdmVPbkxlYXZlOiB0cnVlXG4gIH07XG5cblxuICBwb2x5ZmlsbChDU1NNb3Rpb24pO1xuXG4gIHJldHVybiBDU1NNb3Rpb247XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdlbkNTU01vdGlvbihzdXBwb3J0VHJhbnNpdGlvbik7IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfZGVmaW5lUHJvcGVydHkgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2RlZmluZVByb3BlcnR5JztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NyZWF0ZUNsYXNzJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG5pbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IHRvQXJyYXlDaGlsZHJlbiwgbWVyZ2VDaGlsZHJlbiwgZmluZFNob3duQ2hpbGRJbkNoaWxkcmVuQnlLZXksIGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleSwgaXNTYW1lQ2hpbGRyZW4gfSBmcm9tICcuL0NoaWxkcmVuVXRpbHMnO1xuaW1wb3J0IEFuaW1hdGVDaGlsZCBmcm9tICcuL0FuaW1hdGVDaGlsZCc7XG5pbXBvcnQgQ1NTTW90aW9uIGZyb20gJy4vQ1NTTW90aW9uJztcbmltcG9ydCBhbmltVXRpbCBmcm9tICcuL3V0aWwvYW5pbWF0ZSc7XG5cbnZhciBkZWZhdWx0S2V5ID0gJ3JjX2FuaW1hdGVfJyArIERhdGUubm93KCk7XG5cbmZ1bmN0aW9uIGdldENoaWxkcmVuRnJvbVByb3BzKHByb3BzKSB7XG4gIHZhciBjaGlsZHJlbiA9IHByb3BzLmNoaWxkcmVuO1xuICBpZiAoUmVhY3QuaXNWYWxpZEVsZW1lbnQoY2hpbGRyZW4pKSB7XG4gICAgaWYgKCFjaGlsZHJlbi5rZXkpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHtcbiAgICAgICAga2V5OiBkZWZhdWx0S2V5XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNoaWxkcmVuO1xufVxuXG5mdW5jdGlvbiBub29wKCkge31cblxudmFyIEFuaW1hdGUgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoQW5pbWF0ZSwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQW5pbWF0ZShwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBBbmltYXRlKTtcblxuICAgIHZhciBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIChBbmltYXRlLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2YoQW5pbWF0ZSkpLmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF9pbml0aWFsaXNlUHJvcHMuY2FsbChfdGhpcyk7XG5cbiAgICBfdGhpcy5jdXJyZW50bHlBbmltYXRpbmdLZXlzID0ge307XG4gICAgX3RoaXMua2V5c1RvRW50ZXIgPSBbXTtcbiAgICBfdGhpcy5rZXlzVG9MZWF2ZSA9IFtdO1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBjaGlsZHJlbjogdG9BcnJheUNoaWxkcmVuKGdldENoaWxkcmVuRnJvbVByb3BzKHByb3BzKSlcbiAgICB9O1xuXG4gICAgX3RoaXMuY2hpbGRyZW5SZWZzID0ge307XG4gICAgcmV0dXJuIF90aGlzO1xuICB9IC8vIGVzbGludC1kaXNhYmxlLWxpbmVcblxuICBfY3JlYXRlQ2xhc3MoQW5pbWF0ZSwgW3tcbiAgICBrZXk6ICdjb21wb25lbnREaWRNb3VudCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZE1vdW50KCkge1xuICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICAgIHZhciBzaG93UHJvcCA9IHRoaXMucHJvcHMuc2hvd1Byb3A7XG4gICAgICB2YXIgY2hpbGRyZW4gPSB0aGlzLnN0YXRlLmNoaWxkcmVuO1xuICAgICAgaWYgKHNob3dQcm9wKSB7XG4gICAgICAgIGNoaWxkcmVuID0gY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgIHJldHVybiAhIWNoaWxkLnByb3BzW3Nob3dQcm9wXTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICBfdGhpczIucGVyZm9ybUFwcGVhcihjaGlsZC5rZXkpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzJyxcbiAgICB2YWx1ZTogZnVuY3Rpb24gY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyhuZXh0UHJvcHMpIHtcbiAgICAgIHZhciBfdGhpczMgPSB0aGlzO1xuXG4gICAgICB0aGlzLm5leHRQcm9wcyA9IG5leHRQcm9wcztcbiAgICAgIHZhciBuZXh0Q2hpbGRyZW4gPSB0b0FycmF5Q2hpbGRyZW4oZ2V0Q2hpbGRyZW5Gcm9tUHJvcHMobmV4dFByb3BzKSk7XG4gICAgICB2YXIgcHJvcHMgPSB0aGlzLnByb3BzO1xuICAgICAgLy8gZXhjbHVzaXZlIG5lZWRzIGltbWVkaWF0ZSByZXNwb25zZVxuICAgICAgaWYgKHByb3BzLmV4Y2x1c2l2ZSkge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzLmN1cnJlbnRseUFuaW1hdGluZ0tleXMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgIF90aGlzMy5zdG9wKGtleSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdmFyIHNob3dQcm9wID0gcHJvcHMuc2hvd1Byb3A7XG4gICAgICB2YXIgY3VycmVudGx5QW5pbWF0aW5nS2V5cyA9IHRoaXMuY3VycmVudGx5QW5pbWF0aW5nS2V5cztcbiAgICAgIC8vIGxhc3QgcHJvcHMgY2hpbGRyZW4gaWYgZXhjbHVzaXZlXG4gICAgICB2YXIgY3VycmVudENoaWxkcmVuID0gcHJvcHMuZXhjbHVzaXZlID8gdG9BcnJheUNoaWxkcmVuKGdldENoaWxkcmVuRnJvbVByb3BzKHByb3BzKSkgOiB0aGlzLnN0YXRlLmNoaWxkcmVuO1xuICAgICAgLy8gaW4gY2FzZSBkZXN0cm95IGluIHNob3dQcm9wIG1vZGVcbiAgICAgIHZhciBuZXdDaGlsZHJlbiA9IFtdO1xuICAgICAgaWYgKHNob3dQcm9wKSB7XG4gICAgICAgIGN1cnJlbnRDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjdXJyZW50Q2hpbGQpIHtcbiAgICAgICAgICB2YXIgbmV4dENoaWxkID0gY3VycmVudENoaWxkICYmIGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleShuZXh0Q2hpbGRyZW4sIGN1cnJlbnRDaGlsZC5rZXkpO1xuICAgICAgICAgIHZhciBuZXdDaGlsZCA9IHZvaWQgMDtcbiAgICAgICAgICBpZiAoKCFuZXh0Q2hpbGQgfHwgIW5leHRDaGlsZC5wcm9wc1tzaG93UHJvcF0pICYmIGN1cnJlbnRDaGlsZC5wcm9wc1tzaG93UHJvcF0pIHtcbiAgICAgICAgICAgIG5ld0NoaWxkID0gUmVhY3QuY2xvbmVFbGVtZW50KG5leHRDaGlsZCB8fCBjdXJyZW50Q2hpbGQsIF9kZWZpbmVQcm9wZXJ0eSh7fSwgc2hvd1Byb3AsIHRydWUpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbmV3Q2hpbGQgPSBuZXh0Q2hpbGQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChuZXdDaGlsZCkge1xuICAgICAgICAgICAgbmV3Q2hpbGRyZW4ucHVzaChuZXdDaGlsZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV4dENoaWxkcmVuLmZvckVhY2goZnVuY3Rpb24gKG5leHRDaGlsZCkge1xuICAgICAgICAgIGlmICghbmV4dENoaWxkIHx8ICFmaW5kQ2hpbGRJbkNoaWxkcmVuQnlLZXkoY3VycmVudENoaWxkcmVuLCBuZXh0Q2hpbGQua2V5KSkge1xuICAgICAgICAgICAgbmV3Q2hpbGRyZW4ucHVzaChuZXh0Q2hpbGQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuZXdDaGlsZHJlbiA9IG1lcmdlQ2hpbGRyZW4oY3VycmVudENoaWxkcmVuLCBuZXh0Q2hpbGRyZW4pO1xuICAgICAgfVxuXG4gICAgICAvLyBuZWVkIHJlbmRlciB0byBhdm9pZCB1cGRhdGVcbiAgICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgICBjaGlsZHJlbjogbmV3Q2hpbGRyZW5cbiAgICAgIH0pO1xuXG4gICAgICBuZXh0Q2hpbGRyZW4uZm9yRWFjaChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgdmFyIGtleSA9IGNoaWxkICYmIGNoaWxkLmtleTtcbiAgICAgICAgaWYgKGNoaWxkICYmIGN1cnJlbnRseUFuaW1hdGluZ0tleXNba2V5XSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaGFzUHJldiA9IGNoaWxkICYmIGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleShjdXJyZW50Q2hpbGRyZW4sIGtleSk7XG4gICAgICAgIGlmIChzaG93UHJvcCkge1xuICAgICAgICAgIHZhciBzaG93SW5OZXh0ID0gY2hpbGQucHJvcHNbc2hvd1Byb3BdO1xuICAgICAgICAgIGlmIChoYXNQcmV2KSB7XG4gICAgICAgICAgICB2YXIgc2hvd0luTm93ID0gZmluZFNob3duQ2hpbGRJbkNoaWxkcmVuQnlLZXkoY3VycmVudENoaWxkcmVuLCBrZXksIHNob3dQcm9wKTtcbiAgICAgICAgICAgIGlmICghc2hvd0luTm93ICYmIHNob3dJbk5leHQpIHtcbiAgICAgICAgICAgICAgX3RoaXMzLmtleXNUb0VudGVyLnB1c2goa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHNob3dJbk5leHQpIHtcbiAgICAgICAgICAgIF90aGlzMy5rZXlzVG9FbnRlci5wdXNoKGtleSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFoYXNQcmV2KSB7XG4gICAgICAgICAgX3RoaXMzLmtleXNUb0VudGVyLnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIGN1cnJlbnRDaGlsZHJlbi5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICB2YXIga2V5ID0gY2hpbGQgJiYgY2hpbGQua2V5O1xuICAgICAgICBpZiAoY2hpbGQgJiYgY3VycmVudGx5QW5pbWF0aW5nS2V5c1trZXldKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBoYXNOZXh0ID0gY2hpbGQgJiYgZmluZENoaWxkSW5DaGlsZHJlbkJ5S2V5KG5leHRDaGlsZHJlbiwga2V5KTtcbiAgICAgICAgaWYgKHNob3dQcm9wKSB7XG4gICAgICAgICAgdmFyIHNob3dJbk5vdyA9IGNoaWxkLnByb3BzW3Nob3dQcm9wXTtcbiAgICAgICAgICBpZiAoaGFzTmV4dCkge1xuICAgICAgICAgICAgdmFyIHNob3dJbk5leHQgPSBmaW5kU2hvd25DaGlsZEluQ2hpbGRyZW5CeUtleShuZXh0Q2hpbGRyZW4sIGtleSwgc2hvd1Byb3ApO1xuICAgICAgICAgICAgaWYgKCFzaG93SW5OZXh0ICYmIHNob3dJbk5vdykge1xuICAgICAgICAgICAgICBfdGhpczMua2V5c1RvTGVhdmUucHVzaChrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSBpZiAoc2hvd0luTm93KSB7XG4gICAgICAgICAgICBfdGhpczMua2V5c1RvTGVhdmUucHVzaChrZXkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmICghaGFzTmV4dCkge1xuICAgICAgICAgIF90aGlzMy5rZXlzVG9MZWF2ZS5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSwge1xuICAgIGtleTogJ2NvbXBvbmVudERpZFVwZGF0ZScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICAgIHZhciBrZXlzVG9FbnRlciA9IHRoaXMua2V5c1RvRW50ZXI7XG4gICAgICB0aGlzLmtleXNUb0VudGVyID0gW107XG4gICAgICBrZXlzVG9FbnRlci5mb3JFYWNoKHRoaXMucGVyZm9ybUVudGVyKTtcbiAgICAgIHZhciBrZXlzVG9MZWF2ZSA9IHRoaXMua2V5c1RvTGVhdmU7XG4gICAgICB0aGlzLmtleXNUb0xlYXZlID0gW107XG4gICAgICBrZXlzVG9MZWF2ZS5mb3JFYWNoKHRoaXMucGVyZm9ybUxlYXZlKTtcbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdpc1ZhbGlkQ2hpbGRCeUtleScsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIGlzVmFsaWRDaGlsZEJ5S2V5KGN1cnJlbnRDaGlsZHJlbiwga2V5KSB7XG4gICAgICB2YXIgc2hvd1Byb3AgPSB0aGlzLnByb3BzLnNob3dQcm9wO1xuICAgICAgaWYgKHNob3dQcm9wKSB7XG4gICAgICAgIHJldHVybiBmaW5kU2hvd25DaGlsZEluQ2hpbGRyZW5CeUtleShjdXJyZW50Q2hpbGRyZW4sIGtleSwgc2hvd1Byb3ApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZpbmRDaGlsZEluQ2hpbGRyZW5CeUtleShjdXJyZW50Q2hpbGRyZW4sIGtleSk7XG4gICAgfVxuICB9LCB7XG4gICAga2V5OiAnc3RvcCcsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHN0b3Aoa2V5KSB7XG4gICAgICBkZWxldGUgdGhpcy5jdXJyZW50bHlBbmltYXRpbmdLZXlzW2tleV07XG4gICAgICB2YXIgY29tcG9uZW50ID0gdGhpcy5jaGlsZHJlblJlZnNba2V5XTtcbiAgICAgIGlmIChjb21wb25lbnQpIHtcbiAgICAgICAgY29tcG9uZW50LnN0b3AoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0sIHtcbiAgICBrZXk6ICdyZW5kZXInLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICB2YXIgX3RoaXM0ID0gdGhpcztcblxuICAgICAgdmFyIHByb3BzID0gdGhpcy5wcm9wcztcbiAgICAgIHRoaXMubmV4dFByb3BzID0gcHJvcHM7XG4gICAgICB2YXIgc3RhdGVDaGlsZHJlbiA9IHRoaXMuc3RhdGUuY2hpbGRyZW47XG4gICAgICB2YXIgY2hpbGRyZW4gPSBudWxsO1xuICAgICAgaWYgKHN0YXRlQ2hpbGRyZW4pIHtcbiAgICAgICAgY2hpbGRyZW4gPSBzdGF0ZUNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgICBpZiAoY2hpbGQgPT09IG51bGwgfHwgY2hpbGQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGNoaWxkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWNoaWxkLmtleSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdtdXN0IHNldCBrZXkgZm9yIDxyYy1hbmltYXRlPiBjaGlsZHJlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAgIEFuaW1hdGVDaGlsZCxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAga2V5OiBjaGlsZC5rZXksXG4gICAgICAgICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKG5vZGUpIHtcbiAgICAgICAgICAgICAgICBfdGhpczQuY2hpbGRyZW5SZWZzW2NoaWxkLmtleV0gPSBub2RlO1xuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBhbmltYXRpb246IHByb3BzLmFuaW1hdGlvbixcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbk5hbWU6IHByb3BzLnRyYW5zaXRpb25OYW1lLFxuICAgICAgICAgICAgICB0cmFuc2l0aW9uRW50ZXI6IHByb3BzLnRyYW5zaXRpb25FbnRlcixcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbkFwcGVhcjogcHJvcHMudHJhbnNpdGlvbkFwcGVhcixcbiAgICAgICAgICAgICAgdHJhbnNpdGlvbkxlYXZlOiBwcm9wcy50cmFuc2l0aW9uTGVhdmVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjaGlsZFxuICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdmFyIENvbXBvbmVudCA9IHByb3BzLmNvbXBvbmVudDtcbiAgICAgIGlmIChDb21wb25lbnQpIHtcbiAgICAgICAgdmFyIHBhc3NlZFByb3BzID0gcHJvcHM7XG4gICAgICAgIGlmICh0eXBlb2YgQ29tcG9uZW50ID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHBhc3NlZFByb3BzID0gX2V4dGVuZHMoe1xuICAgICAgICAgICAgY2xhc3NOYW1lOiBwcm9wcy5jbGFzc05hbWUsXG4gICAgICAgICAgICBzdHlsZTogcHJvcHMuc3R5bGVcbiAgICAgICAgICB9LCBwcm9wcy5jb21wb25lbnRQcm9wcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgQ29tcG9uZW50LFxuICAgICAgICAgIHBhc3NlZFByb3BzLFxuICAgICAgICAgIGNoaWxkcmVuXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hpbGRyZW5bMF0gfHwgbnVsbDtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gQW5pbWF0ZTtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuQW5pbWF0ZS5pc0FuaW1hdGUgPSB0cnVlO1xuQW5pbWF0ZS5DU1NNb3Rpb24gPSBDU1NNb3Rpb247XG5BbmltYXRlLnByb3BUeXBlcyA9IHtcbiAgY29tcG9uZW50OiBQcm9wVHlwZXMuYW55LFxuICBjb21wb25lbnRQcm9wczogUHJvcFR5cGVzLm9iamVjdCxcbiAgYW5pbWF0aW9uOiBQcm9wVHlwZXMub2JqZWN0LFxuICB0cmFuc2l0aW9uTmFtZTogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLnN0cmluZywgUHJvcFR5cGVzLm9iamVjdF0pLFxuICB0cmFuc2l0aW9uRW50ZXI6IFByb3BUeXBlcy5ib29sLFxuICB0cmFuc2l0aW9uQXBwZWFyOiBQcm9wVHlwZXMuYm9vbCxcbiAgZXhjbHVzaXZlOiBQcm9wVHlwZXMuYm9vbCxcbiAgdHJhbnNpdGlvbkxlYXZlOiBQcm9wVHlwZXMuYm9vbCxcbiAgb25FbmQ6IFByb3BUeXBlcy5mdW5jLFxuICBvbkVudGVyOiBQcm9wVHlwZXMuZnVuYyxcbiAgb25MZWF2ZTogUHJvcFR5cGVzLmZ1bmMsXG4gIG9uQXBwZWFyOiBQcm9wVHlwZXMuZnVuYyxcbiAgc2hvd1Byb3A6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMubm9kZVxufTtcbkFuaW1hdGUuZGVmYXVsdFByb3BzID0ge1xuICBhbmltYXRpb246IHt9LFxuICBjb21wb25lbnQ6ICdzcGFuJyxcbiAgY29tcG9uZW50UHJvcHM6IHt9LFxuICB0cmFuc2l0aW9uRW50ZXI6IHRydWUsXG4gIHRyYW5zaXRpb25MZWF2ZTogdHJ1ZSxcbiAgdHJhbnNpdGlvbkFwcGVhcjogZmFsc2UsXG4gIG9uRW5kOiBub29wLFxuICBvbkVudGVyOiBub29wLFxuICBvbkxlYXZlOiBub29wLFxuICBvbkFwcGVhcjogbm9vcFxufTtcblxudmFyIF9pbml0aWFsaXNlUHJvcHMgPSBmdW5jdGlvbiBfaW5pdGlhbGlzZVByb3BzKCkge1xuICB2YXIgX3RoaXM1ID0gdGhpcztcblxuICB0aGlzLnBlcmZvcm1FbnRlciA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAvLyBtYXkgYWxyZWFkeSByZW1vdmUgYnkgZXhjbHVzaXZlXG4gICAgaWYgKF90aGlzNS5jaGlsZHJlblJlZnNba2V5XSkge1xuICAgICAgX3RoaXM1LmN1cnJlbnRseUFuaW1hdGluZ0tleXNba2V5XSA9IHRydWU7XG4gICAgICBfdGhpczUuY2hpbGRyZW5SZWZzW2tleV0uY29tcG9uZW50V2lsbEVudGVyKF90aGlzNS5oYW5kbGVEb25lQWRkaW5nLmJpbmQoX3RoaXM1LCBrZXksICdlbnRlcicpKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5wZXJmb3JtQXBwZWFyID0gZnVuY3Rpb24gKGtleSkge1xuICAgIGlmIChfdGhpczUuY2hpbGRyZW5SZWZzW2tleV0pIHtcbiAgICAgIF90aGlzNS5jdXJyZW50bHlBbmltYXRpbmdLZXlzW2tleV0gPSB0cnVlO1xuICAgICAgX3RoaXM1LmNoaWxkcmVuUmVmc1trZXldLmNvbXBvbmVudFdpbGxBcHBlYXIoX3RoaXM1LmhhbmRsZURvbmVBZGRpbmcuYmluZChfdGhpczUsIGtleSwgJ2FwcGVhcicpKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5oYW5kbGVEb25lQWRkaW5nID0gZnVuY3Rpb24gKGtleSwgdHlwZSkge1xuICAgIHZhciBwcm9wcyA9IF90aGlzNS5wcm9wcztcbiAgICBkZWxldGUgX3RoaXM1LmN1cnJlbnRseUFuaW1hdGluZ0tleXNba2V5XTtcbiAgICAvLyBpZiB1cGRhdGUgb24gZXhjbHVzaXZlIG1vZGUsIHNraXAgY2hlY2tcbiAgICBpZiAocHJvcHMuZXhjbHVzaXZlICYmIHByb3BzICE9PSBfdGhpczUubmV4dFByb3BzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBjdXJyZW50Q2hpbGRyZW4gPSB0b0FycmF5Q2hpbGRyZW4oZ2V0Q2hpbGRyZW5Gcm9tUHJvcHMocHJvcHMpKTtcbiAgICBpZiAoIV90aGlzNS5pc1ZhbGlkQ2hpbGRCeUtleShjdXJyZW50Q2hpbGRyZW4sIGtleSkpIHtcbiAgICAgIC8vIGV4Y2x1c2l2ZSB3aWxsIG5vdCBuZWVkIHRoaXNcbiAgICAgIF90aGlzNS5wZXJmb3JtTGVhdmUoa2V5KTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT09ICdhcHBlYXInKSB7XG4gICAgICBpZiAoYW5pbVV0aWwuYWxsb3dBcHBlYXJDYWxsYmFjayhwcm9wcykpIHtcbiAgICAgICAgcHJvcHMub25BcHBlYXIoa2V5KTtcbiAgICAgICAgcHJvcHMub25FbmQoa2V5LCB0cnVlKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFuaW1VdGlsLmFsbG93RW50ZXJDYWxsYmFjayhwcm9wcykpIHtcbiAgICAgIHByb3BzLm9uRW50ZXIoa2V5KTtcbiAgICAgIHByb3BzLm9uRW5kKGtleSwgdHJ1ZSk7XG4gICAgfVxuICB9O1xuXG4gIHRoaXMucGVyZm9ybUxlYXZlID0gZnVuY3Rpb24gKGtleSkge1xuICAgIC8vIG1heSBhbHJlYWR5IHJlbW92ZSBieSBleGNsdXNpdmVcbiAgICBpZiAoX3RoaXM1LmNoaWxkcmVuUmVmc1trZXldKSB7XG4gICAgICBfdGhpczUuY3VycmVudGx5QW5pbWF0aW5nS2V5c1trZXldID0gdHJ1ZTtcbiAgICAgIF90aGlzNS5jaGlsZHJlblJlZnNba2V5XS5jb21wb25lbnRXaWxsTGVhdmUoX3RoaXM1LmhhbmRsZURvbmVMZWF2aW5nLmJpbmQoX3RoaXM1LCBrZXkpKTtcbiAgICB9XG4gIH07XG5cbiAgdGhpcy5oYW5kbGVEb25lTGVhdmluZyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgcHJvcHMgPSBfdGhpczUucHJvcHM7XG4gICAgZGVsZXRlIF90aGlzNS5jdXJyZW50bHlBbmltYXRpbmdLZXlzW2tleV07XG4gICAgLy8gaWYgdXBkYXRlIG9uIGV4Y2x1c2l2ZSBtb2RlLCBza2lwIGNoZWNrXG4gICAgaWYgKHByb3BzLmV4Y2x1c2l2ZSAmJiBwcm9wcyAhPT0gX3RoaXM1Lm5leHRQcm9wcykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgY3VycmVudENoaWxkcmVuID0gdG9BcnJheUNoaWxkcmVuKGdldENoaWxkcmVuRnJvbVByb3BzKHByb3BzKSk7XG4gICAgLy8gaW4gY2FzZSBzdGF0ZSBjaGFuZ2UgaXMgdG9vIGZhc3RcbiAgICBpZiAoX3RoaXM1LmlzVmFsaWRDaGlsZEJ5S2V5KGN1cnJlbnRDaGlsZHJlbiwga2V5KSkge1xuICAgICAgX3RoaXM1LnBlcmZvcm1FbnRlcihrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgZW5kID0gZnVuY3Rpb24gZW5kKCkge1xuICAgICAgICBpZiAoYW5pbVV0aWwuYWxsb3dMZWF2ZUNhbGxiYWNrKHByb3BzKSkge1xuICAgICAgICAgIHByb3BzLm9uTGVhdmUoa2V5KTtcbiAgICAgICAgICBwcm9wcy5vbkVuZChrZXksIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIGlmICghaXNTYW1lQ2hpbGRyZW4oX3RoaXM1LnN0YXRlLmNoaWxkcmVuLCBjdXJyZW50Q2hpbGRyZW4sIHByb3BzLnNob3dQcm9wKSkge1xuICAgICAgICBfdGhpczUuc2V0U3RhdGUoe1xuICAgICAgICAgIGNoaWxkcmVuOiBjdXJyZW50Q2hpbGRyZW5cbiAgICAgICAgfSwgZW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFuaW1hdGU7IiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHJlcXVpcmUoJy4vZG9tLXNjcm9sbC1pbnRvLXZpZXcnKTsiLCJ2YXIgbm93ID0gcmVxdWlyZSgncGVyZm9ybWFuY2Utbm93JylcbiAgLCByb290ID0gdHlwZW9mIHdpbmRvdyA9PT0gJ3VuZGVmaW5lZCcgPyBnbG9iYWwgOiB3aW5kb3dcbiAgLCB2ZW5kb3JzID0gWydtb3onLCAnd2Via2l0J11cbiAgLCBzdWZmaXggPSAnQW5pbWF0aW9uRnJhbWUnXG4gICwgcmFmID0gcm9vdFsncmVxdWVzdCcgKyBzdWZmaXhdXG4gICwgY2FmID0gcm9vdFsnY2FuY2VsJyArIHN1ZmZpeF0gfHwgcm9vdFsnY2FuY2VsUmVxdWVzdCcgKyBzdWZmaXhdXG5cbmZvcih2YXIgaSA9IDA7ICFyYWYgJiYgaSA8IHZlbmRvcnMubGVuZ3RoOyBpKyspIHtcbiAgcmFmID0gcm9vdFt2ZW5kb3JzW2ldICsgJ1JlcXVlc3QnICsgc3VmZml4XVxuICBjYWYgPSByb290W3ZlbmRvcnNbaV0gKyAnQ2FuY2VsJyArIHN1ZmZpeF1cbiAgICAgIHx8IHJvb3RbdmVuZG9yc1tpXSArICdDYW5jZWxSZXF1ZXN0JyArIHN1ZmZpeF1cbn1cblxuLy8gU29tZSB2ZXJzaW9ucyBvZiBGRiBoYXZlIHJBRiBidXQgbm90IGNBRlxuaWYoIXJhZiB8fCAhY2FmKSB7XG4gIHZhciBsYXN0ID0gMFxuICAgICwgaWQgPSAwXG4gICAgLCBxdWV1ZSA9IFtdXG4gICAgLCBmcmFtZUR1cmF0aW9uID0gMTAwMCAvIDYwXG5cbiAgcmFmID0gZnVuY3Rpb24oY2FsbGJhY2spIHtcbiAgICBpZihxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHZhciBfbm93ID0gbm93KClcbiAgICAgICAgLCBuZXh0ID0gTWF0aC5tYXgoMCwgZnJhbWVEdXJhdGlvbiAtIChfbm93IC0gbGFzdCkpXG4gICAgICBsYXN0ID0gbmV4dCArIF9ub3dcbiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBjcCA9IHF1ZXVlLnNsaWNlKDApXG4gICAgICAgIC8vIENsZWFyIHF1ZXVlIGhlcmUgdG8gcHJldmVudFxuICAgICAgICAvLyBjYWxsYmFja3MgZnJvbSBhcHBlbmRpbmcgbGlzdGVuZXJzXG4gICAgICAgIC8vIHRvIHRoZSBjdXJyZW50IGZyYW1lJ3MgcXVldWVcbiAgICAgICAgcXVldWUubGVuZ3RoID0gMFxuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY3AubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZighY3BbaV0uY2FuY2VsbGVkKSB7XG4gICAgICAgICAgICB0cnl7XG4gICAgICAgICAgICAgIGNwW2ldLmNhbGxiYWNrKGxhc3QpXG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsgdGhyb3cgZSB9LCAwKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSwgTWF0aC5yb3VuZChuZXh0KSlcbiAgICB9XG4gICAgcXVldWUucHVzaCh7XG4gICAgICBoYW5kbGU6ICsraWQsXG4gICAgICBjYWxsYmFjazogY2FsbGJhY2ssXG4gICAgICBjYW5jZWxsZWQ6IGZhbHNlXG4gICAgfSlcbiAgICByZXR1cm4gaWRcbiAgfVxuXG4gIGNhZiA9IGZ1bmN0aW9uKGhhbmRsZSkge1xuICAgIGZvcih2YXIgaSA9IDA7IGkgPCBxdWV1ZS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYocXVldWVbaV0uaGFuZGxlID09PSBoYW5kbGUpIHtcbiAgICAgICAgcXVldWVbaV0uY2FuY2VsbGVkID0gdHJ1ZVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZuKSB7XG4gIC8vIFdyYXAgaW4gYSBuZXcgZnVuY3Rpb24gdG8gcHJldmVudFxuICAvLyBgY2FuY2VsYCBwb3RlbnRpYWxseSBiZWluZyBhc3NpZ25lZFxuICAvLyB0byB0aGUgbmF0aXZlIHJBRiBmdW5jdGlvblxuICByZXR1cm4gcmFmLmNhbGwocm9vdCwgZm4pXG59XG5tb2R1bGUuZXhwb3J0cy5jYW5jZWwgPSBmdW5jdGlvbigpIHtcbiAgY2FmLmFwcGx5KHJvb3QsIGFyZ3VtZW50cylcbn1cbm1vZHVsZS5leHBvcnRzLnBvbHlmaWxsID0gZnVuY3Rpb24ob2JqZWN0KSB7XG4gIGlmICghb2JqZWN0KSB7XG4gICAgb2JqZWN0ID0gcm9vdDtcbiAgfVxuICBvYmplY3QucmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gcmFmXG4gIG9iamVjdC5jYW5jZWxBbmltYXRpb25GcmFtZSA9IGNhZlxufVxuIiwiaW1wb3J0IF90eXBlb2YgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3R5cGVvZic7XG5pbXBvcnQgRXZlbnQgZnJvbSAnLi9FdmVudCc7XG5pbXBvcnQgY2xhc3NlcyBmcm9tICdjb21wb25lbnQtY2xhc3Nlcyc7XG5cbnZhciBpc0Nzc0FuaW1hdGlvblN1cHBvcnRlZCA9IEV2ZW50LmVuZEV2ZW50cy5sZW5ndGggIT09IDA7XG52YXIgY2FwaXRhbFByZWZpeGVzID0gWydXZWJraXQnLCAnTW96JywgJ08nLFxuLy8gbXMgaXMgc3BlY2lhbCAuLi4uICFcbidtcyddO1xudmFyIHByZWZpeGVzID0gWyctd2Via2l0LScsICctbW96LScsICctby0nLCAnbXMtJywgJyddO1xuXG5mdW5jdGlvbiBnZXRTdHlsZVByb3BlcnR5KG5vZGUsIG5hbWUpIHtcbiAgLy8gb2xkIGZmIG5lZWQgbnVsbCwgaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL1dpbmRvdy9nZXRDb21wdXRlZFN0eWxlXG4gIHZhciBzdHlsZSA9IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKG5vZGUsIG51bGwpO1xuICB2YXIgcmV0ID0gJyc7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICByZXQgPSBzdHlsZS5nZXRQcm9wZXJ0eVZhbHVlKHByZWZpeGVzW2ldICsgbmFtZSk7XG4gICAgaWYgKHJldCkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGZpeEJyb3dzZXJCeVRpbWVvdXQobm9kZSkge1xuICBpZiAoaXNDc3NBbmltYXRpb25TdXBwb3J0ZWQpIHtcbiAgICB2YXIgdHJhbnNpdGlvbkRlbGF5ID0gcGFyc2VGbG9hdChnZXRTdHlsZVByb3BlcnR5KG5vZGUsICd0cmFuc2l0aW9uLWRlbGF5JykpIHx8IDA7XG4gICAgdmFyIHRyYW5zaXRpb25EdXJhdGlvbiA9IHBhcnNlRmxvYXQoZ2V0U3R5bGVQcm9wZXJ0eShub2RlLCAndHJhbnNpdGlvbi1kdXJhdGlvbicpKSB8fCAwO1xuICAgIHZhciBhbmltYXRpb25EZWxheSA9IHBhcnNlRmxvYXQoZ2V0U3R5bGVQcm9wZXJ0eShub2RlLCAnYW5pbWF0aW9uLWRlbGF5JykpIHx8IDA7XG4gICAgdmFyIGFuaW1hdGlvbkR1cmF0aW9uID0gcGFyc2VGbG9hdChnZXRTdHlsZVByb3BlcnR5KG5vZGUsICdhbmltYXRpb24tZHVyYXRpb24nKSkgfHwgMDtcbiAgICB2YXIgdGltZSA9IE1hdGgubWF4KHRyYW5zaXRpb25EdXJhdGlvbiArIHRyYW5zaXRpb25EZWxheSwgYW5pbWF0aW9uRHVyYXRpb24gKyBhbmltYXRpb25EZWxheSk7XG4gICAgLy8gc29tZXRpbWVzLCBicm93c2VyIGJ1Z1xuICAgIG5vZGUucmNFbmRBbmltVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgbm9kZS5yY0VuZEFuaW1UaW1lb3V0ID0gbnVsbDtcbiAgICAgIGlmIChub2RlLnJjRW5kTGlzdGVuZXIpIHtcbiAgICAgICAgbm9kZS5yY0VuZExpc3RlbmVyKCk7XG4gICAgICB9XG4gICAgfSwgdGltZSAqIDEwMDAgKyAyMDApO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNsZWFyQnJvd3NlckJ1Z1RpbWVvdXQobm9kZSkge1xuICBpZiAobm9kZS5yY0VuZEFuaW1UaW1lb3V0KSB7XG4gICAgY2xlYXJUaW1lb3V0KG5vZGUucmNFbmRBbmltVGltZW91dCk7XG4gICAgbm9kZS5yY0VuZEFuaW1UaW1lb3V0ID0gbnVsbDtcbiAgfVxufVxuXG52YXIgY3NzQW5pbWF0aW9uID0gZnVuY3Rpb24gY3NzQW5pbWF0aW9uKG5vZGUsIHRyYW5zaXRpb25OYW1lLCBlbmRDYWxsYmFjaykge1xuICB2YXIgbmFtZUlzT2JqID0gKHR5cGVvZiB0cmFuc2l0aW9uTmFtZSA9PT0gJ3VuZGVmaW5lZCcgPyAndW5kZWZpbmVkJyA6IF90eXBlb2YodHJhbnNpdGlvbk5hbWUpKSA9PT0gJ29iamVjdCc7XG4gIHZhciBjbGFzc05hbWUgPSBuYW1lSXNPYmogPyB0cmFuc2l0aW9uTmFtZS5uYW1lIDogdHJhbnNpdGlvbk5hbWU7XG4gIHZhciBhY3RpdmVDbGFzc05hbWUgPSBuYW1lSXNPYmogPyB0cmFuc2l0aW9uTmFtZS5hY3RpdmUgOiB0cmFuc2l0aW9uTmFtZSArICctYWN0aXZlJztcbiAgdmFyIGVuZCA9IGVuZENhbGxiYWNrO1xuICB2YXIgc3RhcnQgPSB2b2lkIDA7XG4gIHZhciBhY3RpdmUgPSB2b2lkIDA7XG4gIHZhciBub2RlQ2xhc3NlcyA9IGNsYXNzZXMobm9kZSk7XG5cbiAgaWYgKGVuZENhbGxiYWNrICYmIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChlbmRDYWxsYmFjaykgPT09ICdbb2JqZWN0IE9iamVjdF0nKSB7XG4gICAgZW5kID0gZW5kQ2FsbGJhY2suZW5kO1xuICAgIHN0YXJ0ID0gZW5kQ2FsbGJhY2suc3RhcnQ7XG4gICAgYWN0aXZlID0gZW5kQ2FsbGJhY2suYWN0aXZlO1xuICB9XG5cbiAgaWYgKG5vZGUucmNFbmRMaXN0ZW5lcikge1xuICAgIG5vZGUucmNFbmRMaXN0ZW5lcigpO1xuICB9XG5cbiAgbm9kZS5yY0VuZExpc3RlbmVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICBpZiAoZSAmJiBlLnRhcmdldCAhPT0gbm9kZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChub2RlLnJjQW5pbVRpbWVvdXQpIHtcbiAgICAgIGNsZWFyVGltZW91dChub2RlLnJjQW5pbVRpbWVvdXQpO1xuICAgICAgbm9kZS5yY0FuaW1UaW1lb3V0ID0gbnVsbDtcbiAgICB9XG5cbiAgICBjbGVhckJyb3dzZXJCdWdUaW1lb3V0KG5vZGUpO1xuXG4gICAgbm9kZUNsYXNzZXMucmVtb3ZlKGNsYXNzTmFtZSk7XG4gICAgbm9kZUNsYXNzZXMucmVtb3ZlKGFjdGl2ZUNsYXNzTmFtZSk7XG5cbiAgICBFdmVudC5yZW1vdmVFbmRFdmVudExpc3RlbmVyKG5vZGUsIG5vZGUucmNFbmRMaXN0ZW5lcik7XG4gICAgbm9kZS5yY0VuZExpc3RlbmVyID0gbnVsbDtcblxuICAgIC8vIFVzdWFsbHkgdGhpcyBvcHRpb25hbCBlbmQgaXMgdXNlZCBmb3IgaW5mb3JtaW5nIGFuIG93bmVyIG9mXG4gICAgLy8gYSBsZWF2ZSBhbmltYXRpb24gYW5kIHRlbGxpbmcgaXQgdG8gcmVtb3ZlIHRoZSBjaGlsZC5cbiAgICBpZiAoZW5kKSB7XG4gICAgICBlbmQoKTtcbiAgICB9XG4gIH07XG5cbiAgRXZlbnQuYWRkRW5kRXZlbnRMaXN0ZW5lcihub2RlLCBub2RlLnJjRW5kTGlzdGVuZXIpO1xuXG4gIGlmIChzdGFydCkge1xuICAgIHN0YXJ0KCk7XG4gIH1cbiAgbm9kZUNsYXNzZXMuYWRkKGNsYXNzTmFtZSk7XG5cbiAgbm9kZS5yY0FuaW1UaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgbm9kZS5yY0FuaW1UaW1lb3V0ID0gbnVsbDtcbiAgICBub2RlQ2xhc3Nlcy5hZGQoYWN0aXZlQ2xhc3NOYW1lKTtcbiAgICBpZiAoYWN0aXZlKSB7XG4gICAgICBzZXRUaW1lb3V0KGFjdGl2ZSwgMCk7XG4gICAgfVxuICAgIGZpeEJyb3dzZXJCeVRpbWVvdXQobm9kZSk7XG4gICAgLy8gMzBtcyBmb3IgZmlyZWZveFxuICB9LCAzMCk7XG5cbiAgcmV0dXJuIHtcbiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkge1xuICAgICAgaWYgKG5vZGUucmNFbmRMaXN0ZW5lcikge1xuICAgICAgICBub2RlLnJjRW5kTGlzdGVuZXIoKTtcbiAgICAgIH1cbiAgICB9XG4gIH07XG59O1xuXG5jc3NBbmltYXRpb24uc3R5bGUgPSBmdW5jdGlvbiAobm9kZSwgc3R5bGUsIGNhbGxiYWNrKSB7XG4gIGlmIChub2RlLnJjRW5kTGlzdGVuZXIpIHtcbiAgICBub2RlLnJjRW5kTGlzdGVuZXIoKTtcbiAgfVxuXG4gIG5vZGUucmNFbmRMaXN0ZW5lciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgaWYgKGUgJiYgZS50YXJnZXQgIT09IG5vZGUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAobm9kZS5yY0FuaW1UaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQobm9kZS5yY0FuaW1UaW1lb3V0KTtcbiAgICAgIG5vZGUucmNBbmltVGltZW91dCA9IG51bGw7XG4gICAgfVxuXG4gICAgY2xlYXJCcm93c2VyQnVnVGltZW91dChub2RlKTtcblxuICAgIEV2ZW50LnJlbW92ZUVuZEV2ZW50TGlzdGVuZXIobm9kZSwgbm9kZS5yY0VuZExpc3RlbmVyKTtcbiAgICBub2RlLnJjRW5kTGlzdGVuZXIgPSBudWxsO1xuXG4gICAgLy8gVXN1YWxseSB0aGlzIG9wdGlvbmFsIGNhbGxiYWNrIGlzIHVzZWQgZm9yIGluZm9ybWluZyBhbiBvd25lciBvZlxuICAgIC8vIGEgbGVhdmUgYW5pbWF0aW9uIGFuZCB0ZWxsaW5nIGl0IHRvIHJlbW92ZSB0aGUgY2hpbGQuXG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfTtcblxuICBFdmVudC5hZGRFbmRFdmVudExpc3RlbmVyKG5vZGUsIG5vZGUucmNFbmRMaXN0ZW5lcik7XG5cbiAgbm9kZS5yY0FuaW1UaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgZm9yICh2YXIgcyBpbiBzdHlsZSkge1xuICAgICAgaWYgKHN0eWxlLmhhc093blByb3BlcnR5KHMpKSB7XG4gICAgICAgIG5vZGUuc3R5bGVbc10gPSBzdHlsZVtzXTtcbiAgICAgIH1cbiAgICB9XG4gICAgbm9kZS5yY0FuaW1UaW1lb3V0ID0gbnVsbDtcbiAgICBmaXhCcm93c2VyQnlUaW1lb3V0KG5vZGUpO1xuICB9LCAwKTtcbn07XG5cbmNzc0FuaW1hdGlvbi5zZXRUcmFuc2l0aW9uID0gZnVuY3Rpb24gKG5vZGUsIHAsIHZhbHVlKSB7XG4gIHZhciBwcm9wZXJ0eSA9IHA7XG4gIHZhciB2ID0gdmFsdWU7XG4gIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdiA9IHByb3BlcnR5O1xuICAgIHByb3BlcnR5ID0gJyc7XG4gIH1cbiAgcHJvcGVydHkgPSBwcm9wZXJ0eSB8fCAnJztcbiAgY2FwaXRhbFByZWZpeGVzLmZvckVhY2goZnVuY3Rpb24gKHByZWZpeCkge1xuICAgIG5vZGUuc3R5bGVbcHJlZml4ICsgJ1RyYW5zaXRpb24nICsgcHJvcGVydHldID0gdjtcbiAgfSk7XG59O1xuXG5jc3NBbmltYXRpb24uaXNDc3NBbmltYXRpb25TdXBwb3J0ZWQgPSBpc0Nzc0FuaW1hdGlvblN1cHBvcnRlZDtcblxuZXhwb3J0IHsgaXNDc3NBbmltYXRpb25TdXBwb3J0ZWQgfTtcblxuZXhwb3J0IGRlZmF1bHQgY3NzQW5pbWF0aW9uOyIsIi8qKlxuICogTW9kdWxlIGRlcGVuZGVuY2llcy5cbiAqL1xuXG50cnkge1xuICB2YXIgaW5kZXggPSByZXF1aXJlKCdpbmRleG9mJyk7XG59IGNhdGNoIChlcnIpIHtcbiAgdmFyIGluZGV4ID0gcmVxdWlyZSgnY29tcG9uZW50LWluZGV4b2YnKTtcbn1cblxuLyoqXG4gKiBXaGl0ZXNwYWNlIHJlZ2V4cC5cbiAqL1xuXG52YXIgcmUgPSAvXFxzKy87XG5cbi8qKlxuICogdG9TdHJpbmcgcmVmZXJlbmNlLlxuICovXG5cbnZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbi8qKlxuICogV3JhcCBgZWxgIGluIGEgYENsYXNzTGlzdGAuXG4gKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbFxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGVsKXtcbiAgcmV0dXJuIG5ldyBDbGFzc0xpc3QoZWwpO1xufTtcblxuLyoqXG4gKiBJbml0aWFsaXplIGEgbmV3IENsYXNzTGlzdCBmb3IgYGVsYC5cbiAqXG4gKiBAcGFyYW0ge0VsZW1lbnR9IGVsXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBDbGFzc0xpc3QoZWwpIHtcbiAgaWYgKCFlbCB8fCAhZWwubm9kZVR5cGUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0EgRE9NIGVsZW1lbnQgcmVmZXJlbmNlIGlzIHJlcXVpcmVkJyk7XG4gIH1cbiAgdGhpcy5lbCA9IGVsO1xuICB0aGlzLmxpc3QgPSBlbC5jbGFzc0xpc3Q7XG59XG5cbi8qKlxuICogQWRkIGNsYXNzIGBuYW1lYCBpZiBub3QgYWxyZWFkeSBwcmVzZW50LlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24obmFtZSl7XG4gIC8vIGNsYXNzTGlzdFxuICBpZiAodGhpcy5saXN0KSB7XG4gICAgdGhpcy5saXN0LmFkZChuYW1lKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGZhbGxiYWNrXG4gIHZhciBhcnIgPSB0aGlzLmFycmF5KCk7XG4gIHZhciBpID0gaW5kZXgoYXJyLCBuYW1lKTtcbiAgaWYgKCF+aSkgYXJyLnB1c2gobmFtZSk7XG4gIHRoaXMuZWwuY2xhc3NOYW1lID0gYXJyLmpvaW4oJyAnKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJlbW92ZSBjbGFzcyBgbmFtZWAgd2hlbiBwcmVzZW50LCBvclxuICogcGFzcyBhIHJlZ3VsYXIgZXhwcmVzc2lvbiB0byByZW1vdmVcbiAqIGFueSB3aGljaCBtYXRjaC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xSZWdFeHB9IG5hbWVcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuQ2xhc3NMaXN0LnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbihuYW1lKXtcbiAgaWYgKCdbb2JqZWN0IFJlZ0V4cF0nID09IHRvU3RyaW5nLmNhbGwobmFtZSkpIHtcbiAgICByZXR1cm4gdGhpcy5yZW1vdmVNYXRjaGluZyhuYW1lKTtcbiAgfVxuXG4gIC8vIGNsYXNzTGlzdFxuICBpZiAodGhpcy5saXN0KSB7XG4gICAgdGhpcy5saXN0LnJlbW92ZShuYW1lKTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIGZhbGxiYWNrXG4gIHZhciBhcnIgPSB0aGlzLmFycmF5KCk7XG4gIHZhciBpID0gaW5kZXgoYXJyLCBuYW1lKTtcbiAgaWYgKH5pKSBhcnIuc3BsaWNlKGksIDEpO1xuICB0aGlzLmVsLmNsYXNzTmFtZSA9IGFyci5qb2luKCcgJyk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgYWxsIGNsYXNzZXMgbWF0Y2hpbmcgYHJlYC5cbiAqXG4gKiBAcGFyYW0ge1JlZ0V4cH0gcmVcbiAqIEByZXR1cm4ge0NsYXNzTGlzdH1cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUucmVtb3ZlTWF0Y2hpbmcgPSBmdW5jdGlvbihyZSl7XG4gIHZhciBhcnIgPSB0aGlzLmFycmF5KCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHJlLnRlc3QoYXJyW2ldKSkge1xuICAgICAgdGhpcy5yZW1vdmUoYXJyW2ldKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFRvZ2dsZSBjbGFzcyBgbmFtZWAsIGNhbiBmb3JjZSBzdGF0ZSB2aWEgYGZvcmNlYC5cbiAqXG4gKiBGb3IgYnJvd3NlcnMgdGhhdCBzdXBwb3J0IGNsYXNzTGlzdCwgYnV0IGRvIG5vdCBzdXBwb3J0IGBmb3JjZWAgeWV0LFxuICogdGhlIG1pc3Rha2Ugd2lsbCBiZSBkZXRlY3RlZCBhbmQgY29ycmVjdGVkLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGZvcmNlXG4gKiBAcmV0dXJuIHtDbGFzc0xpc3R9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUudG9nZ2xlID0gZnVuY3Rpb24obmFtZSwgZm9yY2Upe1xuICAvLyBjbGFzc0xpc3RcbiAgaWYgKHRoaXMubGlzdCkge1xuICAgIGlmIChcInVuZGVmaW5lZFwiICE9PSB0eXBlb2YgZm9yY2UpIHtcbiAgICAgIGlmIChmb3JjZSAhPT0gdGhpcy5saXN0LnRvZ2dsZShuYW1lLCBmb3JjZSkpIHtcbiAgICAgICAgdGhpcy5saXN0LnRvZ2dsZShuYW1lKTsgLy8gdG9nZ2xlIGFnYWluIHRvIGNvcnJlY3RcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5saXN0LnRvZ2dsZShuYW1lKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyBmYWxsYmFja1xuICBpZiAoXCJ1bmRlZmluZWRcIiAhPT0gdHlwZW9mIGZvcmNlKSB7XG4gICAgaWYgKCFmb3JjZSkge1xuICAgICAgdGhpcy5yZW1vdmUobmFtZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWRkKG5hbWUpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAodGhpcy5oYXMobmFtZSkpIHtcbiAgICAgIHRoaXMucmVtb3ZlKG5hbWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFkZChuYW1lKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcztcbn07XG5cbi8qKlxuICogUmV0dXJuIGFuIGFycmF5IG9mIGNsYXNzZXMuXG4gKlxuICogQHJldHVybiB7QXJyYXl9XG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbkNsYXNzTGlzdC5wcm90b3R5cGUuYXJyYXkgPSBmdW5jdGlvbigpe1xuICB2YXIgY2xhc3NOYW1lID0gdGhpcy5lbC5nZXRBdHRyaWJ1dGUoJ2NsYXNzJykgfHwgJyc7XG4gIHZhciBzdHIgPSBjbGFzc05hbWUucmVwbGFjZSgvXlxccyt8XFxzKyQvZywgJycpO1xuICB2YXIgYXJyID0gc3RyLnNwbGl0KHJlKTtcbiAgaWYgKCcnID09PSBhcnJbMF0pIGFyci5zaGlmdCgpO1xuICByZXR1cm4gYXJyO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiBjbGFzcyBgbmFtZWAgaXMgcHJlc2VudC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gbmFtZVxuICogQHJldHVybiB7Q2xhc3NMaXN0fVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5DbGFzc0xpc3QucHJvdG90eXBlLmhhcyA9XG5DbGFzc0xpc3QucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24obmFtZSl7XG4gIHJldHVybiB0aGlzLmxpc3RcbiAgICA/IHRoaXMubGlzdC5jb250YWlucyhuYW1lKVxuICAgIDogISEgfmluZGV4KHRoaXMuYXJyYXkoKSwgbmFtZSk7XG59O1xuIiwibW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihhcnIsIG9iail7XG4gIGlmIChhcnIuaW5kZXhPZikgcmV0dXJuIGFyci5pbmRleE9mKG9iaik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKGFycltpXSA9PT0gb2JqKSByZXR1cm4gaTtcbiAgfVxuICByZXR1cm4gLTE7XG59OyIsIid1c2Ugc3RyaWN0JztcblxudmFyIHV0aWwgPSByZXF1aXJlKCcuL3V0aWwnKTtcblxuZnVuY3Rpb24gc2Nyb2xsSW50b1ZpZXcoZWxlbSwgY29udGFpbmVyLCBjb25maWcpIHtcbiAgY29uZmlnID0gY29uZmlnIHx8IHt9O1xuICAvLyBkb2N1bWVudCDlvZLkuIDljJbliLAgd2luZG93XG4gIGlmIChjb250YWluZXIubm9kZVR5cGUgPT09IDkpIHtcbiAgICBjb250YWluZXIgPSB1dGlsLmdldFdpbmRvdyhjb250YWluZXIpO1xuICB9XG5cbiAgdmFyIGFsbG93SG9yaXpvbnRhbFNjcm9sbCA9IGNvbmZpZy5hbGxvd0hvcml6b250YWxTY3JvbGw7XG4gIHZhciBvbmx5U2Nyb2xsSWZOZWVkZWQgPSBjb25maWcub25seVNjcm9sbElmTmVlZGVkO1xuICB2YXIgYWxpZ25XaXRoVG9wID0gY29uZmlnLmFsaWduV2l0aFRvcDtcbiAgdmFyIGFsaWduV2l0aExlZnQgPSBjb25maWcuYWxpZ25XaXRoTGVmdDtcbiAgdmFyIG9mZnNldFRvcCA9IGNvbmZpZy5vZmZzZXRUb3AgfHwgMDtcbiAgdmFyIG9mZnNldExlZnQgPSBjb25maWcub2Zmc2V0TGVmdCB8fCAwO1xuICB2YXIgb2Zmc2V0Qm90dG9tID0gY29uZmlnLm9mZnNldEJvdHRvbSB8fCAwO1xuICB2YXIgb2Zmc2V0UmlnaHQgPSBjb25maWcub2Zmc2V0UmlnaHQgfHwgMDtcblxuICBhbGxvd0hvcml6b250YWxTY3JvbGwgPSBhbGxvd0hvcml6b250YWxTY3JvbGwgPT09IHVuZGVmaW5lZCA/IHRydWUgOiBhbGxvd0hvcml6b250YWxTY3JvbGw7XG5cbiAgdmFyIGlzV2luID0gdXRpbC5pc1dpbmRvdyhjb250YWluZXIpO1xuICB2YXIgZWxlbU9mZnNldCA9IHV0aWwub2Zmc2V0KGVsZW0pO1xuICB2YXIgZWggPSB1dGlsLm91dGVySGVpZ2h0KGVsZW0pO1xuICB2YXIgZXcgPSB1dGlsLm91dGVyV2lkdGgoZWxlbSk7XG4gIHZhciBjb250YWluZXJPZmZzZXQgPSB1bmRlZmluZWQ7XG4gIHZhciBjaCA9IHVuZGVmaW5lZDtcbiAgdmFyIGN3ID0gdW5kZWZpbmVkO1xuICB2YXIgY29udGFpbmVyU2Nyb2xsID0gdW5kZWZpbmVkO1xuICB2YXIgZGlmZlRvcCA9IHVuZGVmaW5lZDtcbiAgdmFyIGRpZmZCb3R0b20gPSB1bmRlZmluZWQ7XG4gIHZhciB3aW4gPSB1bmRlZmluZWQ7XG4gIHZhciB3aW5TY3JvbGwgPSB1bmRlZmluZWQ7XG4gIHZhciB3dyA9IHVuZGVmaW5lZDtcbiAgdmFyIHdoID0gdW5kZWZpbmVkO1xuXG4gIGlmIChpc1dpbikge1xuICAgIHdpbiA9IGNvbnRhaW5lcjtcbiAgICB3aCA9IHV0aWwuaGVpZ2h0KHdpbik7XG4gICAgd3cgPSB1dGlsLndpZHRoKHdpbik7XG4gICAgd2luU2Nyb2xsID0ge1xuICAgICAgbGVmdDogdXRpbC5zY3JvbGxMZWZ0KHdpbiksXG4gICAgICB0b3A6IHV0aWwuc2Nyb2xsVG9wKHdpbilcbiAgICB9O1xuICAgIC8vIGVsZW0g55u45a+5IGNvbnRhaW5lciDlj6/op4bop4bnqpfnmoTot53nprtcbiAgICBkaWZmVG9wID0ge1xuICAgICAgbGVmdDogZWxlbU9mZnNldC5sZWZ0IC0gd2luU2Nyb2xsLmxlZnQgLSBvZmZzZXRMZWZ0LFxuICAgICAgdG9wOiBlbGVtT2Zmc2V0LnRvcCAtIHdpblNjcm9sbC50b3AgLSBvZmZzZXRUb3BcbiAgICB9O1xuICAgIGRpZmZCb3R0b20gPSB7XG4gICAgICBsZWZ0OiBlbGVtT2Zmc2V0LmxlZnQgKyBldyAtICh3aW5TY3JvbGwubGVmdCArIHd3KSArIG9mZnNldFJpZ2h0LFxuICAgICAgdG9wOiBlbGVtT2Zmc2V0LnRvcCArIGVoIC0gKHdpblNjcm9sbC50b3AgKyB3aCkgKyBvZmZzZXRCb3R0b21cbiAgICB9O1xuICAgIGNvbnRhaW5lclNjcm9sbCA9IHdpblNjcm9sbDtcbiAgfSBlbHNlIHtcbiAgICBjb250YWluZXJPZmZzZXQgPSB1dGlsLm9mZnNldChjb250YWluZXIpO1xuICAgIGNoID0gY29udGFpbmVyLmNsaWVudEhlaWdodDtcbiAgICBjdyA9IGNvbnRhaW5lci5jbGllbnRXaWR0aDtcbiAgICBjb250YWluZXJTY3JvbGwgPSB7XG4gICAgICBsZWZ0OiBjb250YWluZXIuc2Nyb2xsTGVmdCxcbiAgICAgIHRvcDogY29udGFpbmVyLnNjcm9sbFRvcFxuICAgIH07XG4gICAgLy8gZWxlbSDnm7jlr7kgY29udGFpbmVyIOWPr+inhuinhueql+eahOi3neemu1xuICAgIC8vIOazqOaEj+i+ueahhiwgb2Zmc2V0IOaYr+i+ueahhuWIsOagueiKgueCuVxuICAgIGRpZmZUb3AgPSB7XG4gICAgICBsZWZ0OiBlbGVtT2Zmc2V0LmxlZnQgLSAoY29udGFpbmVyT2Zmc2V0LmxlZnQgKyAocGFyc2VGbG9hdCh1dGlsLmNzcyhjb250YWluZXIsICdib3JkZXJMZWZ0V2lkdGgnKSkgfHwgMCkpIC0gb2Zmc2V0TGVmdCxcbiAgICAgIHRvcDogZWxlbU9mZnNldC50b3AgLSAoY29udGFpbmVyT2Zmc2V0LnRvcCArIChwYXJzZUZsb2F0KHV0aWwuY3NzKGNvbnRhaW5lciwgJ2JvcmRlclRvcFdpZHRoJykpIHx8IDApKSAtIG9mZnNldFRvcFxuICAgIH07XG4gICAgZGlmZkJvdHRvbSA9IHtcbiAgICAgIGxlZnQ6IGVsZW1PZmZzZXQubGVmdCArIGV3IC0gKGNvbnRhaW5lck9mZnNldC5sZWZ0ICsgY3cgKyAocGFyc2VGbG9hdCh1dGlsLmNzcyhjb250YWluZXIsICdib3JkZXJSaWdodFdpZHRoJykpIHx8IDApKSArIG9mZnNldFJpZ2h0LFxuICAgICAgdG9wOiBlbGVtT2Zmc2V0LnRvcCArIGVoIC0gKGNvbnRhaW5lck9mZnNldC50b3AgKyBjaCArIChwYXJzZUZsb2F0KHV0aWwuY3NzKGNvbnRhaW5lciwgJ2JvcmRlckJvdHRvbVdpZHRoJykpIHx8IDApKSArIG9mZnNldEJvdHRvbVxuICAgIH07XG4gIH1cblxuICBpZiAoZGlmZlRvcC50b3AgPCAwIHx8IGRpZmZCb3R0b20udG9wID4gMCkge1xuICAgIC8vIOW8uuWItuWQkeS4ilxuICAgIGlmIChhbGlnbldpdGhUb3AgPT09IHRydWUpIHtcbiAgICAgIHV0aWwuc2Nyb2xsVG9wKGNvbnRhaW5lciwgY29udGFpbmVyU2Nyb2xsLnRvcCArIGRpZmZUb3AudG9wKTtcbiAgICB9IGVsc2UgaWYgKGFsaWduV2l0aFRvcCA9PT0gZmFsc2UpIHtcbiAgICAgIHV0aWwuc2Nyb2xsVG9wKGNvbnRhaW5lciwgY29udGFpbmVyU2Nyb2xsLnRvcCArIGRpZmZCb3R0b20udG9wKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8g6Ieq5Yqo6LCD5pW0XG4gICAgICBpZiAoZGlmZlRvcC50b3AgPCAwKSB7XG4gICAgICAgIHV0aWwuc2Nyb2xsVG9wKGNvbnRhaW5lciwgY29udGFpbmVyU2Nyb2xsLnRvcCArIGRpZmZUb3AudG9wKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHV0aWwuc2Nyb2xsVG9wKGNvbnRhaW5lciwgY29udGFpbmVyU2Nyb2xsLnRvcCArIGRpZmZCb3R0b20udG9wKTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKCFvbmx5U2Nyb2xsSWZOZWVkZWQpIHtcbiAgICAgIGFsaWduV2l0aFRvcCA9IGFsaWduV2l0aFRvcCA9PT0gdW5kZWZpbmVkID8gdHJ1ZSA6ICEhYWxpZ25XaXRoVG9wO1xuICAgICAgaWYgKGFsaWduV2l0aFRvcCkge1xuICAgICAgICB1dGlsLnNjcm9sbFRvcChjb250YWluZXIsIGNvbnRhaW5lclNjcm9sbC50b3AgKyBkaWZmVG9wLnRvcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1dGlsLnNjcm9sbFRvcChjb250YWluZXIsIGNvbnRhaW5lclNjcm9sbC50b3AgKyBkaWZmQm90dG9tLnRvcCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGFsbG93SG9yaXpvbnRhbFNjcm9sbCkge1xuICAgIGlmIChkaWZmVG9wLmxlZnQgPCAwIHx8IGRpZmZCb3R0b20ubGVmdCA+IDApIHtcbiAgICAgIC8vIOW8uuWItuWQkeS4ilxuICAgICAgaWYgKGFsaWduV2l0aExlZnQgPT09IHRydWUpIHtcbiAgICAgICAgdXRpbC5zY3JvbGxMZWZ0KGNvbnRhaW5lciwgY29udGFpbmVyU2Nyb2xsLmxlZnQgKyBkaWZmVG9wLmxlZnQpO1xuICAgICAgfSBlbHNlIGlmIChhbGlnbldpdGhMZWZ0ID09PSBmYWxzZSkge1xuICAgICAgICB1dGlsLnNjcm9sbExlZnQoY29udGFpbmVyLCBjb250YWluZXJTY3JvbGwubGVmdCArIGRpZmZCb3R0b20ubGVmdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyDoh6rliqjosIPmlbRcbiAgICAgICAgaWYgKGRpZmZUb3AubGVmdCA8IDApIHtcbiAgICAgICAgICB1dGlsLnNjcm9sbExlZnQoY29udGFpbmVyLCBjb250YWluZXJTY3JvbGwubGVmdCArIGRpZmZUb3AubGVmdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXRpbC5zY3JvbGxMZWZ0KGNvbnRhaW5lciwgY29udGFpbmVyU2Nyb2xsLmxlZnQgKyBkaWZmQm90dG9tLmxlZnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghb25seVNjcm9sbElmTmVlZGVkKSB7XG4gICAgICAgIGFsaWduV2l0aExlZnQgPSBhbGlnbldpdGhMZWZ0ID09PSB1bmRlZmluZWQgPyB0cnVlIDogISFhbGlnbldpdGhMZWZ0O1xuICAgICAgICBpZiAoYWxpZ25XaXRoTGVmdCkge1xuICAgICAgICAgIHV0aWwuc2Nyb2xsTGVmdChjb250YWluZXIsIGNvbnRhaW5lclNjcm9sbC5sZWZ0ICsgZGlmZlRvcC5sZWZ0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1dGlsLnNjcm9sbExlZnQoY29udGFpbmVyLCBjb250YWluZXJTY3JvbGwubGVmdCArIGRpZmZCb3R0b20ubGVmdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzY3JvbGxJbnRvVmlldzsiLCIndXNlIHN0cmljdCc7XG5cbnZhciBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07XG5cbnZhciBfdHlwZW9mID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIgPyBmdW5jdGlvbiAob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9IDogZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCA/IFwic3ltYm9sXCIgOiB0eXBlb2Ygb2JqOyB9O1xuXG52YXIgUkVfTlVNID0gL1tcXC0rXT8oPzpcXGQqXFwufClcXGQrKD86W2VFXVtcXC0rXT9cXGQrfCkvLnNvdXJjZTtcblxuZnVuY3Rpb24gZ2V0Q2xpZW50UG9zaXRpb24oZWxlbSkge1xuICB2YXIgYm94ID0gdW5kZWZpbmVkO1xuICB2YXIgeCA9IHVuZGVmaW5lZDtcbiAgdmFyIHkgPSB1bmRlZmluZWQ7XG4gIHZhciBkb2MgPSBlbGVtLm93bmVyRG9jdW1lbnQ7XG4gIHZhciBib2R5ID0gZG9jLmJvZHk7XG4gIHZhciBkb2NFbGVtID0gZG9jICYmIGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gIC8vIOagueaNriBHQlMg5pyA5paw5pWw5o2u77yMQS1HcmFkZSBCcm93c2VycyDpg73lt7LmlK/mjIEgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IOaWueazle+8jOS4jeeUqOWGjeiAg+iZkeS8oOe7n+eahOWunueOsOaWueW8j1xuICBib3ggPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gIC8vIOazqO+8mmpRdWVyeSDov5jogIPomZHlh4/ljrsgZG9jRWxlbS5jbGllbnRMZWZ0L2NsaWVudFRvcFxuICAvLyDkvYbmtYvor5Xlj5HnjrDvvIzov5nmoLflj43ogIzkvJrlr7zoh7TlvZMgaHRtbCDlkowgYm9keSDmnInovrnot50v6L655qGG5qC35byP5pe277yM6I635Y+W55qE5YC85LiN5q2j56GuXG4gIC8vIOatpOWklu+8jGllNiDkvJrlv73nlaUgaHRtbCDnmoQgbWFyZ2luIOWAvO+8jOW5uOi/kOWcsOaYr+ayoeacieiwgeS8muWOu+iuvue9riBodG1sIOeahCBtYXJnaW5cblxuICB4ID0gYm94LmxlZnQ7XG4gIHkgPSBib3gudG9wO1xuXG4gIC8vIEluIElFLCBtb3N0IG9mIHRoZSB0aW1lLCAyIGV4dHJhIHBpeGVscyBhcmUgYWRkZWQgdG8gdGhlIHRvcCBhbmQgbGVmdFxuICAvLyBkdWUgdG8gdGhlIGltcGxpY2l0IDItcGl4ZWwgaW5zZXQgYm9yZGVyLiAgSW4gSUU2LzcgcXVpcmtzIG1vZGUgYW5kXG4gIC8vIElFNiBzdGFuZGFyZHMgbW9kZSwgdGhpcyBib3JkZXIgY2FuIGJlIG92ZXJyaWRkZW4gYnkgc2V0dGluZyB0aGVcbiAgLy8gZG9jdW1lbnQgZWxlbWVudCdzIGJvcmRlciB0byB6ZXJvIC0tIHRodXMsIHdlIGNhbm5vdCByZWx5IG9uIHRoZVxuICAvLyBvZmZzZXQgYWx3YXlzIGJlaW5nIDIgcGl4ZWxzLlxuXG4gIC8vIEluIHF1aXJrcyBtb2RlLCB0aGUgb2Zmc2V0IGNhbiBiZSBkZXRlcm1pbmVkIGJ5IHF1ZXJ5aW5nIHRoZSBib2R5J3NcbiAgLy8gY2xpZW50TGVmdC9jbGllbnRUb3AsIGJ1dCBpbiBzdGFuZGFyZHMgbW9kZSwgaXQgaXMgZm91bmQgYnkgcXVlcnlpbmdcbiAgLy8gdGhlIGRvY3VtZW50IGVsZW1lbnQncyBjbGllbnRMZWZ0L2NsaWVudFRvcC4gIFNpbmNlIHdlIGFscmVhZHkgY2FsbGVkXG4gIC8vIGdldENsaWVudEJvdW5kaW5nUmVjdCB3ZSBoYXZlIGFscmVhZHkgZm9yY2VkIGEgcmVmbG93LCBzbyBpdCBpcyBub3RcbiAgLy8gdG9vIGV4cGVuc2l2ZSBqdXN0IHRvIHF1ZXJ5IHRoZW0gYWxsLlxuXG4gIC8vIGllIOS4i+W6lOivpeWHj+WOu+eql+WPo+eahOi+ueahhuWQp++8jOavleern+m7mOiupCBhYnNvbHV0ZSDpg73mmK/nm7jlr7nnqpflj6PlrprkvY3nmoRcbiAgLy8g56qX5Y+j6L655qGG5qCH5YeG5piv6K6+IGRvY3VtZW50RWxlbWVudCAscXVpcmtzIOaXtuiuvue9riBib2R5XG4gIC8vIOacgOWlveemgeatouWcqCBib2R5IOWSjCBodG1sIOS4iui+ueahhiDvvIzkvYYgaWUgPCA5IGh0bWwg6buY6K6k5pyJIDJweCDvvIzlh4/ljrtcbiAgLy8g5L2G5piv6Z2eIGllIOS4jeWPr+iDveiuvue9rueql+WPo+i+ueahhu+8jGJvZHkgaHRtbCDkuZ/kuI3mmK/nqpflj6MgLGllIOWPr+S7pemAmui/hyBodG1sLGJvZHkg6K6+572uXG4gIC8vIOagh+WHhiBpZSDkuIsgZG9jRWxlbS5jbGllbnRUb3Ag5bCx5pivIGJvcmRlci10b3BcbiAgLy8gaWU3IGh0bWwg5Y2z56qX5Y+j6L655qGG5pS55Y+Y5LiN5LqG44CC5rC46L+c5Li6IDJcbiAgLy8g5L2G5qCH5YeGIGZpcmVmb3gvY2hyb21lL2llOSDkuIsgZG9jRWxlbS5jbGllbnRUb3Ag5piv56qX5Y+j6L655qGG77yM5Y2z5L2/6K6+5LqGIGJvcmRlci10b3Ag5Lmf5Li6IDBcblxuICB4IC09IGRvY0VsZW0uY2xpZW50TGVmdCB8fCBib2R5LmNsaWVudExlZnQgfHwgMDtcbiAgeSAtPSBkb2NFbGVtLmNsaWVudFRvcCB8fCBib2R5LmNsaWVudFRvcCB8fCAwO1xuXG4gIHJldHVybiB7XG4gICAgbGVmdDogeCxcbiAgICB0b3A6IHlcbiAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0U2Nyb2xsKHcsIHRvcCkge1xuICB2YXIgcmV0ID0gd1sncGFnZScgKyAodG9wID8gJ1knIDogJ1gnKSArICdPZmZzZXQnXTtcbiAgdmFyIG1ldGhvZCA9ICdzY3JvbGwnICsgKHRvcCA/ICdUb3AnIDogJ0xlZnQnKTtcbiAgaWYgKHR5cGVvZiByZXQgIT09ICdudW1iZXInKSB7XG4gICAgdmFyIGQgPSB3LmRvY3VtZW50O1xuICAgIC8vIGllNiw3LDggc3RhbmRhcmQgbW9kZVxuICAgIHJldCA9IGQuZG9jdW1lbnRFbGVtZW50W21ldGhvZF07XG4gICAgaWYgKHR5cGVvZiByZXQgIT09ICdudW1iZXInKSB7XG4gICAgICAvLyBxdWlya3MgbW9kZVxuICAgICAgcmV0ID0gZC5ib2R5W21ldGhvZF07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIGdldFNjcm9sbExlZnQodykge1xuICByZXR1cm4gZ2V0U2Nyb2xsKHcpO1xufVxuXG5mdW5jdGlvbiBnZXRTY3JvbGxUb3Aodykge1xuICByZXR1cm4gZ2V0U2Nyb2xsKHcsIHRydWUpO1xufVxuXG5mdW5jdGlvbiBnZXRPZmZzZXQoZWwpIHtcbiAgdmFyIHBvcyA9IGdldENsaWVudFBvc2l0aW9uKGVsKTtcbiAgdmFyIGRvYyA9IGVsLm93bmVyRG9jdW1lbnQ7XG4gIHZhciB3ID0gZG9jLmRlZmF1bHRWaWV3IHx8IGRvYy5wYXJlbnRXaW5kb3c7XG4gIHBvcy5sZWZ0ICs9IGdldFNjcm9sbExlZnQodyk7XG4gIHBvcy50b3AgKz0gZ2V0U2Nyb2xsVG9wKHcpO1xuICByZXR1cm4gcG9zO1xufVxuZnVuY3Rpb24gX2dldENvbXB1dGVkU3R5bGUoZWxlbSwgbmFtZSwgY29tcHV0ZWRTdHlsZV8pIHtcbiAgdmFyIHZhbCA9ICcnO1xuICB2YXIgZCA9IGVsZW0ub3duZXJEb2N1bWVudDtcbiAgdmFyIGNvbXB1dGVkU3R5bGUgPSBjb21wdXRlZFN0eWxlXyB8fCBkLmRlZmF1bHRWaWV3LmdldENvbXB1dGVkU3R5bGUoZWxlbSwgbnVsbCk7XG5cbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL2tpc3N5dGVhbS9raXNzeS9pc3N1ZXMvNjFcbiAgaWYgKGNvbXB1dGVkU3R5bGUpIHtcbiAgICB2YWwgPSBjb21wdXRlZFN0eWxlLmdldFByb3BlcnR5VmFsdWUobmFtZSkgfHwgY29tcHV0ZWRTdHlsZVtuYW1lXTtcbiAgfVxuXG4gIHJldHVybiB2YWw7XG59XG5cbnZhciBfUkVfTlVNX05PX1BYID0gbmV3IFJlZ0V4cCgnXignICsgUkVfTlVNICsgJykoPyFweClbYS16JV0rJCcsICdpJyk7XG52YXIgUkVfUE9TID0gL14odG9wfHJpZ2h0fGJvdHRvbXxsZWZ0KSQvO1xudmFyIENVUlJFTlRfU1RZTEUgPSAnY3VycmVudFN0eWxlJztcbnZhciBSVU5USU1FX1NUWUxFID0gJ3J1bnRpbWVTdHlsZSc7XG52YXIgTEVGVCA9ICdsZWZ0JztcbnZhciBQWCA9ICdweCc7XG5cbmZ1bmN0aW9uIF9nZXRDb21wdXRlZFN0eWxlSUUoZWxlbSwgbmFtZSkge1xuICAvLyBjdXJyZW50U3R5bGUgbWF5YmUgbnVsbFxuICAvLyBodHRwOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvbXM1MzUyMzEuYXNweFxuICB2YXIgcmV0ID0gZWxlbVtDVVJSRU5UX1NUWUxFXSAmJiBlbGVtW0NVUlJFTlRfU1RZTEVdW25hbWVdO1xuXG4gIC8vIOW9kyB3aWR0aC9oZWlnaHQg6K6+572u5Li655m+5YiG5q+U5pe277yM6YCa6L+HIHBpeGVsTGVmdCDmlrnlvI/ovazmjaLnmoQgd2lkdGgvaGVpZ2h0IOWAvFxuICAvLyDkuIDlvIDlp4vlsLHlpITnkIbkuoYhIENVU1RPTV9TVFlMRS5oZWlnaHQsQ1VTVE9NX1NUWUxFLndpZHRoICxjc3NIb29rIOino+WGs0AyMDExLTA4LTE5XG4gIC8vIOWcqCBpZSDkuIvkuI3lr7nvvIzpnIDopoHnm7TmjqXnlKggb2Zmc2V0IOaWueW8j1xuICAvLyBib3JkZXJXaWR0aCDnrYnlgLzkuZ/mnInpl67popjvvIzkvYbogIPomZHliLAgYm9yZGVyV2lkdGgg6K6+5Li655m+5YiG5q+U55qE5qaC546H5b6I5bCP77yM6L+Z6YeM5bCx5LiN6ICD6JmR5LqGXG5cbiAgLy8gRnJvbSB0aGUgYXdlc29tZSBoYWNrIGJ5IERlYW4gRWR3YXJkc1xuICAvLyBodHRwOi8vZXJpay5lYWUubmV0L2FyY2hpdmVzLzIwMDcvMDcvMjcvMTguNTQuMTUvI2NvbW1lbnQtMTAyMjkxXG4gIC8vIElmIHdlJ3JlIG5vdCBkZWFsaW5nIHdpdGggYSByZWd1bGFyIHBpeGVsIG51bWJlclxuICAvLyBidXQgYSBudW1iZXIgdGhhdCBoYXMgYSB3ZWlyZCBlbmRpbmcsIHdlIG5lZWQgdG8gY29udmVydCBpdCB0byBwaXhlbHNcbiAgLy8gZXhjbHVkZSBsZWZ0IHJpZ2h0IGZvciByZWxhdGl2aXR5XG4gIGlmIChfUkVfTlVNX05PX1BYLnRlc3QocmV0KSAmJiAhUkVfUE9TLnRlc3QobmFtZSkpIHtcbiAgICAvLyBSZW1lbWJlciB0aGUgb3JpZ2luYWwgdmFsdWVzXG4gICAgdmFyIHN0eWxlID0gZWxlbS5zdHlsZTtcbiAgICB2YXIgbGVmdCA9IHN0eWxlW0xFRlRdO1xuICAgIHZhciByc0xlZnQgPSBlbGVtW1JVTlRJTUVfU1RZTEVdW0xFRlRdO1xuXG4gICAgLy8gcHJldmVudCBmbGFzaGluZyBvZiBjb250ZW50XG4gICAgZWxlbVtSVU5USU1FX1NUWUxFXVtMRUZUXSA9IGVsZW1bQ1VSUkVOVF9TVFlMRV1bTEVGVF07XG5cbiAgICAvLyBQdXQgaW4gdGhlIG5ldyB2YWx1ZXMgdG8gZ2V0IGEgY29tcHV0ZWQgdmFsdWUgb3V0XG4gICAgc3R5bGVbTEVGVF0gPSBuYW1lID09PSAnZm9udFNpemUnID8gJzFlbScgOiByZXQgfHwgMDtcbiAgICByZXQgPSBzdHlsZS5waXhlbExlZnQgKyBQWDtcblxuICAgIC8vIFJldmVydCB0aGUgY2hhbmdlZCB2YWx1ZXNcbiAgICBzdHlsZVtMRUZUXSA9IGxlZnQ7XG5cbiAgICBlbGVtW1JVTlRJTUVfU1RZTEVdW0xFRlRdID0gcnNMZWZ0O1xuICB9XG4gIHJldHVybiByZXQgPT09ICcnID8gJ2F1dG8nIDogcmV0O1xufVxuXG52YXIgZ2V0Q29tcHV0ZWRTdHlsZVggPSB1bmRlZmluZWQ7XG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgZ2V0Q29tcHV0ZWRTdHlsZVggPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA/IF9nZXRDb21wdXRlZFN0eWxlIDogX2dldENvbXB1dGVkU3R5bGVJRTtcbn1cblxuZnVuY3Rpb24gZWFjaChhcnIsIGZuKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7XG4gICAgZm4oYXJyW2ldKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0JvcmRlckJveEZuKGVsZW0pIHtcbiAgcmV0dXJuIGdldENvbXB1dGVkU3R5bGVYKGVsZW0sICdib3hTaXppbmcnKSA9PT0gJ2JvcmRlci1ib3gnO1xufVxuXG52YXIgQk9YX01PREVMUyA9IFsnbWFyZ2luJywgJ2JvcmRlcicsICdwYWRkaW5nJ107XG52YXIgQ09OVEVOVF9JTkRFWCA9IC0xO1xudmFyIFBBRERJTkdfSU5ERVggPSAyO1xudmFyIEJPUkRFUl9JTkRFWCA9IDE7XG52YXIgTUFSR0lOX0lOREVYID0gMDtcblxuZnVuY3Rpb24gc3dhcChlbGVtLCBvcHRpb25zLCBjYWxsYmFjaykge1xuICB2YXIgb2xkID0ge307XG4gIHZhciBzdHlsZSA9IGVsZW0uc3R5bGU7XG4gIHZhciBuYW1lID0gdW5kZWZpbmVkO1xuXG4gIC8vIFJlbWVtYmVyIHRoZSBvbGQgdmFsdWVzLCBhbmQgaW5zZXJ0IHRoZSBuZXcgb25lc1xuICBmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBvbGRbbmFtZV0gPSBzdHlsZVtuYW1lXTtcbiAgICAgIHN0eWxlW25hbWVdID0gb3B0aW9uc1tuYW1lXTtcbiAgICB9XG4gIH1cblxuICBjYWxsYmFjay5jYWxsKGVsZW0pO1xuXG4gIC8vIFJldmVydCB0aGUgb2xkIHZhbHVlc1xuICBmb3IgKG5hbWUgaW4gb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBzdHlsZVtuYW1lXSA9IG9sZFtuYW1lXTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZ2V0UEJNV2lkdGgoZWxlbSwgcHJvcHMsIHdoaWNoKSB7XG4gIHZhciB2YWx1ZSA9IDA7XG4gIHZhciBwcm9wID0gdW5kZWZpbmVkO1xuICB2YXIgaiA9IHVuZGVmaW5lZDtcbiAgdmFyIGkgPSB1bmRlZmluZWQ7XG4gIGZvciAoaiA9IDA7IGogPCBwcm9wcy5sZW5ndGg7IGorKykge1xuICAgIHByb3AgPSBwcm9wc1tqXTtcbiAgICBpZiAocHJvcCkge1xuICAgICAgZm9yIChpID0gMDsgaSA8IHdoaWNoLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjc3NQcm9wID0gdW5kZWZpbmVkO1xuICAgICAgICBpZiAocHJvcCA9PT0gJ2JvcmRlcicpIHtcbiAgICAgICAgICBjc3NQcm9wID0gcHJvcCArIHdoaWNoW2ldICsgJ1dpZHRoJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjc3NQcm9wID0gcHJvcCArIHdoaWNoW2ldO1xuICAgICAgICB9XG4gICAgICAgIHZhbHVlICs9IHBhcnNlRmxvYXQoZ2V0Q29tcHV0ZWRTdHlsZVgoZWxlbSwgY3NzUHJvcCkpIHx8IDA7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBBIGNydWRlIHdheSBvZiBkZXRlcm1pbmluZyBpZiBhbiBvYmplY3QgaXMgYSB3aW5kb3dcbiAqIEBtZW1iZXIgdXRpbFxuICovXG5mdW5jdGlvbiBpc1dpbmRvdyhvYmopIHtcbiAgLy8gbXVzdCB1c2UgPT0gZm9yIGllOFxuICAvKiBlc2xpbnQgZXFlcWVxOjAgKi9cbiAgcmV0dXJuIG9iaiAhPSBudWxsICYmIG9iaiA9PSBvYmoud2luZG93O1xufVxuXG52YXIgZG9tVXRpbHMgPSB7fTtcblxuZWFjaChbJ1dpZHRoJywgJ0hlaWdodCddLCBmdW5jdGlvbiAobmFtZSkge1xuICBkb21VdGlsc1snZG9jJyArIG5hbWVdID0gZnVuY3Rpb24gKHJlZldpbikge1xuICAgIHZhciBkID0gcmVmV2luLmRvY3VtZW50O1xuICAgIHJldHVybiBNYXRoLm1heChcbiAgICAvLyBmaXJlZm94IGNocm9tZSBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0PCBib2R5LnNjcm9sbEhlaWdodFxuICAgIC8vIGllIHN0YW5kYXJkIG1vZGUgOiBkb2N1bWVudEVsZW1lbnQuc2Nyb2xsSGVpZ2h0PiBib2R5LnNjcm9sbEhlaWdodFxuICAgIGQuZG9jdW1lbnRFbGVtZW50WydzY3JvbGwnICsgbmFtZV0sXG4gICAgLy8gcXVpcmtzIDogZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodCDmnIDlpKfnrYnkuo7lj6/op4bnqpflj6PlpJrkuIDngrnvvJ9cbiAgICBkLmJvZHlbJ3Njcm9sbCcgKyBuYW1lXSwgZG9tVXRpbHNbJ3ZpZXdwb3J0JyArIG5hbWVdKGQpKTtcbiAgfTtcblxuICBkb21VdGlsc1sndmlld3BvcnQnICsgbmFtZV0gPSBmdW5jdGlvbiAod2luKSB7XG4gICAgLy8gcGMgYnJvd3NlciBpbmNsdWRlcyBzY3JvbGxiYXIgaW4gd2luZG93LmlubmVyV2lkdGhcbiAgICB2YXIgcHJvcCA9ICdjbGllbnQnICsgbmFtZTtcbiAgICB2YXIgZG9jID0gd2luLmRvY3VtZW50O1xuICAgIHZhciBib2R5ID0gZG9jLmJvZHk7XG4gICAgdmFyIGRvY3VtZW50RWxlbWVudCA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgdmFyIGRvY3VtZW50RWxlbWVudFByb3AgPSBkb2N1bWVudEVsZW1lbnRbcHJvcF07XG4gICAgLy8g5qCH5YeG5qih5byP5Y+WIGRvY3VtZW50RWxlbWVudFxuICAgIC8vIGJhY2tjb21wYXQg5Y+WIGJvZHlcbiAgICByZXR1cm4gZG9jLmNvbXBhdE1vZGUgPT09ICdDU1MxQ29tcGF0JyAmJiBkb2N1bWVudEVsZW1lbnRQcm9wIHx8IGJvZHkgJiYgYm9keVtwcm9wXSB8fCBkb2N1bWVudEVsZW1lbnRQcm9wO1xuICB9O1xufSk7XG5cbi8qXG4g5b6X5Yiw5YWD57Sg55qE5aSn5bCP5L+h5oGvXG4gQHBhcmFtIGVsZW1cbiBAcGFyYW0gbmFtZVxuIEBwYXJhbSB7U3RyaW5nfSBbZXh0cmFdICAncGFkZGluZycgOiAoY3NzIHdpZHRoKSArIHBhZGRpbmdcbiAnYm9yZGVyJyA6IChjc3Mgd2lkdGgpICsgcGFkZGluZyArIGJvcmRlclxuICdtYXJnaW4nIDogKGNzcyB3aWR0aCkgKyBwYWRkaW5nICsgYm9yZGVyICsgbWFyZ2luXG4gKi9cbmZ1bmN0aW9uIGdldFdIKGVsZW0sIG5hbWUsIGV4dHJhKSB7XG4gIGlmIChpc1dpbmRvdyhlbGVtKSkge1xuICAgIHJldHVybiBuYW1lID09PSAnd2lkdGgnID8gZG9tVXRpbHMudmlld3BvcnRXaWR0aChlbGVtKSA6IGRvbVV0aWxzLnZpZXdwb3J0SGVpZ2h0KGVsZW0pO1xuICB9IGVsc2UgaWYgKGVsZW0ubm9kZVR5cGUgPT09IDkpIHtcbiAgICByZXR1cm4gbmFtZSA9PT0gJ3dpZHRoJyA/IGRvbVV0aWxzLmRvY1dpZHRoKGVsZW0pIDogZG9tVXRpbHMuZG9jSGVpZ2h0KGVsZW0pO1xuICB9XG4gIHZhciB3aGljaCA9IG5hbWUgPT09ICd3aWR0aCcgPyBbJ0xlZnQnLCAnUmlnaHQnXSA6IFsnVG9wJywgJ0JvdHRvbSddO1xuICB2YXIgYm9yZGVyQm94VmFsdWUgPSBuYW1lID09PSAnd2lkdGgnID8gZWxlbS5vZmZzZXRXaWR0aCA6IGVsZW0ub2Zmc2V0SGVpZ2h0O1xuICB2YXIgY29tcHV0ZWRTdHlsZSA9IGdldENvbXB1dGVkU3R5bGVYKGVsZW0pO1xuICB2YXIgaXNCb3JkZXJCb3ggPSBpc0JvcmRlckJveEZuKGVsZW0sIGNvbXB1dGVkU3R5bGUpO1xuICB2YXIgY3NzQm94VmFsdWUgPSAwO1xuICBpZiAoYm9yZGVyQm94VmFsdWUgPT0gbnVsbCB8fCBib3JkZXJCb3hWYWx1ZSA8PSAwKSB7XG4gICAgYm9yZGVyQm94VmFsdWUgPSB1bmRlZmluZWQ7XG4gICAgLy8gRmFsbCBiYWNrIHRvIGNvbXB1dGVkIHRoZW4gdW4gY29tcHV0ZWQgY3NzIGlmIG5lY2Vzc2FyeVxuICAgIGNzc0JveFZhbHVlID0gZ2V0Q29tcHV0ZWRTdHlsZVgoZWxlbSwgbmFtZSk7XG4gICAgaWYgKGNzc0JveFZhbHVlID09IG51bGwgfHwgTnVtYmVyKGNzc0JveFZhbHVlKSA8IDApIHtcbiAgICAgIGNzc0JveFZhbHVlID0gZWxlbS5zdHlsZVtuYW1lXSB8fCAwO1xuICAgIH1cbiAgICAvLyBOb3JtYWxpemUgJycsIGF1dG8sIGFuZCBwcmVwYXJlIGZvciBleHRyYVxuICAgIGNzc0JveFZhbHVlID0gcGFyc2VGbG9hdChjc3NCb3hWYWx1ZSkgfHwgMDtcbiAgfVxuICBpZiAoZXh0cmEgPT09IHVuZGVmaW5lZCkge1xuICAgIGV4dHJhID0gaXNCb3JkZXJCb3ggPyBCT1JERVJfSU5ERVggOiBDT05URU5UX0lOREVYO1xuICB9XG4gIHZhciBib3JkZXJCb3hWYWx1ZU9ySXNCb3JkZXJCb3ggPSBib3JkZXJCb3hWYWx1ZSAhPT0gdW5kZWZpbmVkIHx8IGlzQm9yZGVyQm94O1xuICB2YXIgdmFsID0gYm9yZGVyQm94VmFsdWUgfHwgY3NzQm94VmFsdWU7XG4gIGlmIChleHRyYSA9PT0gQ09OVEVOVF9JTkRFWCkge1xuICAgIGlmIChib3JkZXJCb3hWYWx1ZU9ySXNCb3JkZXJCb3gpIHtcbiAgICAgIHJldHVybiB2YWwgLSBnZXRQQk1XaWR0aChlbGVtLCBbJ2JvcmRlcicsICdwYWRkaW5nJ10sIHdoaWNoLCBjb21wdXRlZFN0eWxlKTtcbiAgICB9XG4gICAgcmV0dXJuIGNzc0JveFZhbHVlO1xuICB9XG4gIGlmIChib3JkZXJCb3hWYWx1ZU9ySXNCb3JkZXJCb3gpIHtcbiAgICB2YXIgcGFkZGluZyA9IGV4dHJhID09PSBQQURESU5HX0lOREVYID8gLWdldFBCTVdpZHRoKGVsZW0sIFsnYm9yZGVyJ10sIHdoaWNoLCBjb21wdXRlZFN0eWxlKSA6IGdldFBCTVdpZHRoKGVsZW0sIFsnbWFyZ2luJ10sIHdoaWNoLCBjb21wdXRlZFN0eWxlKTtcbiAgICByZXR1cm4gdmFsICsgKGV4dHJhID09PSBCT1JERVJfSU5ERVggPyAwIDogcGFkZGluZyk7XG4gIH1cbiAgcmV0dXJuIGNzc0JveFZhbHVlICsgZ2V0UEJNV2lkdGgoZWxlbSwgQk9YX01PREVMUy5zbGljZShleHRyYSksIHdoaWNoLCBjb21wdXRlZFN0eWxlKTtcbn1cblxudmFyIGNzc1Nob3cgPSB7XG4gIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgZGlzcGxheTogJ2Jsb2NrJ1xufTtcblxuLy8gZml4ICMxMTkgOiBodHRwczovL2dpdGh1Yi5jb20va2lzc3l0ZWFtL2tpc3N5L2lzc3Vlcy8xMTlcbmZ1bmN0aW9uIGdldFdISWdub3JlRGlzcGxheShlbGVtKSB7XG4gIHZhciB2YWwgPSB1bmRlZmluZWQ7XG4gIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAvLyBpbiBjYXNlIGVsZW0gaXMgd2luZG93XG4gIC8vIGVsZW0ub2Zmc2V0V2lkdGggPT09IHVuZGVmaW5lZFxuICBpZiAoZWxlbS5vZmZzZXRXaWR0aCAhPT0gMCkge1xuICAgIHZhbCA9IGdldFdILmFwcGx5KHVuZGVmaW5lZCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgc3dhcChlbGVtLCBjc3NTaG93LCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YWwgPSBnZXRXSC5hcHBseSh1bmRlZmluZWQsIGFyZ3MpO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiB2YWw7XG59XG5cbmZ1bmN0aW9uIGNzcyhlbCwgbmFtZSwgdikge1xuICB2YXIgdmFsdWUgPSB2O1xuICBpZiAoKHR5cGVvZiBuYW1lID09PSAndW5kZWZpbmVkJyA/ICd1bmRlZmluZWQnIDogX3R5cGVvZihuYW1lKSkgPT09ICdvYmplY3QnKSB7XG4gICAgZm9yICh2YXIgaSBpbiBuYW1lKSB7XG4gICAgICBpZiAobmFtZS5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICBjc3MoZWwsIGksIG5hbWVbaV0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicpIHtcbiAgICAgIHZhbHVlICs9ICdweCc7XG4gICAgfVxuICAgIGVsLnN0eWxlW25hbWVdID0gdmFsdWU7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4gZ2V0Q29tcHV0ZWRTdHlsZVgoZWwsIG5hbWUpO1xufVxuXG5lYWNoKFsnd2lkdGgnLCAnaGVpZ2h0J10sIGZ1bmN0aW9uIChuYW1lKSB7XG4gIHZhciBmaXJzdCA9IG5hbWUuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBuYW1lLnNsaWNlKDEpO1xuICBkb21VdGlsc1snb3V0ZXInICsgZmlyc3RdID0gZnVuY3Rpb24gKGVsLCBpbmNsdWRlTWFyZ2luKSB7XG4gICAgcmV0dXJuIGVsICYmIGdldFdISWdub3JlRGlzcGxheShlbCwgbmFtZSwgaW5jbHVkZU1hcmdpbiA/IE1BUkdJTl9JTkRFWCA6IEJPUkRFUl9JTkRFWCk7XG4gIH07XG4gIHZhciB3aGljaCA9IG5hbWUgPT09ICd3aWR0aCcgPyBbJ0xlZnQnLCAnUmlnaHQnXSA6IFsnVG9wJywgJ0JvdHRvbSddO1xuXG4gIGRvbVV0aWxzW25hbWVdID0gZnVuY3Rpb24gKGVsZW0sIHZhbCkge1xuICAgIGlmICh2YWwgIT09IHVuZGVmaW5lZCkge1xuICAgICAgaWYgKGVsZW0pIHtcbiAgICAgICAgdmFyIGNvbXB1dGVkU3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlWChlbGVtKTtcbiAgICAgICAgdmFyIGlzQm9yZGVyQm94ID0gaXNCb3JkZXJCb3hGbihlbGVtKTtcbiAgICAgICAgaWYgKGlzQm9yZGVyQm94KSB7XG4gICAgICAgICAgdmFsICs9IGdldFBCTVdpZHRoKGVsZW0sIFsncGFkZGluZycsICdib3JkZXInXSwgd2hpY2gsIGNvbXB1dGVkU3R5bGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjc3MoZWxlbSwgbmFtZSwgdmFsKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIHJldHVybiBlbGVtICYmIGdldFdISWdub3JlRGlzcGxheShlbGVtLCBuYW1lLCBDT05URU5UX0lOREVYKTtcbiAgfTtcbn0pO1xuXG4vLyDorr7nva4gZWxlbSDnm7jlr7kgZWxlbS5vd25lckRvY3VtZW50IOeahOWdkOagh1xuZnVuY3Rpb24gc2V0T2Zmc2V0KGVsZW0sIG9mZnNldCkge1xuICAvLyBzZXQgcG9zaXRpb24gZmlyc3QsIGluLWNhc2UgdG9wL2xlZnQgYXJlIHNldCBldmVuIG9uIHN0YXRpYyBlbGVtXG4gIGlmIChjc3MoZWxlbSwgJ3Bvc2l0aW9uJykgPT09ICdzdGF0aWMnKSB7XG4gICAgZWxlbS5zdHlsZS5wb3NpdGlvbiA9ICdyZWxhdGl2ZSc7XG4gIH1cblxuICB2YXIgb2xkID0gZ2V0T2Zmc2V0KGVsZW0pO1xuICB2YXIgcmV0ID0ge307XG4gIHZhciBjdXJyZW50ID0gdW5kZWZpbmVkO1xuICB2YXIga2V5ID0gdW5kZWZpbmVkO1xuXG4gIGZvciAoa2V5IGluIG9mZnNldCkge1xuICAgIGlmIChvZmZzZXQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgY3VycmVudCA9IHBhcnNlRmxvYXQoY3NzKGVsZW0sIGtleSkpIHx8IDA7XG4gICAgICByZXRba2V5XSA9IGN1cnJlbnQgKyBvZmZzZXRba2V5XSAtIG9sZFtrZXldO1xuICAgIH1cbiAgfVxuICBjc3MoZWxlbSwgcmV0KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBfZXh0ZW5kcyh7XG4gIGdldFdpbmRvdzogZnVuY3Rpb24gZ2V0V2luZG93KG5vZGUpIHtcbiAgICB2YXIgZG9jID0gbm9kZS5vd25lckRvY3VtZW50IHx8IG5vZGU7XG4gICAgcmV0dXJuIGRvYy5kZWZhdWx0VmlldyB8fCBkb2MucGFyZW50V2luZG93O1xuICB9LFxuICBvZmZzZXQ6IGZ1bmN0aW9uIG9mZnNldChlbCwgdmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgc2V0T2Zmc2V0KGVsLCB2YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBnZXRPZmZzZXQoZWwpO1xuICAgIH1cbiAgfSxcblxuICBpc1dpbmRvdzogaXNXaW5kb3csXG4gIGVhY2g6IGVhY2gsXG4gIGNzczogY3NzLFxuICBjbG9uZTogZnVuY3Rpb24gY2xvbmUob2JqKSB7XG4gICAgdmFyIHJldCA9IHt9O1xuICAgIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGkpKSB7XG4gICAgICAgIHJldFtpXSA9IG9ialtpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIG92ZXJmbG93ID0gb2JqLm92ZXJmbG93O1xuICAgIGlmIChvdmVyZmxvdykge1xuICAgICAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShpKSkge1xuICAgICAgICAgIHJldC5vdmVyZmxvd1tpXSA9IG9iai5vdmVyZmxvd1tpXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmV0O1xuICB9LFxuICBzY3JvbGxMZWZ0OiBmdW5jdGlvbiBzY3JvbGxMZWZ0KHcsIHYpIHtcbiAgICBpZiAoaXNXaW5kb3codykpIHtcbiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGdldFNjcm9sbExlZnQodyk7XG4gICAgICB9XG4gICAgICB3aW5kb3cuc2Nyb2xsVG8odiwgZ2V0U2Nyb2xsVG9wKHcpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdy5zY3JvbGxMZWZ0O1xuICAgICAgfVxuICAgICAgdy5zY3JvbGxMZWZ0ID0gdjtcbiAgICB9XG4gIH0sXG4gIHNjcm9sbFRvcDogZnVuY3Rpb24gc2Nyb2xsVG9wKHcsIHYpIHtcbiAgICBpZiAoaXNXaW5kb3codykpIHtcbiAgICAgIGlmICh2ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIGdldFNjcm9sbFRvcCh3KTtcbiAgICAgIH1cbiAgICAgIHdpbmRvdy5zY3JvbGxUbyhnZXRTY3JvbGxMZWZ0KHcpLCB2KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXR1cm4gdy5zY3JvbGxUb3A7XG4gICAgICB9XG4gICAgICB3LnNjcm9sbFRvcCA9IHY7XG4gICAgfVxuICB9LFxuXG4gIHZpZXdwb3J0V2lkdGg6IDAsXG4gIHZpZXdwb3J0SGVpZ2h0OiAwXG59LCBkb21VdGlscyk7IiwiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjJcbihmdW5jdGlvbigpIHtcbiAgdmFyIGdldE5hbm9TZWNvbmRzLCBocnRpbWUsIGxvYWRUaW1lLCBtb2R1bGVMb2FkVGltZSwgbm9kZUxvYWRUaW1lLCB1cFRpbWU7XG5cbiAgaWYgKCh0eXBlb2YgcGVyZm9ybWFuY2UgIT09IFwidW5kZWZpbmVkXCIgJiYgcGVyZm9ybWFuY2UgIT09IG51bGwpICYmIHBlcmZvcm1hbmNlLm5vdykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfTtcbiAgfSBlbHNlIGlmICgodHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiYgcHJvY2VzcyAhPT0gbnVsbCkgJiYgcHJvY2Vzcy5ocnRpbWUpIHtcbiAgICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIChnZXROYW5vU2Vjb25kcygpIC0gbm9kZUxvYWRUaW1lKSAvIDFlNjtcbiAgICB9O1xuICAgIGhydGltZSA9IHByb2Nlc3MuaHJ0aW1lO1xuICAgIGdldE5hbm9TZWNvbmRzID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaHI7XG4gICAgICBociA9IGhydGltZSgpO1xuICAgICAgcmV0dXJuIGhyWzBdICogMWU5ICsgaHJbMV07XG4gICAgfTtcbiAgICBtb2R1bGVMb2FkVGltZSA9IGdldE5hbm9TZWNvbmRzKCk7XG4gICAgdXBUaW1lID0gcHJvY2Vzcy51cHRpbWUoKSAqIDFlOTtcbiAgICBub2RlTG9hZFRpbWUgPSBtb2R1bGVMb2FkVGltZSAtIHVwVGltZTtcbiAgfSBlbHNlIGlmIChEYXRlLm5vdykge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gRGF0ZS5ub3coKSAtIGxvYWRUaW1lO1xuICAgIH07XG4gICAgbG9hZFRpbWUgPSBEYXRlLm5vdygpO1xuICB9IGVsc2Uge1xuICAgIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSBsb2FkVGltZTtcbiAgICB9O1xuICAgIGxvYWRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIH1cblxufSkuY2FsbCh0aGlzKTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGVyZm9ybWFuY2Utbm93LmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIifQ==